"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2511],{2511:(E,v,o)=>{o.r(v),o.d(v,{TagesformErfassenPageModule:()=>p});var f=o(6895),m=o(4006),a=o(4881),c=o(2905),V=o(5861),e=o(6738),T=o(636),y=o(4323),b=o(535),B=o(1618),x=o(8490),I=o(998),S=o(4705);const C=function(r,t){return{ptRed:r,ptGreen:t}};function P(r,t){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",4)(1,"ion-card",5)(2,"ion-card-header"),e.\u0275\u0275element(3,"ion-img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content")(5,"ion-list"),e.\u0275\u0275elementContainerStart(6),e.\u0275\u0275elementStart(7,"ion-item")(8,"ion-label",7),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-text",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"ion-text",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"ion-range",10),e.\u0275\u0275listener("ionChange",function(i){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSelectionChange(i,"tagesformValue"))}),e.\u0275\u0275element(19,"ion-icon",11)(20,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(21),e.\u0275\u0275elementStart(22,"ion-item")(23,"ion-label",7),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ion-text",13),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"ion-text",9),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"ion-range",14),e.\u0275\u0275listener("ionChange",function(i){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSelectionChange(i,"erschoepfungsartValue"))}),e.\u0275\u0275element(34,"ion-img",15)(35,"ion-img",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(36),e.\u0275\u0275elementStart(37,"ion-item")(38,"ion-label",7),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"ion-text",8),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"translate"),e.\u0275\u0275pipe(44,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"ion-text",9),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"ion-range",17),e.\u0275\u0275listener("ionChange",function(i){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSelectionChange(i,"schlafValue"))}),e.\u0275\u0275element(49,"ion-icon",11)(50,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(51),e.\u0275\u0275elementStart(52,"ion-item")(53,"ion-label",7),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"ion-text",8),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275pipe(59,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"ion-text",9),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"ion-range",18),e.\u0275\u0275listener("ionChange",function(i){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onSelectionChange(i,"stimmungValue"))}),e.\u0275\u0275element(64,"ion-icon",11)(65,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()}if(2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",n.form),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,20,"tagesform-erfassen-page.tagesform")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(52,C,n.tagesformValue>3,n.tagesformValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,22,e.\u0275\u0275pipeBind1(14,24,n.tagesformValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,26,"tagesform-erfassen-page.tagesform-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.tagesformValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,28,"tagesform-erfassen-page.erschoepfungsart")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,30,e.\u0275\u0275pipeBind1(29,32,n.erschoepfungsartValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,34,"tagesform-erfassen-page.erschoepfungsart-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.erschoepfungsartValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(40,36,"tagesform-erfassen-page.schlaf")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(55,C,n.schlafValue>3,n.schlafValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,38,e.\u0275\u0275pipeBind1(44,40,n.schlafValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,42,"tagesform-erfassen-page.schlaf-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.schlafValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(55,44,"tagesform-erfassen-page.stimmung")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(58,C,n.stimmungValue>3,n.stimmungValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,46,e.\u0275\u0275pipeBind1(59,48,n.stimmungValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(62,50,"tagesform-erfassen-page.stimmung-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.stimmungValue)}}function M(r,t){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSubmit())}),e.\u0275\u0275elementStart(1,"ion-text",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&r&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,1,"tagesform-erfassen-page.tagesform-speichern")," "))}class u{constructor(t,n,l,i,s,d,h,j){this.fb=t,this.sqliteService=n,this.detailService=l,this.databaseCrudService=i,this.activatedRoute=s,this.router=d,this.toastService=h,this.translateService=j,this.tagesformValue=null,this.erschoepfungsartValue=null,this.schlafValue=null,this.stimmungValue=null,this.tagId=this.activatedRoute.snapshot.params.tagId}ngOnInit(){this.form=this.fb.group({tagesform:[],erschoepfungsart:[],schlaf:[],stimmung:[]})}ngAfterViewInit(){var t=this;return(0,V.Z)(function*(){yield t.loadTagesform()})()}loadTagesform(){this.databaseCrudService.getTagesformListbyTagId(this.tagId).then(t=>{var n,l,i,s;t.values&&(console.log(t),this.tagesformValue=null===(n=t.values[0])||void 0===n?void 0:n.tagesformValue,this.erschoepfungsartValue=null===(l=t.values[0])||void 0===l?void 0:l.erschoepfungsartValue,this.schlafValue=null===(i=t.values[0])||void 0===i?void 0:i.schlafValue,this.stimmungValue=null===(s=t.values[0])||void 0===s?void 0:s.stimmungValue,this.form.patchValue({erschoepfungsart:this.erschoepfungsartValue,tagesform:this.tagesformValue,schlaf:this.schlafValue,stimmung:this.stimmungValue}))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("tagesform-erfassen-page.error"))})}updateTagesform(){console.log(this.form.value.tagesform),console.log(this.form.value.erschoepfungsart),console.log(this.form),console.log(this.tagesformValue),console.log(this.erschoepfungsartValue),this.databaseCrudService.updateTagesformNames(this.tagId,this.form.value.tagesform,this.form.value.erschoepfungsart,this.form.value.schlaf,this.form.value.stimmung).then(t=>{var n,l,i,s,d,h;console.log(t),t.values&&(console.log(null===(n=t.values[0])||void 0===n?void 0:n.tagesformValue),console.log(null===(l=t.values[0])||void 0===l?void 0:l.erschoepfungsartValue),this.tagesformValue=null===(i=t.values[0])||void 0===i?void 0:i.tagesformValue,this.erschoepfungsartValue=null===(s=t.values[0])||void 0===s?void 0:s.erschoepfungsartValue,this.schlafValue=null===(d=t.values[0])||void 0===d?void 0:d.schlafValue,this.stimmungValue=null===(h=t.values[0])||void 0===h?void 0:h.stimmungValue,this.form.patchValue({erschoepfungsart:this.erschoepfungsartValue,tagesform:this.tagesformValue,schlaf:this.schlafValue,stimmung:this.stimmungValue})),this.toastService.showSuccessToast(this.translateService.instant("tagesform-erfassen-page.success"))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("tagesform-erfassen-page.error"))})}onSelectionChange(t,n){"tagesformValue"===n?this.tagesformValue=t.detail.value:"erschoepfungsartValue"===n?this.erschoepfungsartValue=t.detail.value:"schlafValue"===n?this.schlafValue=t.detail.value:"stimmungValue"===n&&(this.stimmungValue=t.detail.value)}onSubmit(){var t=this;return(0,V.Z)(function*(){yield t.updateTagesform(),yield t.loadTagesform(),yield t.router.navigateByUrl("/tabs/tagebuch-timeline")})()}}u.\u0275fac=function(t){return new(t||u)(e.\u0275\u0275directiveInject(m.UntypedFormBuilder),e.\u0275\u0275directiveInject(T.Y),e.\u0275\u0275directiveInject(y.X),e.\u0275\u0275directiveInject(b.y),e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(B.L),e.\u0275\u0275directiveInject(x.sK))},u.\u0275cmp=e.\u0275\u0275defineComponent({type:u,selectors:[["app-tagesform-erfassen"]],decls:13,vars:5,consts:[["slot","start"],[3,"formGroup",4,"ngIf"],[1,"ion-no-border"],["class","m-0 p-0 h-3 w-100 opacity-80","color","primary","expand","block","fill","clear","size","default",3,"click",4,"ngIf"],[3,"formGroup"],[1,"ion-flex-grow-1"],["src","assets/images/Smiley_Flatline.svg",1,"vh-25"],[1,"pt-font-12"],[1,"ion-text-end","pt-font-12","pt-bold",3,"ngClass"],[1,"pt-note-block","pt-padding-left-16"],["min","1","max","5","step","1","formControlName","tagesform","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","color","secondary","name","happy"],["slot","end","color","danger","name","sad"],[1,"ion-text-end","pt-font-12","pt-bold"],["min","1","max","5","step","1","formControlName","erschoepfungsart","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","src","assets/icon/brain-solid.svg",1,"ion-img-icon"],["slot","end","src","assets/icon/hand-paper-solid.svg",1,"ion-img-icon"],["min","1","max","5","step","1","formControlName","schlaf","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["min","1","max","5","step","1","formControlName","stimmung","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["color","primary","expand","block","fill","clear","size","default",1,"m-0","p-0","h-3","w-100","opacity-80",3,"click"],[1,"small","pt-button-text"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.\u0275\u0275element(3,"ion-back-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-content"),e.\u0275\u0275template(8,P,66,61,"form",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-footer",2)(10,"ion-row")(11,"ion-col"),e.\u0275\u0275template(12,M,4,3,"ion-button",3),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"tagesform-erfassen")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.form))},dependencies:[f.NgClass,f.NgIf,m.\u0275NgNoValidate,m.NgControlStatus,m.NgControlStatusGroup,a.IonBackButton,a.IonButton,a.IonButtons,a.IonCard,a.IonCardContent,a.IonCardHeader,a.IonCol,a.IonContent,a.IonFooter,a.IonHeader,a.IonIcon,a.IonImg,a.IonItem,a.IonLabel,a.IonList,a.IonRange,a.IonRow,a.IonText,a.IonTitle,a.IonToolbar,a.SelectValueAccessor,a.IonBackButtonDelegate,m.FormGroupDirective,m.FormControlName,x.X$,I.R,S.V],styles:[".ion-img-icon[_ngcontent-%COMP%]{width:24px;height:24px}.pt-padding-left-16[_ngcontent-%COMP%]{padding-left:16px}.pt-note-block[_ngcontent-%COMP%]{font-size:10px;color:#d3d3d3;display:block}.pt-font-16[_ngcontent-%COMP%]{font-size:16px}.pt-range-padding[_ngcontent-%COMP%]{padding-top:0;padding-bottom:30px!important}"]});const F=[{path:"",component:u}];class g{}g.\u0275fac=function(t){return new(t||g)},g.\u0275mod=e.\u0275\u0275defineNgModule({type:g}),g.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.Bz.forChild(F),c.Bz]});var N=o(1511);class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=e.\u0275\u0275defineInjector({providers:[I.R,S.V],imports:[f.CommonModule,m.FormsModule,a.IonicModule,g,x.aw,m.ReactiveFormsModule,N.m]})},1511:(E,v,o)=>{o.d(v,{m:()=>a});var f=o(6895),m=o(6738);class a{}a.\u0275fac=function(V){return new(V||a)},a.\u0275mod=m.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=m.\u0275\u0275defineInjector({imports:[f.CommonModule]})}}]);