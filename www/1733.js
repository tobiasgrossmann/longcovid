(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1733],{1733:(Ie,xe,y)=>{"use strict";y.r(xe),y.d(xe,{TagebuchTimelinePageModule:()=>je});var _e=y(9808),be=y(3075),N=y(2159),I=y(4030),g=y(5861),pe=y(7423);const re=(0,pe.fo)("Dialog",{web:()=>y.e(8897).then(y.bind(y,8897)).then(i=>new i.DialogWeb)});var le=y(1158),v=y(6408),F=y(6953),q=y(4147),fe=y(5729);const he=(0,pe.fo)("App",{web:()=>y.e(4477).then(y.bind(y,4477)).then(i=>new i.AppWeb)}),se=(0,pe.fo)("BackgroundTask",{web:()=>y.e(5598).then(y.bind(y,5598)).then(i=>new i.BackgroundTaskWeb)});var e=y(2096),Te=y(636),de=y(4323),ye=y(535),Ee=y(1618),Ce=y(3028);let ke=(()=>{let i=class{constructor(){this._papa=Ce}parse(t,n){return this._papa.parse(t,n)}unparse(t,n){return this._papa.unparse(t,n)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,e.\u0275\u0275defineInjectable)({factory:function(){return new i},token:i,providedIn:"root"}),i})();var me=y(9285),te=y(870),S=y(3738),o=y(998),a=y(4705),l=y(5339);let c=(()=>{class i{constructor(){}transform(t){if(t)return t.split(",").join(", ")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"commaBlankSeparator",type:i,pure:!0}),i})(),d=(()=>{class i{transform(t){if(t){const n=le(t);if(n instanceof le)return`${n.format("L")} ${n.format("LT")}`}return t}timeOnly(t){if(t){const n=le(t);if(n instanceof le)return`${n.format("LT")}`}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"dateTime",type:i,pure:!0}),i})();function b(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-title",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function T(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-title",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function j(i,s){1&i&&e.\u0275\u0275element(0,"ion-icon",34)}function O(i,s){1&i&&e.\u0275\u0275element(0,"ion-icon",35)}function m(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,j,1,0,"ion-icon",32),e.\u0275\u0275template(2,O,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275reference(3),n=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===r.symptomNames&&null===r.symptomNamesCheckboxes||null===n.vormittag&&null===n.mittag&&null===n.abend))("ngIfElse",t)}}function M(i,s){1&i&&e.\u0275\u0275element(0,"ion-icon",34)}function f(i,s){1&i&&e.\u0275\u0275element(0,"ion-icon",35)}function G(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,M,1,0,"ion-icon",32),e.\u0275\u0275template(2,f,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275reference(3),n=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!("null"===r.symptomNames&&"null"===r.symptomNamesCheckboxes||"null"===n.vormittag&&"null"===n.mittag&&"null"===n.abend))("ngIfElse",t)}}function Z(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,m,4,2,"ng-container",31),e.\u0275\u0275template(2,G,4,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os)}}function p(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Z,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2).index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n===t)}}function w(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,p,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function V(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,w,2,1,"ng-container",21),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.timelineTable.essen)}}function B(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,V,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function z(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function L(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.symptomNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function $(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,z,9,4,"ion-card",36),e.\u0275\u0275template(2,L,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function u(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function k(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275element(12,"br"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.symptomNamesCheckboxes,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function P(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,u,9,4,"ion-card",36),e.\u0275\u0275template(2,k,14,9,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function A(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$,3,2,"ng-container",31),e.\u0275\u0275template(2,P,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os)}}function x(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,A,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function C(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function R(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function h(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,C,9,4,"ion-card",36),e.\u0275\u0275template(2,R,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function ne(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function J(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function K(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ne,9,4,"ion-card",36),e.\u0275\u0275template(2,J,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function ie(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,h,3,2,"ng-container",31),e.\u0275\u0275template(2,K,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os)}}function X(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ie,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function H(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function W(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function ae(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,H,9,4,"ion-card",36),e.\u0275\u0275template(2,W,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function U(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function ce(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function ee(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,U,9,4,"ion-card",36),e.\u0275\u0275template(2,ce,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function Se(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ae,3,2,"ng-container",31),e.\u0275\u0275template(2,ee,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os)}}function ue(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Se,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function ve(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function ge(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function we(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ve,9,4,"ion-card",36),e.\u0275\u0275template(2,ge,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function Pe(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function De(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(3).$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",n.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function Oe(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Pe,9,4,"ion-card",36),e.\u0275\u0275template(2,De,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function Be(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,we,3,2,"ng-container",31),e.\u0275\u0275template(2,Oe,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os)}}function Re(i,s){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Be,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.id===t.tageid)}}function Me(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-row",18)(1,"ion-col",19)(2,"ion-row",20),e.\u0275\u0275template(3,B,2,1,"ng-container",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"ion-row"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-col",22)(6,"ion-row")(7,"ion-title",23),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"dateOnly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-row",24),e.\u0275\u0275template(11,x,2,1,"ng-container",21),e.\u0275\u0275template(12,X,2,1,"ng-container",21),e.\u0275\u0275template(13,ue,2,1,"ng-container",21),e.\u0275\u0275template(14,Re,2,1,"ng-container",21),e.\u0275\u0275elementStart(15,"ion-card",25)(16,"ion-card-content")(17,"ion-row",26)(18,"ion-col",27)(19,"ion-text",28),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"ion-col",29),e.\u0275\u0275element(23,"ion-icon",30),e.\u0275\u0275elementEnd()()()()()()()),2&i){const t=s.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.timelineTable.symptome),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,8,t.date)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.timelineTable.symptome),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.timelineTable.essen),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.timelineTable.tagesform),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.timelineTable.aktivitaeten),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","/health-data/",t.date,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(21,10,"health-data-erfassen")," ")}}function Ae(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-grid",14),e.\u0275\u0275template(2,Me,24,12,"ion-row",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-infinite-scroll",16),e.\u0275\u0275listener("ionInfinite",function(r){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().doInfinite(r)}),e.\u0275\u0275element(4,"ion-infinite-scroll-content",17),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.timelineTable.tage)}}function Ne(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-button",38),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().presentAlertBeforeStartingTimeline()}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"tagebuch-timeline.app-starten")," "))}const Fe=[{path:"",component:(()=>{class i{constructor(t,n,r,_,E,oe,Y,Q,D,ze,Ze,Ve,We,Ue){this.router=t,this.sqliteService=n,this.detailService=r,this.databaseCrudService=_,this.toastService=E,this.alertController=oe,this.papa=Y,this.translateService=Q,this.deviceService=D,this.dateOnlyPipe=ze,this.tagesformPipe=Ze,this.erschoepfungsartPipe=Ve,this.symptomePipe=We,this.commaBlankSeparatorPipe=Ue,this.isAllLoaded=!1,this.tage=[],this.symptome=[],this.essen=[],this.tagesform=[],this.aktivitaeten=[],this.export=null,this.txt="",this.detailsPagingNumber=0,this.tagePagingNumber=0,this.deviceInfo=null,this.version=q.i8,this.wantedBackupsNumber=this.databaseCrudService.getWantedBackupsNumber(),this.clearTimelineTable(),this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){var t=this;this.routerSubscription=this.router.events.subscribe(n=>{n instanceof I.m2&&n.url.includes("tagebuch-timeline")&&(this.clearTimelineTable(),this.updateTimelineData())}),he.addListener("appStateChange",function(){var n=(0,g.Z)(function*({isActive:r}){if(r)return;const _=yield se.beforeExit((0,g.Z)(function*(){yield t.checkIfBackupsFolderExistsAndCreateBackup(),yield t.deleteOldBackupsIfMoreThanWanted(),se.finish({taskId:_})}))});return function(r){return n.apply(this,arguments)}}())}ngOnDestroy(){var t,n;this.clearTimelineTable(),null===(t=this.routerSubscription)||void 0===t||t.unsubscribe(),null===(n=this.appStateChangeListener)||void 0===n||n.remove()}checkIfBackupsFolderExistsAndCreateBackup(){var t=this;return(0,g.Z)(function*(){!0===(yield t.checkIfBackupDirectoryExistsAndReturnBoolean())||(yield t.createBackupDirectory()),t.onBackupClick()})()}checkIfBackupDirectoryExistsAndReturnBoolean(){return(0,g.Z)(function*(){try{const t=yield F.fy.readdir({directory:F.tP.External,path:"backups"});return console.log(t),!!t}catch(t){return!1}})()}createBackupDirectory(){return(0,g.Z)(function*(){yield F.fy.mkdir({directory:F.tP.External,path:"backups"}).then(t=>{console.log(t)})})()}onBackupClick(){this.databaseCrudService.getDatabaseExport("full").then(t=>{console.log(t),this.jsonResponse=t.export,console.log(this.jsonResponse),this.checkIfBackupDirectoryExists().then(n=>{this.createBackupExport("Backup_"+le().format("DD_MM_YYYY_HH_mm_ss")+".ts",JSON.stringify(this.jsonResponse))})})}checkIfBackupDirectoryExists(){var t=this;return(0,g.Z)(function*(){yield F.fy.readdir({directory:F.tP.External,path:"backups"}).then(n=>{console.log(n)}).catch(n=>{console.log("Error:",n),t.createBackupDirectory().then(r=>{t.checkIfBackupDirectoryExists()})})})()}createBackupExport(t,n){var r=this;return(0,g.Z)(function*(){yield F.fy.writeFile({directory:F.tP.External,path:"backups/"+t,data:n,encoding:F.ez.UTF16}).then(_=>{console.log(_)},_=>{console.log("Error: ",_),r.toastService.showErrorToast(r.translateService.instant("einstellungen.backup-creation-fail"))})})()}deleteOldBackupsIfMoreThanWanted(){var t=this;return(0,g.Z)(function*(){t.wantedBackupsNumber=t.databaseCrudService.getWantedBackupsNumber(),console.log(t.wantedBackupsNumber),yield F.fy.readdir({directory:F.tP.External,path:"backups"}).then(n=>{console.log(n),console.log(n.files),n.files.length>=t.wantedBackupsNumber-1&&n.files.sort().reverse().forEach((_,E)=>{console.log(_+" "+E),E>=t.wantedBackupsNumber-1&&F.fy.deleteFile({directory:F.tP.External,path:"backups/"+_})},_=>{console.log("Error: ",_)})})})()}ngAfterViewInit(){var t=this;return(0,g.Z)(function*(){const n=function(){var r=(0,g.Z)(function*(_){yield re.alert({title:t.translateService.instant("message-title"),message:_})});return function(E){return r.apply(this,arguments)}}();try{console.log(">>>> im Tagebuch-Timeline  this.startupProcess"),yield t.startupProcess()}catch(r){throw console.log(`$$$ runTest failed ${r.message}`),yield n(r.message),new Error(r.message)}t.clearTimelineTable(),t.updateTimelineData()})()}ionViewWillLeave(){var t=this;return(0,g.Z)(function*(){yield t.clearTimelineTable()})()}startupProcess(){var t=this;return(0,g.Z)(function*(){console.log(">>>> im Tagebuch-Timeline ");const n=yield t.databaseCrudService.openDatabaseConnectionAndReturnDatabaseBoolean();console.log("setupDone"),!1===n?(console.log("createDatabase"),yield t.databaseCrudService.createDatabaseFromJSON()):!0===n?(console.log("openDatabase"),yield t.databaseCrudService.openDatabase(),yield t.checkDatabaseSchemaAndUpgrade()):(yield(0,fe.g)(5e3),yield t.presentStartupProcessRetryAlert())})()}presentStartupProcessRetryAlert(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:"Datenbank Erstellung fehlgeschlagen",message:"Willst du es nochmal probieren?",buttons:[{text:"Nochmal versuchen",cssClass:"ion-alert-primary",handler:()=>{t.startupProcess()}}]})).present()})()}ionViewWillEnter(){return(0,g.Z)(function*(){})()}doInfinite(t){var n=this;return(0,g.Z)(function*(){n.isAllLoaded||(n.detailsPagingNumber++,yield n.updateTimelineData()),t.target.complete()})()}updateTimelineData(){var t=this;return(0,g.Z)(function*(){yield t.loadTimelineData()})()}clearTimelineTable(){var t=this;return(0,g.Z)(function*(){t.isAllLoaded=!1,t.tagePagingNumber=0,t.detailsPagingNumber=0,t.tage=[],t.timelineTable={tage:[],symptome:[],essen:[],tagesform:[],aktivitaeten:[]}})()}loadTimelineData(){var t=this;return(0,g.Z)(function*(){const n=performance.now();t.detailsPagingNumber%4==0&&(yield t.loadTagesWithPaging()),yield t.loadFiveDays();const r=performance.now();console.log("loadTimelineData took "+(r-n)+" milliseconds."),console.log(t.timelineTable)})()}loadDetails(t){var n=this;return(0,g.Z)(function*(){const r=performance.now();yield n.databaseCrudService.essenRepository.findAllInRange(t).then(D=>{D.values&&(n.timelineTable.essen=n.timelineTable.essen.concat(D))}).catch(D=>{D&&console.log(D)});const _=performance.now();console.log("Time to load Essen: "+(_-r)),yield n.databaseCrudService.aktivitaetRepository.findAllInRange(t).then(D=>{D.values&&(n.timelineTable.aktivitaeten=n.timelineTable.aktivitaeten.concat(D))}).catch(D=>{D&&console.log(D)});const E=performance.now();console.log("Time to load Aktivitaet: "+(E-_)),yield n.databaseCrudService.symptomRepository.findAllInRange(t).then(D=>{D.values&&(n.timelineTable.symptome=n.timelineTable.symptome.concat(D))}).catch(D=>{D&&console.log(D)});const oe=performance.now();console.log("Time to load Symptome: "+(oe-E)),yield n.databaseCrudService.tagesformRepository.findAllInRange(t).then(D=>{D.values&&(n.timelineTable.tagesform=n.timelineTable.tagesform.concat(D))}).catch(D=>{D&&console.log(D)});const Y=performance.now();console.log("Time to load Tagesform: "+(Y-oe));const Q=performance.now();console.log("loadFiveDays: "+(Q-r)+" ms")})()}loadFiveDays(){var t=this;return(0,g.Z)(function*(){if(t.tage.length>0&&5*t.detailsPagingNumber+5<=t.tage.length){const n=t.tage.slice(5*t.detailsPagingNumber,5*t.detailsPagingNumber+5),r=n.map(_=>_.id);t.timelineTable.tage=t.timelineTable.tage.concat(n),yield t.loadDetails(r)}else{if(!(t.tage.length>0&&5*t.detailsPagingNumber+5>t.tage.length))return console.log("error with database or timelineTable is empty"),0;{const n=t.tage.slice(5*t.detailsPagingNumber,t.tage.length),r=n.map(_=>_.id);t.timelineTable.tage=t.timelineTable.tage.concat(n),yield t.loadDetails(r),t.isAllLoaded=!0}}})()}loadTagesWithPaging(){var t=this;return(0,g.Z)(function*(){const n=performance.now();yield t.databaseCrudService.getTagesInRnage(20*t.tagePagingNumber,20).then(r=>{if(r.values){t.tage=t.tage.concat(r.values.filter(E=>!E.date.startsWith("T")));const _=performance.now();console.log("Time to load Tage: "+(_-n)),t.tagePagingNumber++}}).catch(r=>{r&&console.log(r)})})()}loadTage(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getTageList().then(n=>{n.values&&(t.timelineTable.tage=n.values)}).catch(n=>{n&&console.log(n)})})()}loadSymptome(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getSymptomeList().then(n=>{n.values&&(t.timelineTable.symptome=n.values)}).catch(n=>{n&&console.log(n)})})()}loadEssen(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getEssenList().then(n=>{n&&(t.timelineTable.essen=n)}).catch(n=>{n&&console.log(n)})})()}loadTagesform(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getTagesformList().then(n=>{n.values&&(t.timelineTable.tagesform=n.values)}).catch(n=>{n&&console.log(n)})})()}loadAktivitaet(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getAktivitaetList().then(n=>{n.values&&(t.timelineTable.aktivitaeten=n.values)}).catch(n=>{n&&console.log(n)})})()}deleteDatabase(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.deleteDatabaseByName(),yield t.databaseCrudService.createDatabaseFromJSON(),yield t.clearTimelineTable();const n=(new Date).toISOString().split("T")[0];yield t.createNeuerTagNachWunsch(n)})()}startTimeline(){var t=this;return(0,g.Z)(function*(){yield t.deleteDatabase(),yield t.toastService.showSuccessToast(t.translateService.instant("tagebuch-timeline.app-gestartet"))})()}presentAlertBeforeStartingTimeline(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:"Timeline starten",message:"Willst du die Timeline starten? Eventuelle alte Eintr\xe4ge werden gel\xf6scht.",buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:"Timeline starten",cssClass:"ion-alert-primary",handler:()=>{t.startTimeline()}}]})).present()})()}checkDatabaseSchemaAndUpgrade(){var t=this;return(0,g.Z)(function*(){!1===(yield t.databaseCrudService.compareCurrentDatabaseExportedJSONWithSchemaJSON())&&(console.log(">>>> creating Backup before Upgrading Database Schema"),yield t.checkIfBackupsFolderExistsAndCreateBackup(),console.log(">>>> starting upgradeDatabaseSchema"),yield t.databaseCrudService.upgradeDatabaseSchema())})()}presentCreateDayAlert(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.tag-erstellen-title"),message:t.translateService.instant("tagebuch-timeline.tag-erstellen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.tag-erstellen"),cssClass:"ion-alert-primary",handler:r=>{if(console.log(r.date),r.date){t.createNeuerTagNachWunsch(r.date+"T00:00:00+01:00");const E=le().tz("Europe/Berlin",!0).format();console.log(E)}else t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.error-adding-empty-day"))}}]})).present()})()}addingDayWithoutRefresh(t){var n=this;return(0,g.Z)(function*(){n.timelineTable.tage.push(t.values[0]),n.timelineTable.tage.sort((Y,Q)=>new Date(Q.date).getTime()-new Date(Y.date).getTime());const _={id:t.values[0].id,tageid:t.values[0].id,lastModified:null},E={id:t.values[0].id,tageid:t.values[0].id,lastModified:null},oe={id:t.values[0].id,tageid:t.values[0].id,lastModified:null};n.timelineTable.essen.push({id:t.values[0].id,tageid:t.values[0].id,lastModified:null}),n.timelineTable.tagesform.push(_),n.timelineTable.aktivitaeten.push(E),n.timelineTable.symptome.push(oe),n.timelineTable.essen.sort((Y,Q)=>new Date(Q.tageid).getTime()-new Date(Y.tageid).getTime()),n.timelineTable.tagesform.sort((Y,Q)=>new Date(Q.tageid).getTime()-new Date(Y.tageid).getTime()),n.timelineTable.aktivitaeten.sort((Y,Q)=>new Date(Q.tageid).getTime()-new Date(Y.tageid).getTime()),n.timelineTable.symptome.sort((Y,Q)=>new Date(Q.tageid).getTime()-new Date(Y.tageid).getTime())})()}createNeuerTagNachWunsch(t){var n=this;return(0,g.Z)(function*(){const r=function(){var _=(0,g.Z)(function*(E){yield re.alert({title:"Error Dialog",message:E})});return function(oe){return _.apply(this,arguments)}}();try{yield n.databaseCrudService.postNeuerTagAnyDay(t).then(_=>{n.clearTimelineTable(),n.updateTimelineData()}).catch(_=>{_&&n.toastService.showErrorToast(n.translateService.instant("tagebuch-timeline.tag-erstellen-fehler"))})}catch(_){yield r(_.message)}})()}presentDeleteDayAlert(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.tag-loeschen-title"),message:t.translateService.instant("tagebuch-timeline.tag-loeschen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.tag-loeschen"),cssClass:"ion-alert-primary",handler:r=>{console.log(r.date),t.deleteTagNachWunsch(r.date)}}]})).present()})()}deleteTagNachWunsch(t){var n=this;return(0,g.Z)(function*(){const r=function(){var _=(0,g.Z)(function*(E){yield re.alert({title:"Error Dialog",message:E})});return function(oe){return _.apply(this,arguments)}}();try{yield n.databaseCrudService.deleteTagAnyDay(t).then(()=>{n.clearTimelineTable(),n.updateTimelineData()}).catch(_=>{_&&n.toastService.showErrorToast(n.translateService.instant("tagebuch-timeline.tag-loeschen-fehler"))})}catch(_){yield r(_.message)}})()}presentDeleteAlert(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.delete-alert-title"),message:t.translateService.instant("tagebuch-timeline.delete-alert-message"),buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.delete-alert-do-delete"),cssClass:"ion-alert-red",handler:()=>{t.deleteDatabase()}}]})).present()})()}shareJSON(){var t=this;return(0,g.Z)(function*(){yield t.databaseCrudService.getTablesCombined().then(n=>{n.values&&(t.timelineTableInnerJoin=n.values)}).catch(n=>{n&&console.log(n)}),yield t.presentExportSwitch()})()}presentExportSwitch(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.daten-exportieren-header"),message:t.translateService.instant("tagebuch-timeline.daten-exportieren-message"),inputs:[{name:t.translateService.instant("tagebuch-timeline.txt-datei"),type:"radio",label:t.translateService.instant("tagebuch-timeline.txt-datei"),value:"txt",checked:!0},{name:t.translateService.instant("tagebuch-timeline.csv-datei"),type:"radio",label:t.translateService.instant("tagebuch-timeline.csv-datei"),value:"csv"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.exportieren"),handler:r=>{"txt"===r?(t.createExportDataTXT(t.timelineTableInnerJoin),t.createFileExportAndShare("LongCovid_Export.txt",t.txt,t.translateService.instant("tagebuch-timeline.teile-txt"))):"csv"===r?(t.createExportDataCSV(t.timelineTableInnerJoin),t.createFileExportAndShare("LongCovid_Export.csv",t.csv,t.translateService.instant("tagebuch-timeline.teile-csv"))):t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.export-fehler"))}}]})).present()})()}createExportDataCSV(t){var n=this;return(0,g.Z)(function*(){const r=[],_=t.length;for(let E=0;E<_;E++)r.push(Object.values(t[E]));n.csv=n.papa.unparse({fields:Object.keys(t[t.length-1]),data:r})})()}createExportDataTXT(t){var n=this;return(0,g.Z)(function*(){n.txt="",t&&(console.log(t),t.forEach(r=>{const _=n.dateOnlyPipe.transform(r.date)+"\nSymptome_Checkboxen: "+n.commaBlankSeparatorPipe.transform(r.symptom_names_checkboxes)+"\nSymptome_Freitext: "+r.symptom_names+"\nHusten: "+r.husten_value+"\nFieber: "+r.fieber_value+"\xb0 Celsius\nFatigue: "+r.fatigue_value+"\nBrustschmerzen: "+r.brustschmerzen_value+"\nKopfschmerzen: "+r.kopfschmerzen_value+"\nGeschmacksverlust: "+r.geschmacksverlust_value+"\nNeurologische St\xf6rung: "+r.neurologische_stoerung_value+"\nMuskelschmerzen: "+r.muskelschmerzen_value+"\nHautausschlag: "+r.hautausschlag_value+"\nFr\xfchst\xfcck: "+r.vormittag+"\nMittag: "+r.mittag+"\nAbend: "+r.abend+"\nMedikamente: "+r.medikamente_value+"\nTagesform: "+r.tagesform_value+"\nErsch\xf6pfungsart: "+r.erschoepfungsart_value+"\nSchlaf: "+r.schlaf_value+"\nStimmung: "+r.stimmung_value+"\nAktivitaeten_Checkboxen: "+n.commaBlankSeparatorPipe.transform(r.aktivitaeten_names_checkboxes)+"\nAktivitaeten_Freitext: "+r.aktivitaeten_names+"\nSport: "+r.sport_value+"\nArbeit: "+r.arbeit_value+"\nHausarbeit: "+r.hausarbeit_value+"\nEntspannung: "+r.entspannung_value+"\n\n";n.txt+=_}))})()}createFileExportAndShare(t,n,r){var _=this;return(0,g.Z)(function*(){yield F.fy.writeFile({directory:F.tP.External,path:t,data:n,encoding:F.ez.UTF16}).then(E=>{console.log(E),v.m.share({title:"PatientStrength Timeline",text:_.translateService.instant("tagebuch-timeline.erfassung-hinweis"),url:E.uri,dialogTitle:r}).catch(oe=>{console.log("Share failed:",oe)})},E=>{console.log("Error: ",E)})})()}createDatabaseExport(t){this.databaseCrudService.createDatabaseExport(t).then(n=>n).catch(n=>{n&&(console.log(n),this.toastService.showErrorToast(n.toString()))})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(I.F0),e.\u0275\u0275directiveInject(Te.Y),e.\u0275\u0275directiveInject(de.X),e.\u0275\u0275directiveInject(ye.y),e.\u0275\u0275directiveInject(Ee.L),e.\u0275\u0275directiveInject(N.AlertController),e.\u0275\u0275directiveInject(ke),e.\u0275\u0275directiveInject(me.sK),e.\u0275\u0275directiveInject(te.x0),e.\u0275\u0275directiveInject(S.m),e.\u0275\u0275directiveInject(o.R),e.\u0275\u0275directiveInject(a.V),e.\u0275\u0275directiveInject(l.M),e.\u0275\u0275directiveInject(c))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-tagebuch-timeline"]],decls:16,vars:4,consts:[["id","ion-logo","slot","start","src","/assets/images/patient-strength_logo.png",1,"ml-2"],["slot","start","class","ion-padding-right-0",4,"ngIf"],["slot","start",4,"ngIf"],["slot","end"],["expand","block","fill","clear","routerLink","/analyse",1,"m-0","p-0"],["name","pulse",1,"ion-icon","ion-font-20"],["expand","block","fill","clear",1,"m-0","p-0",3,"click"],["name","share-social-outline",1,"ion-icon","ion-font-20"],["name","trash-bin",1,"ion-icon","ion-font-20"],["name","add-circle-outline",1,"ion-icon","ion-font-20"],["class","vh-100",4,"ngIf"],["slot","start",1,"ion-padding-right-0"],["slot","start"],[1,"vh-100"],[1,"pt-timeline","mt-1"],["class","w-100 pt-timelime-item",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","lines"],[1,"w-100","pt-timelime-item"],["size","2",1,"w-100"],[1,"pt-timelime-item-row"],[4,"ngFor","ngForOf"],["size","10",1,"w-100","pr-0"],[1,"pt-date-title"],[1,"pl-0"],[1,"pl-0","w-100","pt-timeline-card","ion-flex-grow-1",3,"routerLink"],[1,"mb-1","ion-align-items-center"],["size","10"],[1,"pt-bold"],["size","2",1,"ion-text-end"],["name","arrow-forward-outline",1,"ion-icon","ion-font-25","ion-vertical-align-middle"],[4,"ngIf"],["class","pt-timelime-item-icon pt-timelime-item-icon-checkmark","name","checkmark-outline",4,"ngIf","ngIfElse"],["helpIcon",""],["name","checkmark-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-checkmark"],["name","help-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-help"],["class","pl-0 w-100 pt-timeline-card ion-flex-grow-1",3,"routerLink",4,"ngIf"],[1,"mb-1"],["expand","block","fill","clear","size","default",1,"w-100","pt-circlebutton",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar"),e.\u0275\u0275element(2,"ion-img",0),e.\u0275\u0275template(3,b,3,3,"ion-title",1),e.\u0275\u0275template(4,T,3,3,"ion-title",2),e.\u0275\u0275elementStart(5,"ion-buttons",3)(6,"ion-button",4),e.\u0275\u0275element(7,"ion-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-button",6),e.\u0275\u0275listener("click",function(){return n.shareJSON()}),e.\u0275\u0275element(9,"ion-icon",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-button",6),e.\u0275\u0275listener("click",function(){return n.presentDeleteDayAlert()}),e.\u0275\u0275element(11,"ion-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ion-button",6),e.\u0275\u0275listener("click",function(){return n.presentCreateDayAlert()}),e.\u0275\u0275element(13,"ion-icon",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(14,Ae,5,1,"ion-content",10),e.\u0275\u0275template(15,Ne,4,3,"ion-content",10)),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Android"===n.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===n.deviceInfo.os),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",n.timelineTable.tage.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===n.timelineTable.tage.length))},directives:[N.IonHeader,N.IonToolbar,N.IonImg,_e.NgIf,N.IonTitle,N.IonButtons,N.IonButton,N.RouterLinkDelegate,I.rH,N.IonIcon,N.IonContent,N.IonGrid,_e.NgForOf,N.IonRow,N.IonCol,N.IonCard,N.IonCardContent,N.IonText,N.IonInfiniteScroll,N.IonInfiniteScrollContent],pipes:[me.X$,S.m,d,c,o.R,a.V],styles:['[_ngcontent-%COMP%]:root{--ion-color-primary: rgba(99, 194, 222, 1);--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: rgb(64, 165, 195);--ion-color-primary-tint: rgb(112, 217, 248);--ion-color-secondary: rgba(86, 180, 114, 1);--ion-color-secondary-rgb: 12, 209, 232;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: rgb(39, 165, 77);--ion-color-secondary-tint: rgb(101, 227, 139);--ion-color-tertiary: #7044ff;--ion-color-tertiary-rgb: 112, 68, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #633ce0;--ion-color-tertiary-tint: #7e57ff;--ion-color-success: rgb(86, 180, 114);--ion-color-success-rgb: 16, 220, 96;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #0ec254;--ion-color-success-tint: #28e070;--ion-color-warning: #ffce00;--ion-color-warning-rgb: 255, 206, 0;--ion-color-warning-contrast: #ffffff;--ion-color-warning-contrast-rgb: 255, 255, 255;--ion-color-warning-shade: #e0b500;--ion-color-warning-tint: #ffd31a;--ion-color-danger: rgb(219, 82, 82);--ion-color-danger-rgb: 245, 61, 61;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: rgb(176, 33, 33);--ion-color-danger-tint: rgb(252, 96, 96);--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 34, 34;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 244, 244;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-white: white;--ion-color-analyse-1: rgba(86, 180, 114, 1);--ion-color-analyse-2: rgba(119, 156, 106, 1);--ion-color-analyse-3: rgba(153, 131, 98, 1);--ion-color-analyse-4: rgba(186, 107, 90, 1);--ion-color-analyse-5: rgba(219, 82, 82, 1);--ion-color-analyse-null: #989aa2;--health-bar-color-3: rgb(86, 180, 114);--health-bar-color-2: rgb(231, 210, 27);--health-bar-color-1: rgb(219, 82, 82);--health-bar-color-0: rgba(255, 255, 255, 0);--ion-toolbar-background: var(--ion-color-white)}.health-bar-color-0[_ngcontent-%COMP%]{background-color:var(--health-bar-color-0)!important}.health-bar-color-1[_ngcontent-%COMP%]{background-color:var(--health-bar-color-1)!important;color:#fff!important}.health-bar-color-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]{background-color:var(--health-bar-color-2)!important;color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]{background-color:var(--health-bar-color-3)!important;color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-3)!important;color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-4)!important;color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-5)!important;color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}ion-content[_ngcontent-%COMP%]{animation:fade-in .5s cubic-bezier(.39,.575,.565,1) both}ion-icon[_ngcontent-%COMP%]{color:#999}.ion-padding-right-0[_ngcontent-%COMP%]{padding-right:0}.pt-timelime-item[_ngcontent-%COMP%]:before{content:"";position:relative;top:30px;bottom:0;width:10px;background:#a9d8e6;left:9.7%;margin-left:-10px}.pt-timelime-item-icon[_ngcontent-%COMP%]{width:25px;height:25px;background:white;border-radius:50%;box-shadow:0 0 0 7px #a9d8e6;text-align:center;padding:.5rem;position:absolute;margin:auto;left:6px}.pt-timelime-item-icon-help[_ngcontent-%COMP%]{color:#ffb94e}.pt-timelime-item-icon-checkmark[_ngcontent-%COMP%]{color:#49a263}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:51px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:10px solid transparent;border-left-color:#a9d8e6;top:17px;display:inline-block}.pt-timeline-card[_ngcontent-%COMP%]{margin:.3rem .3rem .3rem .4rem}.pt-date-title[_ngcontent-%COMP%]{color:#fff;padding-top:.3rem;padding-left:.4rem;position:relative}.pt-circlebutton[_ngcontent-%COMP%]{display:block;width:230px;height:230px;border:12px solid rgba(255,255,255,.5);border-radius:50%;color:#63c2de;text-align:center;text-decoration:none;background:rgba(255,255,255,.8);box-shadow:0 0 3px gray;margin:50% auto 0;font-weight:900}.pt-reset-button[_ngcontent-%COMP%]{color:#fff;background:#a9d8e6!important;margin:0 .85rem 1rem;border-radius:4px;width:93%}@media screen and (min-width: 700px){.pt-calendar[_ngcontent-%COMP%]{width:2rem;height:2rem}.pt-timelime-item[_ngcontent-%COMP%]:before{left:9.2%}.pt-timelime-item-icon[_ngcontent-%COMP%]{left:32%}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:83px}.pt-reset-button[_ngcontent-%COMP%]{width:96.7%}}']}),i})()}];let Le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[I.Bz.forChild(Fe)],I.Bz]}),i})();var $e=y(1511);let je=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[d,S.m,o.R,a.V,l.M,c],imports:[[_e.CommonModule,be.FormsModule,N.IonicModule,Le,me.aw,$e.m]]}),i})()},3028:function(Ie,xe){var y,be;y=function N(){"use strict";var I="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==I?I:{},g=!I.document&&!!I.postMessage,pe=g&&/blob:/i.test((I.location||{}).protocol),re={},le=0,v={parse:function(o,a){var l=(a=a||{}).dynamicTyping||!1;if(S(l)&&(a.dynamicTypingFunction=l,l={}),a.dynamicTyping=l,a.transform=!!S(a.transform)&&a.transform,a.worker&&v.WORKERS_SUPPORTED){var c=function(){if(!v.WORKERS_SUPPORTED)return!1;var j,O,b=(j=I.URL||I.webkitURL||null,O=N.toString(),v.BLOB_URL||(v.BLOB_URL=j.createObjectURL(new Blob(["(",O,")();"],{type:"text/javascript"})))),T=new I.Worker(b);return T.onmessage=Ee,T.id=le++,re[T.id]=T}();return c.userStep=a.step,c.userChunk=a.chunk,c.userComplete=a.complete,c.userError=a.error,a.step=S(a.step),a.chunk=S(a.chunk),a.complete=S(a.complete),a.error=S(a.error),delete a.worker,void c.postMessage({input:o,config:a,workerId:c.id})}var d=null;return"string"==typeof o?d=a.download?new fe(a):new se(a):!0===o.readable&&S(o.read)&&S(o.on)?d=new e(a):(I.File&&o instanceof File||o instanceof Object)&&(d=new he(a)),d.stream(o)},unparse:function(o,a){var l=!1,c=!0,d=",",b="\r\n",T='"',j=T+T,O=!1,m=null,M=!1;!function(){if("object"==typeof a){if("string"!=typeof a.delimiter||v.BAD_DELIMITERS.filter(function(p){return-1!==a.delimiter.indexOf(p)}).length||(d=a.delimiter),("boolean"==typeof a.quotes||"function"==typeof a.quotes||Array.isArray(a.quotes))&&(l=a.quotes),"boolean"!=typeof a.skipEmptyLines&&"string"!=typeof a.skipEmptyLines||(O=a.skipEmptyLines),"string"==typeof a.newline&&(b=a.newline),"string"==typeof a.quoteChar&&(T=a.quoteChar),"boolean"==typeof a.header&&(c=a.header),Array.isArray(a.columns)){if(0===a.columns.length)throw new Error("Option columns is empty");m=a.columns}void 0!==a.escapeChar&&(j=a.escapeChar+T),("boolean"==typeof a.escapeFormulae||a.escapeFormulae instanceof RegExp)&&(M=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(de(T),"g");if("string"==typeof o&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return G(null,o,O);if("object"==typeof o[0])return G(m||Object.keys(o[0]),o,O)}else if("object"==typeof o)return"string"==typeof o.data&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||m),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:"object"==typeof o.data[0]?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||"object"==typeof o.data[0]||(o.data=[o.data])),G(o.fields||[],o.data||[],O);throw new Error("Unable to serialize unrecognized input");function G(p,w,V){var B="";"string"==typeof p&&(p=JSON.parse(p)),"string"==typeof w&&(w=JSON.parse(w));var z=Array.isArray(p)&&0<p.length,L=!Array.isArray(w[0]);if(z&&c){for(var $=0;$<p.length;$++)0<$&&(B+=d),B+=Z(p[$],$);0<w.length&&(B+=b)}for(var u=0;u<w.length;u++){var k=z?p.length:w[u].length,P=!1,A=z?0===Object.keys(w[u]).length:0===w[u].length;if(V&&!z&&(P="greedy"===V?""===w[u].join("").trim():1===w[u].length&&0===w[u][0].length),"greedy"===V&&z){for(var x=[],C=0;C<k;C++)x.push(w[u][L?p[C]:C]);P=""===x.join("").trim()}if(!P){for(var h=0;h<k;h++)0<h&&!A&&(B+=d),B+=Z(w[u][z&&L?p[h]:h],h);u<w.length-1&&(!V||0<k&&!A)&&(B+=b)}}return B}function Z(p,w){if(null==p)return"";if(p.constructor===Date)return JSON.stringify(p).slice(1,25);var V=!1;M&&"string"==typeof p&&M.test(p)&&(p="'"+p,V=!0);var B=p.toString().replace(f,j);return(V=V||!0===l||"function"==typeof l&&l(p,w)||Array.isArray(l)&&l[w]||function(z,L){for(var $=0;$<L.length;$++)if(-1<z.indexOf(L[$]))return!0;return!1}(B,v.BAD_DELIMITERS)||-1<B.indexOf(d)||" "===B.charAt(0)||" "===B.charAt(B.length-1))?T+B+T:B}}};if(v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK="\ufeff",v.BAD_DELIMITERS=["\r","\n",'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!g&&!!I.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=ye,v.ParserHandle=Te,v.NetworkStreamer=fe,v.FileStreamer=he,v.StringStreamer=se,v.ReadableStreamStreamer=e,I.jQuery){var F=I.jQuery;F.fn.parse=function(o){var a=o.config||{},l=[];return this.each(function(b){if("INPUT"!==F(this).prop("tagName").toUpperCase()||"file"!==F(this).attr("type").toLowerCase()||!I.FileReader||!this.files||0===this.files.length)return!0;for(var T=0;T<this.files.length;T++)l.push({file:this.files[T],inputElem:this,instanceConfig:F.extend({},a)})}),c(),this;function c(){if(0!==l.length){var T,j,O,m=l[0];if(S(o.before)){var M=o.before(m.file,m.inputElem);if("object"==typeof M){if("abort"===M.action)return"AbortError",T=m.file,j=m.inputElem,O=M.reason,void(S(o.error)&&o.error({name:"AbortError"},T,j,O));if("skip"===M.action)return void d();"object"==typeof M.config&&(m.instanceConfig=F.extend(m.instanceConfig,M.config))}else if("skip"===M)return void d()}var f=m.instanceConfig.complete;m.instanceConfig.complete=function(G){S(f)&&f(G,m.file,m.inputElem),d()},v.parse(m.file,m.instanceConfig)}else S(o.complete)&&o.complete()}function d(){l.splice(0,1),c()}}}function q(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var l=me(a);l.chunkSize=parseInt(l.chunkSize),a.step||a.chunk||(l.chunkSize=null),this._handle=new Te(l),(this._handle.streamer=this)._config=l}.call(this,o),this.parseChunk=function(a,l){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var c=this._config.beforeFirstChunk(a);void 0!==c&&(a=c)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+a;this._partialLine="";var b=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var T=b.meta.cursor;this._finished||(this._partialLine=d.substring(T-this._baseIndex),this._baseIndex=T),b&&b.data&&(this._rowCount+=b.data.length);var j=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(pe)I.postMessage({results:b,workerId:v.WORKER_ID,finished:j});else if(S(this._config.chunk)&&!l){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);b=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!j||!S(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(a){S(this._config.error)?this._config.error(a):pe&&this._config.error&&I.postMessage({workerId:v.WORKER_ID,error:a,finished:!1})}}function fe(o){var a;(o=o||{}).chunkSize||(o.chunkSize=v.RemoteChunkSize),q.call(this,o),this._nextChunk=g?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),g||(a.onload=te(this._chunkLoaded,this),a.onerror=te(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!g),this._config.downloadRequestHeaders){var l=this._config.downloadRequestHeaders;for(var c in l)a.setRequestHeader(c,l[c])}this._config.chunkSize&&a.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{a.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}g&&0===a.status&&this._chunkError()}},this._chunkLoaded=function(){var c;4===a.readyState&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(c=a.getResponseHeader("Content-Range"))?-1:parseInt(c.substring(c.lastIndexOf("/")+1))),this.parseChunk(a.responseText)))},this._chunkError=function(l){this._sendError(new Error(a.statusText||l))}}function he(o){var a,l;(o=o||{}).chunkSize||(o.chunkSize=v.LocalChunkSize),q.call(this,o);var c="undefined"!=typeof FileReader;this.stream=function(d){this._input=d,l=d.slice||d.webkitSlice||d.mozSlice,c?((a=new FileReader).onload=te(this._chunkLoaded,this),a.onerror=te(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);d=l.call(d,this._start,b)}var T=a.readAsText(d,this._config.encoding);c||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(a.error)}}function se(o){var a;q.call(this,o=o||{}),this.stream=function(l){return a=l,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var l,c=this._config.chunkSize;return c?(l=a.substring(0,c),a=a.substring(c)):(l=a,a=""),this._finished=!a,this.parseChunk(l)}}}function e(o){q.call(this,o=o||{});var a=[],l=!0,c=!1;this.pause=function(){q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){c&&1===a.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):l=!0},this._streamData=te(function(d){try{a.push("string"==typeof d?d:d.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(b){this._streamError(b)}},this),this._streamError=te(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=te(function(){this._streamCleanUp(),c=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Te(o){var a,l,c,d=Math.pow(2,53),b=-d,T=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,j=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,O=this,m=0,M=0,f=!1,G=!1,Z=[],p={data:[],errors:[],meta:{}};if(S(o.step)){var w=o.step;o.step=function(u){if(p=u,z())B();else{if(B(),0===p.data.length)return;m+=u.data.length,o.preview&&m>o.preview?l.abort():(p.data=p.data[0],w(p,O))}}}function V(u){return"greedy"===o.skipEmptyLines?""===u.join("").trim():1===u.length&&0===u[0].length}function B(){return p&&c&&($("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),c=!1),o.skipEmptyLines&&(p.data=p.data.filter(function(u){return!V(u)})),z()&&function(){if(p)if(Array.isArray(p.data[0])){for(var k=0;z()&&k<p.data.length;k++)p.data[k].forEach(u);p.data.splice(0,1)}else p.data.forEach(u);function u(P,A){S(o.transformHeader)&&(P=o.transformHeader(P,A)),Z.push(P)}}(),function(){if(!p||!o.header&&!o.dynamicTyping&&!o.transform)return p;function u(P,A){var x,C=o.header?{}:[];for(x=0;x<P.length;x++){var R=x,h=P[x];o.header&&(R=x>=Z.length?"__parsed_extra":Z[x]),o.transform&&(h=o.transform(h,R)),h=L(R,h),"__parsed_extra"===R?(C[R]=C[R]||[],C[R].push(h)):C[R]=h}return o.header&&(x>Z.length?$("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+x,M+A):x<Z.length&&$("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+x,M+A)),C}var k=1;return!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(u),k=p.data.length):p.data=u(p.data,0),o.header&&p.meta&&(p.meta.fields=Z),M+=k,p}()}function z(){return o.header&&0===Z.length}function L(u,k){return P=u,o.dynamicTypingFunction&&void 0===o.dynamicTyping[P]&&(o.dynamicTyping[P]=o.dynamicTypingFunction(P)),!0===(o.dynamicTyping[P]||o.dynamicTyping)?"true"===k||"TRUE"===k||"false"!==k&&"FALSE"!==k&&(function(A){if(T.test(A)){var x=parseFloat(A);if(b<x&&x<d)return!0}return!1}(k)?parseFloat(k):j.test(k)?new Date(k):""===k?null:k):k;var P}function $(u,k,P,A){var x={type:u,code:k,message:P};void 0!==A&&(x.row=A),p.errors.push(x)}this.parse=function(u,k,P){if(o.newline||(o.newline=function(R,h){R=R.substring(0,1048576);var ne=new RegExp(de(h)+"([^]*?)"+de(h),"gm"),J=(R=R.replace(ne,"")).split("\r"),K=R.split("\n");if(1===J.length||1<K.length&&K[0].length<J[0].length)return"\n";for(var X=0,H=0;H<J.length;H++)"\n"===J[H][0]&&X++;return X>=J.length/2?"\r\n":"\r"}(u,o.quoteChar||'"')),c=!1,o.delimiter)S(o.delimiter)&&(o.delimiter=o.delimiter(u),p.meta.delimiter=o.delimiter);else{var x=function(R,h,ne,J,K){var ie,X,H,W;K=K||[",","\t","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var ae=0;ae<K.length;ae++){var U=K[ae],ce=0,ee=0,Se=0;H=void 0;for(var ue=new ye({comments:J,delimiter:U,newline:h,preview:10}).parse(R),ve=0;ve<ue.data.length;ve++)if(ne&&V(ue.data[ve]))Se++;else{var ge=ue.data[ve].length;ee+=ge,void 0!==H?0<ge&&(ce+=Math.abs(ge-H),H=ge):H=ge}0<ue.data.length&&(ee/=ue.data.length-Se),(void 0===X||ce<=X)&&(void 0===W||W<ee)&&1.99<ee&&(X=ce,ie=U,W=ee)}return{successful:!!(o.delimiter=ie),bestDelimiter:ie}}(u,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);x.successful?o.delimiter=x.bestDelimiter:(c=!0,o.delimiter=v.DefaultDelimiter),p.meta.delimiter=o.delimiter}var C=me(o);return o.preview&&o.header&&C.preview++,a=u,l=new ye(C),p=l.parse(a,k,P),B(),f?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,l.abort(),a=S(o.chunk)?"":a.substring(l.getCharIndex())},this.resume=function(){O.streamer._halted?(f=!1,O.streamer.parseChunk(a,!0)):setTimeout(O.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,l.abort(),p.meta.aborted=!0,S(o.complete)&&o.complete(p),a=""}}function de(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ye(o){var a,l=(o=o||{}).delimiter,c=o.newline,d=o.comments,b=o.step,T=o.preview,j=o.fastMode,O=a=null==o.quoteChar?'"':o.quoteChar;if(void 0!==o.escapeChar&&(O=o.escapeChar),("string"!=typeof l||-1<v.BAD_DELIMITERS.indexOf(l))&&(l=","),d===l)throw new Error("Comment character same as delimiter");!0===d?d="#":("string"!=typeof d||-1<v.BAD_DELIMITERS.indexOf(d))&&(d=!1),"\n"!==c&&"\r"!==c&&"\r\n"!==c&&(c="\n");var m=0,M=!1;this.parse=function(f,G,Z){if("string"!=typeof f)throw new Error("Input must be a string");var p=f.length,w=l.length,V=c.length,B=d.length,z=S(b),L=[],$=[],u=[],k=m=0;if(!f)return W();if(j||!1!==j&&-1===f.indexOf(a)){for(var P=f.split(c),A=0;A<P.length;A++){if(m+=(u=P[A]).length,A!==P.length-1)m+=c.length;else if(Z)return W();if(!d||u.substring(0,B)!==d){if(z){if(L=[],K(u.split(l)),ae(),M)return W()}else K(u.split(l));if(T&&T<=A)return L=L.slice(0,T),W(!0)}}return W()}for(var x=f.indexOf(l,m),C=f.indexOf(c,m),R=new RegExp(de(O)+de(a),"g"),h=f.indexOf(a,m);;)if(f[m]!==a)if(d&&0===u.length&&f.substring(m,m+B)===d){if(-1===C)return W();C=f.indexOf(c,m=C+V),x=f.indexOf(l,m)}else if(-1!==x&&(x<C||-1===C))u.push(f.substring(m,x)),x=f.indexOf(l,m=x+w);else{if(-1===C)break;if(u.push(f.substring(m,C)),H(C+V),z&&(ae(),M))return W();if(T&&L.length>=T)return W(!0)}else for(h=m,m++;;){if(-1===(h=f.indexOf(a,h+1)))return Z||$.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:L.length,index:m}),X();if(h===p-1)return X(f.substring(m,h).replace(R,a));if(a!==O||f[h+1]!==O){if(a===O||0===h||f[h-1]!==O){-1!==x&&x<h+1&&(x=f.indexOf(l,h+1)),-1!==C&&C<h+1&&(C=f.indexOf(c,h+1));var ne=ie(-1===C?x:Math.min(x,C));if(f.substr(h+1+ne,w)===l){u.push(f.substring(m,h).replace(R,a)),f[m=h+1+ne+w]!==a&&(h=f.indexOf(a,m)),x=f.indexOf(l,m),C=f.indexOf(c,m);break}var J=ie(C);if(f.substring(h+1+J,h+1+J+V)===c){if(u.push(f.substring(m,h).replace(R,a)),H(h+1+J+V),x=f.indexOf(l,m),h=f.indexOf(a,m),z&&(ae(),M))return W();if(T&&L.length>=T)return W(!0);break}$.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:L.length,index:m}),h++}}else h++}return X();function K(U){L.push(U),k=m}function ie(U){var ce=0;if(-1!==U){var ee=f.substring(h+1,U);ee&&""===ee.trim()&&(ce=ee.length)}return ce}function X(U){return Z||(void 0===U&&(U=f.substring(m)),u.push(U),m=p,K(u),z&&ae()),W()}function H(U){m=U,K(u),u=[],C=f.indexOf(c,m)}function W(U){return{data:L,errors:$,meta:{delimiter:l,linebreak:c,aborted:M,truncated:!!U,cursor:k+(G||0)}}}function ae(){b(W()),L=[],$=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return m}}function Ee(o){var a=o.data,l=re[a.workerId],c=!1;if(a.error)l.userError(a.error,a.file);else if(a.results&&a.results.data){var d={abort:function(){c=!0,Ce(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ke,resume:ke};if(S(l.userStep)){for(var b=0;b<a.results.data.length&&(l.userStep({data:a.results.data[b],errors:a.results.errors,meta:a.results.meta},d),!c);b++);delete a.results}else S(l.userChunk)&&(l.userChunk(a.results,d,a.file),delete a.results)}a.finished&&!c&&Ce(a.workerId,a.results)}function Ce(o,a){var l=re[o];S(l.userComplete)&&l.userComplete(a),l.terminate(),delete re[o]}function ke(){throw new Error("Not implemented.")}function me(o){if("object"!=typeof o||null===o)return o;var a=Array.isArray(o)?[]:{};for(var l in o)a[l]=me(o[l]);return a}function te(o,a){return function(){o.apply(a,arguments)}}function S(o){return"function"==typeof o}return pe&&(I.onmessage=function(o){var a=o.data;if(void 0===v.WORKER_ID&&a&&(v.WORKER_ID=a.workerId),"string"==typeof a.input)I.postMessage({workerId:v.WORKER_ID,results:v.parse(a.input,a.config),finished:!0});else if(I.File&&a.input instanceof File||a.input instanceof Object){var l=v.parse(a.input,a.config);l&&I.postMessage({workerId:v.WORKER_ID,results:l,finished:!0})}}),(fe.prototype=Object.create(q.prototype)).constructor=fe,(he.prototype=Object.create(q.prototype)).constructor=he,(se.prototype=Object.create(se.prototype)).constructor=se,(e.prototype=Object.create(q.prototype)).constructor=e,v},void 0!==(be=y.apply(xe,[]))&&(Ie.exports=be)}}]);