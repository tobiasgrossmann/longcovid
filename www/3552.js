"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3552],{3552:(M,g,i)=>{i.r(g),i.d(g,{SymptomeErfassenPageModule:()=>T});var c=i(9808),l=i(3075),s=i(2159),h=i(4030),f=i(5861),e=i(2096),d=i(636),y=i(4323),k=i(535),b=i(1618),p=i(9285),x=i(5339);const V=function(a,o){return{ptRed:a,ptGreen:o}};function C(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-text",17),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"symptome"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(6,V,n.symptomeCheckboxListe[t].number_value>3,n.symptomeCheckboxListe[t].number_value<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,e.\u0275\u0275pipeBind1(3,4,n.symptomeCheckboxListe[t].number_value))," ")}}function _(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-text",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.symptomeCheckboxListe[t].number_value,"\xb0 Celsius ")}}function S(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-range",19),e.\u0275\u0275listener("ionChange",function(r){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext().index;return e.\u0275\u0275nextContext(2).onValueChange(r,m)}),e.\u0275\u0275element(2,"ion-icon",20)(3,"ion-icon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&a){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("value",n.symptomeCheckboxListe[t].number_value)}}function L(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-range",22),e.\u0275\u0275listener("ionChange",function(r){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext().index;return e.\u0275\u0275nextContext(2).onValueChange(r,m)}),e.\u0275\u0275element(2,"ion-icon",23)(3,"ion-icon",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&a){const t=e.\u0275\u0275nextContext().index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("value",n.symptomeCheckboxListe[t].number_value)}}function I(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-item")(2,"ion-label",12),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,C,4,9,"ion-text",13),e.\u0275\u0275template(5,_,2,1,"ion-text",14),e.\u0275\u0275elementStart(6,"ion-checkbox",15),e.\u0275\u0275listener("ionChange",function(r){const u=e.\u0275\u0275restoreView(t).index;return e.\u0275\u0275nextContext(2).onSelectionChange(r,u)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,S,4,1,"ng-container",16),e.\u0275\u0275template(8,L,4,1,"ng-container",16),e.\u0275\u0275elementContainerEnd()}if(2&a){const t=o.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.symptom),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.checked&&t.value!==n.translateService.instant("symptome-erfassen-page.fieber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.checked&&t.value===n.translateService.instant("symptome-erfassen-page.fieber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.checked)("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.checked&&t.value!==n.translateService.instant("symptome-erfassen-page.fieber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.checked&&t.value===n.translateService.instant("symptome-erfassen-page.fieber"))}}function z(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"form",4)(1,"ion-card",5)(2,"ion-card-header"),e.\u0275\u0275element(3,"ion-img",6),e.\u0275\u0275elementStart(4,"ion-card-title",7),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-card-content")(8,"ion-list"),e.\u0275\u0275template(9,I,9,7,"ng-container",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"ion-textarea",9),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementStart(12,"ion-note",10),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"a",11),e.\u0275\u0275text(16,"Management of post-acute covid-19 in primary care"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",t.symptomeCheckboxListe),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(11,7,"symptome-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,9,"symptome-erfassen-page.erklaertext")," ")}}function E(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",25),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onSubmit()}),e.\u0275\u0275elementStart(1,"ion-text",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"symptome-erfassen-page.symptome-speichern")))}const w=[{path:"",component:(()=>{class a{constructor(t,n,r,m,u,v,B,F){this.fb=t,this.sqliteService=n,this.detailService=r,this.databaseCrudService=m,this.activatedRoute=u,this.router=v,this.toastService=B,this.translateService=F,this.symptome=[],this.symptomeCheckboxListe=[{symptom:this.translateService.instant("symptome-erfassen-page.husten"),value:this.translateService.instant("symptome-erfassen-page.husten"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.fieber"),value:this.translateService.instant("symptome-erfassen-page.fieber"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.fatigue"),value:this.translateService.instant("symptome-erfassen-page.fatigue"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.kurzatmigkeit"),value:this.translateService.instant("symptome-erfassen-page.kurzatmigkeit"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.brustschmerzen"),value:this.translateService.instant("symptome-erfassen-page.brustschmerzen"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.kopfschmerzen"),value:this.translateService.instant("symptome-erfassen-page.kopfschmerzen"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.geschmacksverlust"),value:this.translateService.instant("symptome-erfassen-page.geschmacksverlust"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.neurologische-st\xf6rung"),value:this.translateService.instant("symptome-erfassen-page.neurologische-st\xf6rung"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.muskelschmerzen"),value:this.translateService.instant("symptome-erfassen-page.muskelschmerzen"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.hautausschlag"),value:this.translateService.instant("symptome-erfassen-page.hautausschlag"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.missempfindungen"),value:this.translateService.instant("symptome-erfassen-page.missempfindungen"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.schwindel"),value:this.translateService.instant("symptome-erfassen-page.schwindel"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.gedaechtniseinschraenkungen"),value:this.translateService.instant("symptome-erfassen-page.gedaechtniseinschraenkungen"),number_value:null,checked:!1},{symptom:this.translateService.instant("symptome-erfassen-page.leseeinschraenkungen"),value:this.translateService.instant("symptome-erfassen-page.leseeinschraenkungen"),number_value:null,checked:!1}],this.tagId=this.activatedRoute.snapshot.params.tagId,this.form=this.fb.group({symptomeCheckboxListe:this.fb.array([]),symptomeListe:[""],hustenValue:null,fieberValue:null,fatigueValue:null,kurzatmigkeitValue:null,brustschmerzenValue:null,kopfschmerzenValue:null,geschmacksverlustValue:null,neurologischeStoerungValue:null,muskelschmerzenValue:null,hautausschlagValue:null,missempfindungenValue:null,schwindelValue:null,gedaechtniseinschraenkungenValue:null,leseeinschraenkungenValue:null}),this.onLoadCheckboxStatus()}onLoadCheckboxStatus(){const t=this.form.get("symptomeCheckboxListe");this.symptomeCheckboxListe.forEach(n=>{this.updateCheckControl(t,n)})}ngOnInit(){}ngAfterViewInit(){var t=this;return(0,f.Z)(function*(){yield t.loadSymptome()})()}loadSymptome(){this.databaseCrudService.getSymptomeListbyTagId(this.tagId).then(t=>(t.values&&(t.values[0].symptomNames&&(this.symptomeNameListe=t.values[0].symptomNames,this.form.patchValue({symptomeListe:this.symptomeNameListe})),t.values[0].symptomNamesCheckboxes&&(this.symptomeCheckboxListe[0].number_value=t.values[0].hustenValue,this.symptomeCheckboxListe[1].number_value=t.values[0].fieberValue,this.symptomeCheckboxListe[2].number_value=t.values[0].fatigueValue,this.symptomeCheckboxListe[3].number_value=t.values[0].kurzatmigkeitValue,this.symptomeCheckboxListe[4].number_value=t.values[0].brustschmerzenValue,this.symptomeCheckboxListe[5].number_value=t.values[0].kopfschmerzenValue,this.symptomeCheckboxListe[6].number_value=t.values[0].geschmacksverlustValue,this.symptomeCheckboxListe[7].number_value=t.values[0].neurologischeStoerungValue,this.symptomeCheckboxListe[8].number_value=t.values[0].muskelschmerzenValue,this.symptomeCheckboxListe[9].number_value=t.values[0].hautausschlagValue,this.symptomeCheckboxListe[10].number_value=t.values[0].missempfindungenValue,this.symptomeCheckboxListe[11].number_value=t.values[0].schwindelValue,this.symptomeCheckboxListe[12].number_value=t.values[0].gedaechtniseinschraenkungenValue,this.symptomeCheckboxListe[13].number_value=t.values[0].leseeinschraenkungenValue,this.form.patchValue({hustenValue:t.values[0].hustenValue,fieberValue:t.values[0].fieberValue,fatigueValue:t.values[0].fatigueValue,kurzatmigkeitValue:t.values[0].kurzatmigkeitValue,brustschmerzenValue:t.values[0].brustschmerzenValue,kopfschmerzenValue:t.values[0].kopfschmerzenValue,geschmacksverlustValue:t.values[0].geschmacksverlustValue,neurologischeStoerungValue:t.values[0].neurologischeStoerungValue,muskelschmerzenValue:t.values[0].muskelschmerzenValue,hautausschlagValue:t.values[0].hautausschlagValue,missempfindungenValue:t.values[0].missempfindungenValue,schwindelValue:t.values[0].schwindelValue,gedaechtniseinschraenkungenValue:t.values[0].gedaechtniseinschraenkungenValue,leseeinschraenkungenValue:t.values[0].leseeinschraenkungenValue}),this.symptomeCheckboxListeArray=t.values[0].symptomNamesCheckboxes.split(","),this.symptomeCheckboxListeArray.forEach(n=>{if(this.symptomeCheckboxListe.find(r=>r.symptom===n)){const r=this.symptomeCheckboxListe.findIndex(m=>m.symptom===n);this.symptomeCheckboxListe[r].checked=!0}}))),this.symptomeNameListe)).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("symptome-erfassen-page.error"))})}updateSymptome(){this.databaseCrudService.updateSymptomeNames(this.tagId,this.form.value.symptomeListe,this.form.value.symptomeCheckboxListe,this.form.value.hustenValue,this.form.value.fieberValue,this.form.value.fatigueValue,this.form.value.kurzatmigkeitValue,this.form.value.brustschmerzenValue,this.form.value.kopfschmerzenValue,this.form.value.geschmacksverlustValue,this.form.value.neurologischeStoerungValue,this.form.value.muskelschmerzenValue,this.form.value.hautausschlagValue,this.form.value.missempfindungenValue,this.form.value.schwindelValue,this.form.value.gedaechtniseinschraenkungenValue,this.form.value.leseeinschraenkungenValue).then(t=>(t.values&&(this.symptomeNameListe=t.values[0].symptomNames,this.symptomeCheckboxListeArray=t.values[0].symptomNamesCheckboxes,this.form.patchValue({symptomeListe:this.symptomeNameListe,hustenValue:t.values[0].hustenValue,fieberValue:t.values[0].fieberValue,fatigueValue:t.values[0].fatigueValue,kurzatmigkeitValue:t.values[0].kurzatmigkeitValue,brustschmerzenValue:t.values[0].brustschmerzenValue,kopfschmerzenValue:t.values[0].kopfschmerzenValue,geschmacksverlustValue:t.values[0].geschmacksverlustValue,neurologischeStoerungValue:t.values[0].neurologischeStoerungValue,muskelschmerzenValue:t.values[0].muskelschmerzenValue,hautausschlagValue:t.values[0].hautausschlagValue,missempfindungenValue:t.values[0].missempfindungenValue,schwindelValue:t.values[0].schwindelValue,gedaechtniseinschraenkungenValue:t.values[0].gedaechtniseinschraenkungenValue,leseeinschraenkungenValue:t.values[0].leseeinschraenkungenValue})),this.toastService.showSuccessToast(this.translateService.instant("symptome-erfassen-page.success")),this.symptomeNameListe)).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("symptome-erfassen-page.error"))})}onSelectionChange(t,n){const r=this.form.get("symptomeCheckboxListe");this.symptomeCheckboxListe[n].checked=t.target.checked,this.updateCheckControl(r,t.target)}updateCheckControl(t,n){n.checked?t.push(new l.FormControl(n.value)):t.controls.forEach((r,m)=>{r.value!==n.value||t.removeAt(m)})}onValueChange(t,n){switch(this.symptomeCheckboxListe[n].number_value=t.detail.value,n){case 0:return this.form.patchValue({hustenValue:this.symptomeCheckboxListe[n].number_value});case 1:return this.form.patchValue({fieberValue:this.symptomeCheckboxListe[n].number_value});case 2:return this.form.patchValue({fatigueValue:this.symptomeCheckboxListe[n].number_value});case 3:return this.form.patchValue({kurzatmigkeitValue:this.symptomeCheckboxListe[n].number_value});case 4:return this.form.patchValue({brustschmerzenValue:this.symptomeCheckboxListe[n].number_value});case 5:return this.form.patchValue({kopfschmerzenValue:this.symptomeCheckboxListe[n].number_value});case 6:return this.form.patchValue({geschmacksverlustValue:this.symptomeCheckboxListe[n].number_value});case 7:return this.form.patchValue({neurologischeStoerungValue:this.symptomeCheckboxListe[n].number_value});case 8:return this.form.patchValue({muskelschmerzenValue:this.symptomeCheckboxListe[n].number_value});case 9:return this.form.patchValue({hautausschlagValue:this.symptomeCheckboxListe[n].number_value});case 10:return this.form.patchValue({missempfindungenValue:this.symptomeCheckboxListe[n].number_value});case 11:return this.form.patchValue({schwindelValue:this.symptomeCheckboxListe[n].number_value});case 12:return this.form.patchValue({gedaechtniseinschraenkungenValue:this.symptomeCheckboxListe[n].number_value});case 13:return this.form.patchValue({leseeinschraenkungenValue:this.symptomeCheckboxListe[n].number_value});default:throw Error("Invalider case")}console.log(this.form.value)}onSubmit(){var t=this;return(0,f.Z)(function*(){yield t.updateSymptome(),yield t.loadSymptome(),yield t.router.navigateByUrl("/tabs/tagebuch-timeline")})()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(l.FormBuilder),e.\u0275\u0275directiveInject(d.Y),e.\u0275\u0275directiveInject(y.X),e.\u0275\u0275directiveInject(k.y),e.\u0275\u0275directiveInject(h.gz),e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(b.L),e.\u0275\u0275directiveInject(p.sK))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-symptome-erfassen"]],decls:13,vars:5,consts:[["slot","start"],[3,"formGroup",4,"ngIf"],[1,"ion-no-border"],["class","m-0 p-0 h-3 w-100 opacity-80","color","primary","expand","block","fill","clear","size","default",3,"click",4,"ngIf"],[3,"formGroup"],[1,"ion-flex-grow-1"],["src","assets/images/Coughing_Flatline.svg",1,"vh-25"],[1,"w-100"],[4,"ngFor","ngForOf"],["formControlName","symptomeListe","id","symptomeListe","required","","type","text",1,"w-100","ion-border",3,"placeholder"],["id","ion-source"],["href","https://doi.org/10.1136/bmj.m3026","rel","nofollow noopener","target","_blank"],[1,"pt-font-12"],["class","ion-text-end pt-font-12 pt-bold",3,"ngClass",4,"ngIf"],["class","ion-text-end pt-font-12 pt-bold",4,"ngIf"],["slot","end",3,"checked","value","ionChange"],[4,"ngIf"],[1,"ion-text-end","pt-font-12","pt-bold",3,"ngClass"],[1,"ion-text-end","pt-font-12","pt-bold"],["min","1","max","5","step","1","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","color","secondary","name","happy"],["slot","end","color","danger","name","sad"],["min","38","max","41.5","step","0.5","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","size","small","color","danger","name","thermometer"],["slot","end","color","danger","name","thermometer"],["color","primary","expand","block","fill","clear","size","default",1,"m-0","p-0","h-3","w-100","opacity-80",3,"click"],[1,"small","pt-button-text"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.\u0275\u0275element(3,"ion-back-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-content"),e.\u0275\u0275template(8,z,17,11,"form",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-footer",2)(10,"ion-row")(11,"ion-col"),e.\u0275\u0275template(12,E,4,3,"ion-button",3),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"symptome-erfassen")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.form))},directives:[s.IonHeader,s.IonToolbar,s.IonButtons,s.IonBackButton,s.IonBackButtonDelegate,s.IonTitle,s.IonContent,c.NgIf,l.\u0275NgNoValidate,l.NgControlStatusGroup,l.FormGroupDirective,s.IonCard,s.IonCardHeader,s.IonImg,s.IonCardTitle,s.IonCardContent,s.IonList,c.NgForOf,s.IonItem,s.IonLabel,s.IonText,c.NgClass,s.IonCheckbox,s.BooleanValueAccessor,s.IonRange,s.SelectValueAccessor,s.IonIcon,s.IonTextarea,s.TextValueAccessor,l.NgControlStatus,l.FormControlName,l.RequiredValidator,s.IonNote,s.IonFooter,s.IonRow,s.IonCol,s.IonButton],pipes:[p.X$,x.M],styles:["#ion-source[_ngcontent-%COMP%]{font-size:10px;color:#d3d3d3;line-height:1!important}.pt-range-padding[_ngcontent-%COMP%]{padding:0 60px 20px 15px!important}"]}),a})()}];let N=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[h.Bz.forChild(w)],h.Bz]}),a})();var P=i(1511);let T=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,l.FormsModule,s.IonicModule,N,l.ReactiveFormsModule,p.aw,P.m]]}),a})()}}]);