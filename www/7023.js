"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7023],{7023:(ia,Dn,St)=>{St.r(Dn),St.d(Dn,{jeep_sqlite:()=>ki});var U=St(5861),rn=St(8488);const ht="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function An(){throw new Error("setTimeout has not been defined")}function In(){throw new Error("clearTimeout has not been defined")}var Lr=An,$r=In;function On(i){if(Lr===setTimeout)return setTimeout(i,0);if((Lr===An||!Lr)&&setTimeout)return Lr=setTimeout,setTimeout(i,0);try{return Lr(i,0)}catch(r){try{return Lr.call(null,i,0)}catch(e){return Lr.call(this,i,0)}}}"function"==typeof ht.setTimeout&&(Lr=setTimeout),"function"==typeof ht.clearTimeout&&($r=clearTimeout);var Yr,Dr=[],nt=!1,Pt=-1;function Ri(){!nt||!Yr||(nt=!1,Yr.length?Dr=Yr.concat(Dr):Pt=-1,Dr.length&&jn())}function jn(){if(!nt){var i=On(Ri);nt=!0;for(var r=Dr.length;r;){for(Yr=Dr,Dr=[];++Pt<r;)Yr&&Yr[Pt].run();Pt=-1,r=Dr.length}Yr=null,nt=!1,function Ni(i){if($r===clearTimeout)return clearTimeout(i);if(($r===In||!$r)&&clearTimeout)return $r=clearTimeout,clearTimeout(i);try{$r(i)}catch(r){try{return $r.call(null,i)}catch(e){return $r.call(this,i)}}}(i)}}function Cn(i,r){this.fun=i,this.array=r}function Qr(){}Cn.prototype.run=function(){this.fun.apply(null,this.array)};var Vi=Qr,Gi=Qr,Yi=Qr,Qi=Qr,Hi=Qr,Ji=Qr,Ki=Qr,it=ht.performance||{},ns=it.now||it.mozNow||it.msNow||it.oNow||it.webkitNow||function(){return(new Date).getTime()},ss=new Date,zr={nextTick:function Bi(i){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];Dr.push(new Cn(i,r)),1===Dr.length&&!nt&&On(jn)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Vi,addListener:Gi,once:Yi,off:Qi,removeListener:Hi,removeAllListeners:Ji,emit:Ki,binding:function Xi(i){throw new Error("process.binding is not supported")},cwd:function es(){return"/"},chdir:function rs(i){throw new Error("process.chdir is not supported")},umask:function ts(){return 0},hrtime:function is(i){var r=.001*ns.call(it),e=Math.floor(r),t=Math.floor(r%1*1e9);return i&&(e-=i[0],(t-=i[1])<0&&(e--,t+=1e9)),[e,t]},platform:"browser",release:{},config:{},uptime:function os(){return(new Date-ss)/1e3}},_r=[],cr=[],us="undefined"!=typeof Uint8Array?Uint8Array:Array,tn=!1;function Nn(){tn=!0;for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=i.length;r<e;++r)_r[r]=i[r],cr[i.charCodeAt(r)]=r;cr["-".charCodeAt(0)]=62,cr["_".charCodeAt(0)]=63}function ls(i){return _r[i>>18&63]+_r[i>>12&63]+_r[i>>6&63]+_r[63&i]}function fs(i,r,e){for(var n=[],o=r;o<e;o+=3)n.push(ls((i[o]<<16)+(i[o+1]<<8)+i[o+2]));return n.join("")}function Tt(i,r,e,t,n){var o,a,l=8*n-t-1,d=(1<<l)-1,u=d>>1,b=-7,g=e?n-1:0,P=e?-1:1,p=i[r+g];for(g+=P,o=p&(1<<-b)-1,p>>=-b,b+=l;b>0;o=256*o+i[r+g],g+=P,b-=8);for(a=o&(1<<-b)-1,o>>=-b,b+=t;b>0;a=256*a+i[r+g],g+=P,b-=8);if(0===o)o=1-u;else{if(o===d)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,t),o-=u}return(p?-1:1)*a*Math.pow(2,o-t)}function Bn(i,r,e,t,n,o){var a,l,d,u=8*o-n-1,b=(1<<u)-1,g=b>>1,P=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=t?0:o-1,_=t?1:-1,S=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,a=b):(a=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-a))<1&&(a--,d*=2),(r+=a+g>=1?P/d:P*Math.pow(2,1-g))*d>=2&&(a++,d/=2),a+g>=b?(l=0,a=b):a+g>=1?(l=(r*d-1)*Math.pow(2,n),a+=g):(l=r*Math.pow(2,g-1)*Math.pow(2,n),a=0));n>=8;i[e+p]=255&l,p+=_,l/=256,n-=8);for(a=a<<n|l,u+=n;u>0;i[e+p]=255&a,p+=_,a/=256,u-=8);i[e+p-_]|=128*S}var hs={}.toString,Fn=Array.isArray||function(i){return"[object Array]"==hs.call(i)};function Dt(){return te.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ar(i,r){if(Dt()<r)throw new RangeError("Invalid typed array length");return te.TYPED_ARRAY_SUPPORT?(i=new Uint8Array(r)).__proto__=te.prototype:(null===i&&(i=new te(r)),i.length=r),i}function te(i,r,e){if(!(te.TYPED_ARRAY_SUPPORT||this instanceof te))return new te(i,r,e);if("number"==typeof i){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return nn(this,i)}return Ln(this,i,r,e)}function Ln(i,r,e,t){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function ys(i,r,e,t){if(e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(t||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===t?new Uint8Array(r):void 0===t?new Uint8Array(r,e):new Uint8Array(r,e,t),te.TYPED_ARRAY_SUPPORT?(i=r).__proto__=te.prototype:i=sn(i,r),i}(i,r,e,t):"string"==typeof r?function ps(i,r,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!te.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var t=0|zn(r,e),n=(i=Ar(i,t)).write(r,e);return n!==t&&(i=i.slice(0,n)),i}(i,r,e):function vs(i,r){if(br(r)){var e=0|on(r.length);return 0===(i=Ar(i,e)).length||r.copy(i,0,0,e),i}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function Bs(i){return i!=i}(r.length)?Ar(i,0):sn(i,r);if("Buffer"===r.type&&Fn(r.data))return sn(i,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(i,r)}function $n(i){if("number"!=typeof i)throw new TypeError('"size" argument must be a number');if(i<0)throw new RangeError('"size" argument must not be negative')}function nn(i,r){if($n(r),i=Ar(i,r<0?0:0|on(r)),!te.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)i[e]=0;return i}function sn(i,r){var e=r.length<0?0:0|on(r.length);i=Ar(i,e);for(var t=0;t<e;t+=1)i[t]=255&r[t];return i}function on(i){if(i>=Dt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Dt().toString(16)+" bytes");return 0|i}function br(i){return!(null==i||!i._isBuffer)}function zn(i,r){if(br(i))return i.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(i)||i instanceof ArrayBuffer))return i.byteLength;"string"!=typeof i&&(i=""+i);var e=i.length;if(0===e)return 0;for(var t=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Ot(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Qn(i).length;default:if(t)return Ot(i).length;r=(""+r).toLowerCase(),t=!0}}function gs(i,r,e){var t=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===e||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(r>>>=0))return"";for(i||(i="utf8");;)switch(i){case"hex":return Ds(this,r,e);case"utf8":case"utf-8":return qn(this,r,e);case"ascii":return Ps(this,r,e);case"latin1":case"binary":return Ts(this,r,e);case"base64":return ks(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return As(this,r,e);default:if(t)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),t=!0}}function Hr(i,r,e){var t=i[r];i[r]=i[e],i[e]=t}function Un(i,r,e,t,n){if(0===i.length)return-1;if("string"==typeof e?(t=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=n?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(n)return-1;e=i.length-1}else if(e<0){if(!n)return-1;e=0}if("string"==typeof r&&(r=te.from(r,t)),br(r))return 0===r.length?-1:Mn(i,r,e,t,n);if("number"==typeof r)return r&=255,te.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(i,r,e):Uint8Array.prototype.lastIndexOf.call(i,r,e):Mn(i,[r],e,t,n);throw new TypeError("val must be string, number or Buffer")}function Mn(i,r,e,t,n){var u,o=1,a=i.length,l=r.length;if(void 0!==t&&("ucs2"===(t=String(t).toLowerCase())||"ucs-2"===t||"utf16le"===t||"utf-16le"===t)){if(i.length<2||r.length<2)return-1;o=2,a/=2,l/=2,e/=2}function d(p,_){return 1===o?p[_]:p.readUInt16BE(_*o)}if(n){var b=-1;for(u=e;u<a;u++)if(d(i,u)===d(r,-1===b?0:u-b)){if(-1===b&&(b=u),u-b+1===l)return b*o}else-1!==b&&(u-=u-b),b=-1}else for(e+l>a&&(e=a-l),u=e;u>=0;u--){for(var g=!0,P=0;P<l;P++)if(d(i,u+P)!==d(r,P)){g=!1;break}if(g)return u}return-1}function _s(i,r,e,t){e=Number(e)||0;var n=i.length-e;t?(t=Number(t))>n&&(t=n):t=n;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");t>o/2&&(t=o/2);for(var a=0;a<t;++a){var l=parseInt(r.substr(2*a,2),16);if(isNaN(l))return a;i[e+a]=l}return a}function bs(i,r,e,t){return jt(Ot(r,i.length-e),i,e,t)}function Zn(i,r,e,t){return jt(function Ns(i){for(var r=[],e=0;e<i.length;++e)r.push(255&i.charCodeAt(e));return r}(r),i,e,t)}function ws(i,r,e,t){return Zn(i,r,e,t)}function Es(i,r,e,t){return jt(Qn(r),i,e,t)}function xs(i,r,e,t){return jt(function Rs(i,r){for(var e,t,o=[],a=0;a<i.length&&!((r-=2)<0);++a)t=(e=i.charCodeAt(a))>>8,o.push(e%256),o.push(t);return o}(r,i.length-e),i,e,t)}function ks(i,r,e){return function Rn(i){tn||Nn();for(var r,e=i.length,t=e%3,n="",o=[],a=16383,l=0,d=e-t;l<d;l+=a)o.push(fs(i,l,l+a>d?d:l+a));return 1===t?(n+=_r[(r=i[e-1])>>2],n+=_r[r<<4&63],n+="=="):2===t&&(n+=_r[(r=(i[e-2]<<8)+i[e-1])>>10],n+=_r[r>>4&63],n+=_r[r<<2&63],n+="="),o.push(n),o.join("")}(0===r&&e===i.length?i:i.slice(r,e))}function qn(i,r,e){e=Math.min(i.length,e);for(var t=[],n=r;n<e;){var d,u,b,g,o=i[n],a=null,l=o>239?4:o>223?3:o>191?2:1;if(n+l<=e)switch(l){case 1:o<128&&(a=o);break;case 2:128==(192&(d=i[n+1]))&&(g=(31&o)<<6|63&d)>127&&(a=g);break;case 3:u=i[n+2],128==(192&(d=i[n+1]))&&128==(192&u)&&(g=(15&o)<<12|(63&d)<<6|63&u)>2047&&(g<55296||g>57343)&&(a=g);break;case 4:u=i[n+2],b=i[n+3],128==(192&(d=i[n+1]))&&128==(192&u)&&128==(192&b)&&(g=(15&o)<<18|(63&d)<<12|(63&u)<<6|63&b)>65535&&g<1114112&&(a=g)}null===a?(a=65533,l=1):a>65535&&(t.push((a-=65536)>>>10&1023|55296),a=56320|1023&a),t.push(a),n+=l}return function Ss(i){var r=i.length;if(r<=4096)return String.fromCharCode.apply(String,i);for(var e="",t=0;t<r;)e+=String.fromCharCode.apply(String,i.slice(t,t+=4096));return e}(t)}function Ps(i,r,e){var t="";e=Math.min(i.length,e);for(var n=r;n<e;++n)t+=String.fromCharCode(127&i[n]);return t}function Ts(i,r,e){var t="";e=Math.min(i.length,e);for(var n=r;n<e;++n)t+=String.fromCharCode(i[n]);return t}function Ds(i,r,e){var t=i.length;(!r||r<0)&&(r=0),(!e||e<0||e>t)&&(e=t);for(var n="",o=r;o<e;++o)n+=Cs(i[o]);return n}function As(i,r,e){for(var t=i.slice(r,e),n="",o=0;o<t.length;o+=2)n+=String.fromCharCode(t[o]+256*t[o+1]);return n}function Qe(i,r,e){if(i%1!=0||i<0)throw new RangeError("offset is not uint");if(i+r>e)throw new RangeError("Trying to access beyond buffer length")}function sr(i,r,e,t,n,o){if(!br(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>n||r<o)throw new RangeError('"value" argument is out of bounds');if(e+t>i.length)throw new RangeError("Index out of range")}function At(i,r,e,t){r<0&&(r=65535+r+1);for(var n=0,o=Math.min(i.length-e,2);n<o;++n)i[e+n]=(r&255<<8*(t?n:1-n))>>>8*(t?n:1-n)}function It(i,r,e,t){r<0&&(r=4294967295+r+1);for(var n=0,o=Math.min(i.length-e,4);n<o;++n)i[e+n]=r>>>8*(t?n:3-n)&255}function Vn(i,r,e,t,n,o){if(e+t>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Gn(i,r,e,t,n){return n||Vn(i,0,e,4),Bn(i,r,e,t,23,4),e+4}function Yn(i,r,e,t,n){return n||Vn(i,0,e,8),Bn(i,r,e,t,52,8),e+8}te.TYPED_ARRAY_SUPPORT=void 0===ht.TYPED_ARRAY_SUPPORT||ht.TYPED_ARRAY_SUPPORT,Dt(),te.poolSize=8192,te._augment=function(i){return i.__proto__=te.prototype,i},te.from=function(i,r,e){return Ln(null,i,r,e)},te.TYPED_ARRAY_SUPPORT&&(te.prototype.__proto__=Uint8Array.prototype,te.__proto__=Uint8Array),te.alloc=function(i,r,e){return function ms(i,r,e,t){return $n(r),r<=0?Ar(i,r):void 0!==e?"string"==typeof t?Ar(i,r).fill(e,t):Ar(i,r).fill(e):Ar(i,r)}(null,i,r,e)},te.allocUnsafe=function(i){return nn(null,i)},te.allocUnsafeSlow=function(i){return nn(null,i)},te.isBuffer=function Fs(i){return null!=i&&(!!i._isBuffer||Hn(i)||function Ls(i){return"function"==typeof i.readFloatLE&&"function"==typeof i.slice&&Hn(i.slice(0,0))}(i))},te.compare=function(r,e){if(!br(r)||!br(e))throw new TypeError("Arguments must be Buffers");if(r===e)return 0;for(var t=r.length,n=e.length,o=0,a=Math.min(t,n);o<a;++o)if(r[o]!==e[o]){t=r[o],n=e[o];break}return t<n?-1:n<t?1:0},te.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},te.concat=function(r,e){if(!Fn(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return te.alloc(0);var t;if(void 0===e)for(e=0,t=0;t<r.length;++t)e+=r[t].length;var n=te.allocUnsafe(e),o=0;for(t=0;t<r.length;++t){var a=r[t];if(!br(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},te.byteLength=zn,te.prototype._isBuffer=!0,te.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)Hr(this,e,e+1);return this},te.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)Hr(this,e,e+3),Hr(this,e+1,e+2);return this},te.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)Hr(this,e,e+7),Hr(this,e+1,e+6),Hr(this,e+2,e+5),Hr(this,e+3,e+4);return this},te.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?qn(this,0,r):gs.apply(this,arguments)},te.prototype.equals=function(r){if(!br(r))throw new TypeError("Argument must be a Buffer");return this===r||0===te.compare(this,r)},te.prototype.inspect=function(){var r="";return this.length>0&&(r=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(r+=" ... ")),"<Buffer "+r+">"},te.prototype.compare=function(r,e,t,n,o){if(!br(r))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===t&&(t=r?r.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||t>r.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=t)return 0;if(n>=o)return-1;if(e>=t)return 1;if(this===r)return 0;for(var a=(o>>>=0)-(n>>>=0),l=(t>>>=0)-(e>>>=0),d=Math.min(a,l),u=this.slice(n,o),b=r.slice(e,t),g=0;g<d;++g)if(u[g]!==b[g]){a=u[g],l=b[g];break}return a<l?-1:l<a?1:0},te.prototype.includes=function(r,e,t){return-1!==this.indexOf(r,e,t)},te.prototype.indexOf=function(r,e,t){return Un(this,r,e,t,!0)},te.prototype.lastIndexOf=function(r,e,t){return Un(this,r,e,t,!1)},te.prototype.write=function(r,e,t,n){if(void 0===e)n="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)n=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,void 0===n&&(n="utf8")):(n=t,t=void 0)}var o=this.length-e;if((void 0===t||t>o)&&(t=o),r.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _s(this,r,e,t);case"utf8":case"utf-8":return bs(this,r,e,t);case"ascii":return Zn(this,r,e,t);case"latin1":case"binary":return ws(this,r,e,t);case"base64":return Es(this,r,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xs(this,r,e,t);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},te.prototype.slice=function(r,e){var n,t=this.length;if((r=~~r)<0?(r+=t)<0&&(r=0):r>t&&(r=t),(e=void 0===e?t:~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),e<r&&(e=r),te.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,e)).__proto__=te.prototype;else{var o=e-r;n=new te(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+r]}return n},te.prototype.readUIntLE=function(r,e,t){r|=0,e|=0,t||Qe(r,e,this.length);for(var n=this[r],o=1,a=0;++a<e&&(o*=256);)n+=this[r+a]*o;return n},te.prototype.readUIntBE=function(r,e,t){r|=0,e|=0,t||Qe(r,e,this.length);for(var n=this[r+--e],o=1;e>0&&(o*=256);)n+=this[r+--e]*o;return n},te.prototype.readUInt8=function(r,e){return e||Qe(r,1,this.length),this[r]},te.prototype.readUInt16LE=function(r,e){return e||Qe(r,2,this.length),this[r]|this[r+1]<<8},te.prototype.readUInt16BE=function(r,e){return e||Qe(r,2,this.length),this[r]<<8|this[r+1]},te.prototype.readUInt32LE=function(r,e){return e||Qe(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},te.prototype.readUInt32BE=function(r,e){return e||Qe(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},te.prototype.readIntLE=function(r,e,t){r|=0,e|=0,t||Qe(r,e,this.length);for(var n=this[r],o=1,a=0;++a<e&&(o*=256);)n+=this[r+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},te.prototype.readIntBE=function(r,e,t){r|=0,e|=0,t||Qe(r,e,this.length);for(var n=e,o=1,a=this[r+--n];n>0&&(o*=256);)a+=this[r+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*e)),a},te.prototype.readInt8=function(r,e){return e||Qe(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},te.prototype.readInt16LE=function(r,e){e||Qe(r,2,this.length);var t=this[r]|this[r+1]<<8;return 32768&t?4294901760|t:t},te.prototype.readInt16BE=function(r,e){e||Qe(r,2,this.length);var t=this[r+1]|this[r]<<8;return 32768&t?4294901760|t:t},te.prototype.readInt32LE=function(r,e){return e||Qe(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},te.prototype.readInt32BE=function(r,e){return e||Qe(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},te.prototype.readFloatLE=function(r,e){return e||Qe(r,4,this.length),Tt(this,r,!0,23,4)},te.prototype.readFloatBE=function(r,e){return e||Qe(r,4,this.length),Tt(this,r,!1,23,4)},te.prototype.readDoubleLE=function(r,e){return e||Qe(r,8,this.length),Tt(this,r,!0,52,8)},te.prototype.readDoubleBE=function(r,e){return e||Qe(r,8,this.length),Tt(this,r,!1,52,8)},te.prototype.writeUIntLE=function(r,e,t,n){r=+r,e|=0,t|=0,n||sr(this,r,e,t,Math.pow(2,8*t)-1,0);var a=1,l=0;for(this[e]=255&r;++l<t&&(a*=256);)this[e+l]=r/a&255;return e+t},te.prototype.writeUIntBE=function(r,e,t,n){r=+r,e|=0,t|=0,n||sr(this,r,e,t,Math.pow(2,8*t)-1,0);var a=t-1,l=1;for(this[e+a]=255&r;--a>=0&&(l*=256);)this[e+a]=r/l&255;return e+t},te.prototype.writeUInt8=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,1,255,0),te.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},te.prototype.writeUInt16LE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,2,65535,0),te.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):At(this,r,e,!0),e+2},te.prototype.writeUInt16BE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,2,65535,0),te.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):At(this,r,e,!1),e+2},te.prototype.writeUInt32LE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,4,4294967295,0),te.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):It(this,r,e,!0),e+4},te.prototype.writeUInt32BE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,4,4294967295,0),te.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):It(this,r,e,!1),e+4},te.prototype.writeIntLE=function(r,e,t,n){if(r=+r,e|=0,!n){var o=Math.pow(2,8*t-1);sr(this,r,e,t,o-1,-o)}var a=0,l=1,d=0;for(this[e]=255&r;++a<t&&(l*=256);)r<0&&0===d&&0!==this[e+a-1]&&(d=1),this[e+a]=(r/l>>0)-d&255;return e+t},te.prototype.writeIntBE=function(r,e,t,n){if(r=+r,e|=0,!n){var o=Math.pow(2,8*t-1);sr(this,r,e,t,o-1,-o)}var a=t-1,l=1,d=0;for(this[e+a]=255&r;--a>=0&&(l*=256);)r<0&&0===d&&0!==this[e+a+1]&&(d=1),this[e+a]=(r/l>>0)-d&255;return e+t},te.prototype.writeInt8=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,1,127,-128),te.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=255&r,e+1},te.prototype.writeInt16LE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,2,32767,-32768),te.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):At(this,r,e,!0),e+2},te.prototype.writeInt16BE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,2,32767,-32768),te.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):At(this,r,e,!1),e+2},te.prototype.writeInt32LE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,4,2147483647,-2147483648),te.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):It(this,r,e,!0),e+4},te.prototype.writeInt32BE=function(r,e,t){return r=+r,e|=0,t||sr(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),te.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):It(this,r,e,!1),e+4},te.prototype.writeFloatLE=function(r,e,t){return Gn(this,r,e,!0,t)},te.prototype.writeFloatBE=function(r,e,t){return Gn(this,r,e,!1,t)},te.prototype.writeDoubleLE=function(r,e,t){return Yn(this,r,e,!0,t)},te.prototype.writeDoubleBE=function(r,e,t){return Yn(this,r,e,!1,t)},te.prototype.copy=function(r,e,t,n){if(t||(t=0),!n&&0!==n&&(n=this.length),e>=r.length&&(e=r.length),e||(e=0),n>0&&n<t&&(n=t),n===t||0===r.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),r.length-e<n-t&&(n=r.length-e+t);var a,o=n-t;if(this===r&&t<e&&e<n)for(a=o-1;a>=0;--a)r[a+e]=this[a+t];else if(o<1e3||!te.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)r[a+e]=this[a+t];else Uint8Array.prototype.set.call(r,this.subarray(t,t+o),e);return o},te.prototype.fill=function(r,e,t,n){if("string"==typeof r){if("string"==typeof e?(n=e,e=0,t=this.length):"string"==typeof t&&(n=t,t=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!te.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof r&&(r&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var a;if(e>>>=0,t=void 0===t?this.length:t>>>0,r||(r=0),"number"==typeof r)for(a=e;a<t;++a)this[a]=r;else{var l=br(r)?r:Ot(new te(r,n).toString()),d=l.length;for(a=0;a<t-e;++a)this[a+e]=l[a%d]}return this};var Is=/[^+\/0-9A-Za-z-_]/g;function Cs(i){return i<16?"0"+i.toString(16):i.toString(16)}function Ot(i,r){r=r||1/0;for(var e,t=i.length,n=null,o=[],a=0;a<t;++a){if((e=i.charCodeAt(a))>55295&&e<57344){if(!n){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===t){(r-=3)>-1&&o.push(239,191,189);continue}n=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),n=e;continue}e=65536+(n-55296<<10|e-56320)}else n&&(r-=3)>-1&&o.push(239,191,189);if(n=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function Qn(i){return function cs(i){tn||Nn();var r,e,t,n,o,a,l=i.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=new us(3*l/4-(o="="===i[l-2]?2:"="===i[l-1]?1:0)),t=o>0?l-4:l;var d=0;for(r=0,e=0;r<t;r+=4,e+=3)n=cr[i.charCodeAt(r)]<<18|cr[i.charCodeAt(r+1)]<<12|cr[i.charCodeAt(r+2)]<<6|cr[i.charCodeAt(r+3)],a[d++]=n>>16&255,a[d++]=n>>8&255,a[d++]=255&n;return 2===o?(n=cr[i.charCodeAt(r)]<<2|cr[i.charCodeAt(r+1)]>>4,a[d++]=255&n):1===o&&(n=cr[i.charCodeAt(r)]<<10|cr[i.charCodeAt(r+1)]<<4|cr[i.charCodeAt(r+2)]>>2,a[d++]=n>>8&255,a[d++]=255&n),a}(function Os(i){if((i=function js(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}(i).replace(Is,"")).length<2)return"";for(;i.length%4!=0;)i+="=";return i}(i))}function jt(i,r,e,t){for(var n=0;n<t&&!(n+e>=r.length||n>=i.length);++n)r[n+e]=i[n];return n}function Hn(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function an(i,r,e){return i(e={path:r,exports:{},require:function(t,n){return Ir()}},e.exports),e.exports}function Jn(i){if(i.__esModule)return i;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(e){var t=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return i[e]}})}),r}function Ir(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function Kn(i,r){for(var e=0,t=i.length-1;t>=0;t--){var n=i[t];"."===n?i.splice(t,1):".."===n?(i.splice(t,1),e++):e&&(i.splice(t,1),e--)}if(r)for(;e--;e)i.unshift("..");return i}var $s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,un=function(i){return $s.exec(i).slice(1)};function Ct(){for(var i="",r=!1,e=arguments.length-1;e>=-1&&!r;e--){var t=e>=0?arguments[e]:"/";if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");t&&(i=t+"/"+i,r="/"===t.charAt(0))}return(r?"/":"")+(i=Kn(fn(i.split("/"),function(n){return!!n}),!r).join("/"))||"."}function cn(i){var r=ln(i),e="/"===Us(i,-1);return!(i=Kn(fn(i.split("/"),function(t){return!!t}),!r).join("/"))&&!r&&(i="."),i&&e&&(i+="/"),(r?"/":"")+i}function ln(i){return"/"===i.charAt(0)}function Xn(){var i=Array.prototype.slice.call(arguments,0);return cn(fn(i,function(r,e){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))}function ei(i,r){function e(u){for(var b=0;b<u.length&&""===u[b];b++);for(var g=u.length-1;g>=0&&""===u[g];g--);return b>g?[]:u.slice(b,g-b+1)}i=Ct(i).substr(1),r=Ct(r).substr(1);for(var t=e(i.split("/")),n=e(r.split("/")),o=Math.min(t.length,n.length),a=o,l=0;l<o;l++)if(t[l]!==n[l]){a=l;break}var d=[];for(l=a;l<t.length;l++)d.push("..");return(d=d.concat(n.slice(a))).join("/")}function ni(i){var r=un(i),e=r[0],t=r[1];return e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function ii(i,r){var e=un(i)[2];return r&&e.substr(-1*r.length)===r&&(e=e.substr(0,e.length-r.length)),e}function si(i){return un(i)[3]}function fn(i,r){if(i.filter)return i.filter(r);for(var e=[],t=0;t<i.length;t++)r(i[t],t,i)&&e.push(i[t]);return e}var Us=function(i,r,e){return i.substr(r,e)};const Ms=Object.freeze({__proto__:null,resolve:Ct,normalize:cn,isAbsolute:ln,join:Xn,relative:ei,sep:"/",delimiter:":",dirname:ni,basename:ii,extname:si,default:{extname:si,basename:ii,dirname:ni,sep:"/",delimiter:":",relative:ei,join:Xn,isAbsolute:ln,normalize:cn,resolve:Ct}}),Zs=Object.freeze({__proto__:null,default:{}}),hn=Jn(Ms),dn=Jn(Zs);var qs=an(function(i,r){var e=void 0,t=function(n){return e||(e=new Promise(function(o,a){var u,l=void 0!==n?n:{},d=l.onAbort;l.onAbort=function(s){a(new Error(s)),d&&d(s)},l.postRun=l.postRun||[],l.postRun.push(function(){o(l)}),i=void 0,u||(u=void 0!==l?l:{}),u.onRuntimeInitialized=function(){function s(q,pe){this.Qa=q,this.db=pe,this.Oa=1,this.kb=[]}function c(q,pe){if(this.db=pe,pe=qe(q)+1,this.cb=Kt(pe),null===this.cb)throw Error("Unable to allocate memory for the SQL string");Ue(q,Le,this.cb,pe),this.ib=this.cb,this.Za=this.ob=null}function h(q){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=q){var pe=this.filename,Oe=pe?fr("//"+pe):"/";if(Oe=yr(Oe,4095&(void 0!==(pe=de(!0,!0))?pe:438)|32768,0),q){if("string"==typeof q){for(var Te=Array(q.length),Ge=0,vr=q.length;Ge<vr;++Ge)Te[Ge]=q.charCodeAt(Ge);q=Te}ct(Oe,146|pe),ee(Te=x(Oe,577),q,0,q.length,0,void 0),N(Te),ct(Oe,pe)}}this.handleError(Z(this.filename,w)),this.db=H(w,"i32"),ta(this.db),this.eb={},this.Wa={}}var w=Fr(4),A=u.cwrap,Z=A("sqlite3_open","number",["string","number"]),be=A("sqlite3_close_v2","number",["number"]),Be=A("sqlite3_exec","number",["number","string","number","number","number"]),Ze=A("sqlite3_changes","number",["number"]),$e=A("sqlite3_prepare_v2","number",["number","string","number","number","number"]),nr=A("sqlite3_sql","string",["number"]),pr=A("sqlite3_normalized_sql","string",["number"]),rt=A("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Io=A("sqlite3_bind_text","number",["number","number","number","number","number"]),Ai=A("sqlite3_bind_blob","number",["number","number","number","number","number"]),Oo=A("sqlite3_bind_double","number",["number","number","number"]),jo=A("sqlite3_bind_int","number",["number","number","number"]),Co=A("sqlite3_bind_parameter_index","number",["number","string"]),No=A("sqlite3_step","number",["number"]),Ro=A("sqlite3_errmsg","string",["number"]),Bo=A("sqlite3_column_count","number",["number"]),Fo=A("sqlite3_data_count","number",["number"]),Lo=A("sqlite3_column_double","number",["number","number"]),Ii=A("sqlite3_column_text","string",["number","number"]),$o=A("sqlite3_column_blob","number",["number","number"]),zo=A("sqlite3_column_bytes","number",["number","number"]),Uo=A("sqlite3_column_type","number",["number","number"]),Mo=A("sqlite3_column_name","string",["number","number"]),Zo=A("sqlite3_reset","number",["number"]),qo=A("sqlite3_clear_bindings","number",["number"]),Wo=A("sqlite3_finalize","number",["number"]),Vo=A("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Go=A("sqlite3_value_type","number",["number"]),Yo=A("sqlite3_value_bytes","number",["number"]),Qo=A("sqlite3_value_text","string",["number"]),Ho=A("sqlite3_value_blob","number",["number"]),Jo=A("sqlite3_value_double","number",["number"]),Ko=A("sqlite3_result_double","",["number","number"]),Oi=A("sqlite3_result_null","",["number"]),Xo=A("sqlite3_result_text","",["number","string","number","number"]),ea=A("sqlite3_result_blob","",["number","number","number","number"]),ra=A("sqlite3_result_int","",["number","number"]),ji=A("sqlite3_result_error","",["number","string","number"]),ta=A("RegisterExtensionFunctions","number",["number"]);s.prototype.bind=function(q){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(q)?this.Cb(q):null==q||"object"!=typeof q||this.Db(q)},s.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var q=No(this.Qa);switch(q){case 100:return!0;case 101:return!1;default:throw this.db.handleError(q)}},s.prototype.yb=function(q){return null==q&&(q=this.Oa,this.Oa+=1),Lo(this.Qa,q)},s.prototype.Gb=function(q){if(null==q&&(q=this.Oa,this.Oa+=1),q=Ii(this.Qa,q),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(q)},s.prototype.Hb=function(q){return null==q&&(q=this.Oa,this.Oa+=1),Ii(this.Qa,q)},s.prototype.getBlob=function(q){null==q&&(q=this.Oa,this.Oa+=1);var pe=zo(this.Qa,q);q=$o(this.Qa,q);for(var Oe=new Uint8Array(pe),Te=0;Te<pe;Te+=1)Oe[Te]=je[q+Te];return Oe},s.prototype.get=function(q,pe){pe=pe||{},null!=q&&this.bind(q)&&this.step(),q=[];for(var Oe=Fo(this.Qa),Te=0;Te<Oe;Te+=1)switch(Uo(this.Qa,Te)){case 1:var Ge=pe.useBigInt?this.Gb(Te):this.yb(Te);q.push(Ge);break;case 2:q.push(this.yb(Te));break;case 3:q.push(this.Hb(Te));break;case 4:q.push(this.getBlob(Te));break;default:q.push(null)}return q},s.prototype.getColumnNames=function(){for(var q=[],pe=Bo(this.Qa),Oe=0;Oe<pe;Oe+=1)q.push(Mo(this.Qa,Oe));return q},s.prototype.getAsObject=function(q,pe){q=this.get(q,pe),pe=this.getColumnNames();for(var Oe={},Te=0;Te<pe.length;Te+=1)Oe[pe[Te]]=q[Te];return Oe},s.prototype.getSQL=function(){return nr(this.Qa)},s.prototype.getNormalizedSQL=function(){return pr(this.Qa)},s.prototype.run=function(q){return null!=q&&this.bind(q),this.step(),this.reset()},s.prototype.tb=function(q,pe){null==pe&&(pe=this.Oa,this.Oa+=1);var Oe=M(q=Si(q));this.kb.push(Oe),this.db.handleError(Io(this.Qa,pe,Oe,q.length-1,0))},s.prototype.Bb=function(q,pe){null==pe&&(pe=this.Oa,this.Oa+=1);var Oe=M(q);this.kb.push(Oe),this.db.handleError(Ai(this.Qa,pe,Oe,q.length,0))},s.prototype.sb=function(q,pe){null==pe&&(pe=this.Oa,this.Oa+=1),this.db.handleError((q===(0|q)?jo:Oo)(this.Qa,pe,q))},s.prototype.Eb=function(q){null==q&&(q=this.Oa,this.Oa+=1),Ai(this.Qa,q,0,0,0)},s.prototype.ub=function(q,pe){switch(null==pe&&(pe=this.Oa,this.Oa+=1),typeof q){case"string":return void this.tb(q,pe);case"number":return void this.sb(q,pe);case"bigint":return void this.tb(q.toString(),pe);case"boolean":return void this.sb(q+0,pe);case"object":if(null===q)return void this.Eb(pe);if(null!=q.length)return void this.Bb(q,pe)}throw"Wrong API use : tried to bind a value of an unknown type ("+q+")."},s.prototype.Db=function(q){var pe=this;return Object.keys(q).forEach(function(Oe){var Te=Co(pe.Qa,Oe);0!==Te&&pe.ub(q[Oe],Te)}),!0},s.prototype.Cb=function(q){for(var pe=0;pe<q.length;pe+=1)this.ub(q[pe],pe+1);return!0},s.prototype.reset=function(){return this.freemem(),0===qo(this.Qa)&&0===Zo(this.Qa)},s.prototype.freemem=function(){for(var q;void 0!==(q=this.kb.pop());)Et(q)},s.prototype.free=function(){this.freemem();var q=0===Wo(this.Qa);return delete this.db.eb[this.Qa],this.Qa=0,q},c.prototype.next=function(){if(null===this.cb)return{done:!0};if(null!==this.Za&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var q=xt(),pe=Fr(4);m(w),m(pe);try{this.db.handleError(rt(this.db.db,this.ib,-1,w,pe)),this.ib=H(pe,"i32");var Oe=H(w,"i32");return 0===Oe?(this.mb(),{done:!0}):(this.Za=new s(Oe,this.db),this.db.eb[Oe]=this.Za,{value:this.Za,done:!1})}catch(Te){throw this.ob=ue(this.ib),this.mb(),Te}finally{kt(q)}},c.prototype.mb=function(){Et(this.cb),this.cb=null},c.prototype.getRemainingSQL=function(){return null!==this.ob?this.ob:ue(this.ib)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(c.prototype[Symbol.iterator]=function(){return this}),h.prototype.run=function(q,pe){if(!this.db)throw"Database closed";if(pe){q=this.prepare(q,pe);try{q.step()}finally{q.free()}}else this.handleError(Be(this.db,q,0,0,w));return this},h.prototype.exec=function(q,pe,Oe){if(!this.db)throw"Database closed";var Te=xt(),Ge=null;try{var vr=qe(q)+1,ur=Fr(vr);Ue(q,je,ur,vr);var ft=ur,tt=Fr(4);for(q=[];0!==H(ft,"i8");){m(w),m(tt),this.handleError(rt(this.db,ft,-1,w,tt));var ir=H(w,"i32");if(ft=H(tt,"i32"),0!==ir){for(vr=null,Ge=new s(ir,this),null!=pe&&Ge.bind(pe);Ge.step();)null===vr&&(vr={columns:Ge.getColumnNames(),values:[]},q.push(vr)),vr.values.push(Ge.get(null,Oe));Ge.free()}}return q}catch(gr){throw Ge&&Ge.free(),gr}finally{kt(Te)}},h.prototype.each=function(q,pe,Oe,Te,Ge){"function"==typeof pe&&(Te=Oe,Oe=pe,pe=void 0),q=this.prepare(q,pe);try{for(;q.step();)Oe(q.getAsObject(null,Ge))}finally{q.free()}if("function"==typeof Te)return Te()},h.prototype.prepare=function(q,pe){if(m(w),this.handleError($e(this.db,q,-1,w,0)),0===(q=H(w,"i32")))throw"Nothing to prepare";var Oe=new s(q,this);return null!=pe&&Oe.bind(pe),this.eb[q]=Oe},h.prototype.iterateStatements=function(q){return new c(q,this)},h.prototype.export=function(){Object.values(this.eb).forEach(function(pe){pe.free()}),Object.values(this.Wa).forEach(J),this.Wa={},this.handleError(be(this.db));var q=function ae(s){var c={encoding:"binary"};if((c=c||{}).flags=c.flags||0,c.encoding=c.encoding||"binary","utf8"!==c.encoding&&"binary"!==c.encoding)throw Error('Invalid encoding type "'+c.encoding+'"');var h,w=x(s,c.flags);s=Vr(s).size;var A=new Uint8Array(s);return C(w,A,0,s,0),"utf8"===c.encoding?h=me(A,0):"binary"===c.encoding&&(h=A),N(w),h}(this.filename);return this.handleError(Z(this.filename,w)),this.db=H(w,"i32"),q},h.prototype.close=function(){null!==this.db&&(Object.values(this.eb).forEach(function(q){q.free()}),Object.values(this.Wa).forEach(J),this.Wa={},this.handleError(be(this.db)),Yt("/"+this.filename),this.db=null)},h.prototype.handleError=function(q){if(0===q)return null;throw q=Ro(this.db),Error(q)},h.prototype.getRowsModified=function(){return Ze(this.db)},h.prototype.create_function=function(q,pe){Object.prototype.hasOwnProperty.call(this.Wa,q)&&(J(this.Wa[q]),delete this.Wa[q]);var Oe=function ye(s){if(!L){L=new WeakMap;for(var c=0;c<D.length;c++){var h=D.get(c);h&&L.set(h,c)}}if(L.has(s))s=L.get(s);else{if(z.length)c=z.pop();else{try{D.grow(1)}catch(Z){throw Z instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Z}c=D.length-1}try{D.set(c,s)}catch(Z){if(!(Z instanceof TypeError))throw Z;if("function"==typeof WebAssembly.Function){var w={i:"i32",j:"i64",f:"f32",d:"f64"},A={parameters:[],results:[]};for(h=1;4>h;++h)A.parameters.push(w["viii"[h]]);h=new WebAssembly.Function(A,s)}else{for(A={i:127,j:126,f:125,d:124},(w=[1,0,1,96]).push(3),h=0;3>h;++h)w.push(A["iii"[h]]);w.push(0),w[1]=w.length-2,h=new Uint8Array([0,97,115,109,1,0,0,0].concat(w,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),h=new WebAssembly.Module(h),h=new WebAssembly.Instance(h,{e:{f:s}}).exports.f}D.set(c,h)}L.set(s,c),s=c}return s}(function(Te,Ge,vr){for(var ur,ft=[],tt=0;tt<Ge;tt+=1){var ir=H(vr+4*tt,"i32"),gr=Go(ir);if(1===gr||2===gr)ir=Jo(ir);else if(3===gr)ir=Qo(ir);else if(4===gr){ir=Yo(gr=ir),gr=Ho(gr);for(var Ci=new Uint8Array(ir),en=0;en<ir;en+=1)Ci[en]=je[gr+en];ir=Ci}else ir=null;ft.push(ir)}try{ur=pe.apply(null,ft)}catch(na){return void ji(Te,na,-1)}switch(typeof ur){case"boolean":ra(Te,ur?1:0);break;case"number":Ko(Te,ur);break;case"string":Xo(Te,ur,-1,-1);break;case"object":null===ur?Oi(Te):null!=ur.length?(Ge=M(ur),ea(Te,Ge,ur.length,-1),Et(Ge)):ji(Te,"Wrong API use : tried to return a value of an unknown type ("+ur+").",-1);break;default:Oi(Te)}});return this.Wa[q]=Oe,this.handleError(Vo(this.db,q,pe.length,1,0,Oe,0,0,0)),this},u.Database=h};var g,b={};for(g in u)u.hasOwnProperty(g)&&(b[g]=u[g]);var E,T,j,Q,R,P="./this.program",p="object"==typeof window,_="function"==typeof importScripts,S="object"==typeof zr&&"object"==typeof zr.versions&&"string"==typeof zr.versions.node,y="";S?(y=_?hn.dirname(y)+"/":"/Volumes/Development_Lacie/Development/latest/jeep-sqlite/node_modules/sql.js/dist/",E=function(s,c){return Q||(Q=dn),R||(R=hn),s=R.normalize(s),Q.readFileSync(s,c?null:"utf8")},j=function(s){return(s=E(s,!0)).buffer||(s=new Uint8Array(s)),s.buffer||K("Assertion failed: undefined"),s},T=function(s,c,h){Q||(Q=dn),R||(R=hn),s=R.normalize(s),Q.readFile(s,function(w,A){w?h(w):c(A.buffer)})},1<zr.argv.length&&(P=zr.argv[1].replace(/\\/g,"/")),zr.argv.slice(2),i.exports=u,u.inspect=function(){return"[Emscripten Module object]"}):(p||_)&&(_?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",E=function(s){var c=new XMLHttpRequest;return c.open("GET",s,!1),c.send(null),c.responseText},_&&(j=function(s){var c=new XMLHttpRequest;return c.open("GET",s,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),T=function(s,c,h){var w=new XMLHttpRequest;w.open("GET",s,!0),w.responseType="arraybuffer",w.onload=function(){200==w.status||0==w.status&&w.response?c(w.response):h()},w.onerror=h,w.send(null)});var se=u.print||console.log.bind(console),G=u.printErr||console.warn.bind(console);for(g in b)b.hasOwnProperty(g)&&(u[g]=b[g]);b=null,u.thisProgram&&(P=u.thisProgram);var L,I,z=[];function J(s){L.delete(D.get(s)),z.push(s)}function m(s){var c="i32";switch("*"===c.charAt(c.length-1)&&(c="i32"),c){case"i1":case"i8":je[s>>0]=0;break;case"i16":Je[s>>1]=0;break;case"i32":ve[s>>2]=0;break;case"i64":Ye=[0,(Re=0,1<=+Math.abs(Re)?0<Re?(0|Math.min(+Math.floor(Re/4294967296),4294967295))>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],ve[s>>2]=Ye[0],ve[s+4>>2]=Ye[1];break;case"float":f[s>>2]=0;break;case"double":X[s>>3]=0;break;default:K("invalid type for setValue: "+c)}}function H(s,c){switch("*"===(c=c||"i8").charAt(c.length-1)&&(c="i32"),c){case"i1":case"i8":return je[s>>0];case"i16":return Je[s>>1];case"i32":case"i64":return ve[s>>2];case"float":return f[s>>2];case"double":return X[s>>3];default:K("invalid type for getValue: "+c)}return null}u.wasmBinary&&(I=u.wasmBinary),"object"!=typeof WebAssembly&&K("no native wasm support detected");var Ee,oe=!1;function Pe(s){var c=u["_"+s];return c||K("Assertion failed: Cannot call unknown function "+s+", make sure it is exported"),c}function ce(s,c,h,w){var A={string:function($e){var nr=0;if(null!=$e&&0!==$e){var pr=1+($e.length<<2);nr=Fr(pr),Ue($e,Le,nr,pr)}return nr},array:function($e){var nr=Fr($e.length);return je.set($e,nr),nr}};s=Pe(s);var $e,Z=[],be=0;if(w)for(var Be=0;Be<w.length;Be++){var Ze=A[h[Be]];Ze?(0===be&&(be=xt()),Z[Be]=Ze(w[Be])):Z[Be]=w[Be]}return $e=h=s.apply(null,Z),0!==be&&kt(be),"string"===c?ue($e):"boolean"===c?!!$e:$e}function M(s){var c=Kt(s.length);return Le.set(s.subarray||s.slice?s:new Uint8Array(s),c),c}var Fe,je,Le,Je,ve,f,X,ke="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function me(s,c,h){var w=c+h;for(h=c;s[h]&&!(h>=w);)++h;if(16<h-c&&s.subarray&&ke)return ke.decode(s.subarray(c,h));for(w="";c<h;){var A=s[c++];if(128&A){var Z=63&s[c++];if(192==(224&A))w+=String.fromCharCode((31&A)<<6|Z);else{var be=63&s[c++];65536>(A=224==(240&A)?(15&A)<<12|Z<<6|be:(7&A)<<18|Z<<12|be<<6|63&s[c++])?w+=String.fromCharCode(A):(A-=65536,w+=String.fromCharCode(55296|A>>10,56320|1023&A))}}else w+=String.fromCharCode(A)}return w}function ue(s,c){return s?me(Le,s,c):""}function Ue(s,c,h,w){if(!(0<w))return 0;var A=h;w=h+w-1;for(var Z=0;Z<s.length;++Z){var be=s.charCodeAt(Z);if(55296<=be&&57343>=be&&(be=65536+((1023&be)<<10)|1023&s.charCodeAt(++Z)),127>=be){if(h>=w)break;c[h++]=be}else{if(2047>=be){if(h+1>=w)break;c[h++]=192|be>>6}else{if(65535>=be){if(h+2>=w)break;c[h++]=224|be>>12}else{if(h+3>=w)break;c[h++]=240|be>>18,c[h++]=128|be>>12&63}c[h++]=128|be>>6&63}c[h++]=128|63&be}}return c[h]=0,h-A}function qe(s){for(var c=0,h=0;h<s.length;++h){var w=s.charCodeAt(h);55296<=w&&57343>=w&&(w=65536+((1023&w)<<10)|1023&s.charCodeAt(++h)),127>=w?++c:c=2047>=w?c+2:65535>=w?c+3:c+4}return c}function Ne(s){var c=qe(s)+1,h=Kt(c);return h&&Ue(s,je,h,c),h}function V(){var s=Ee.buffer;Fe=s,u.HEAP8=je=new Int8Array(s),u.HEAP16=Je=new Int16Array(s),u.HEAP32=ve=new Int32Array(s),u.HEAPU8=Le=new Uint8Array(s),u.HEAPU16=new Uint16Array(s),u.HEAPU32=new Uint32Array(s),u.HEAPF32=f=new Float32Array(s),u.HEAPF64=X=new Float64Array(s)}var D,k=[],B=[],ne=[];function ie(){var s=u.preRun.shift();k.unshift(s)}var Ae,Re,Ye,tr,$=0,le=null,ge=null;function K(s){throw u.onAbort&&u.onAbort(s),G(s),oe=!0,new WebAssembly.RuntimeError("abort("+s+"). Build with -s ASSERTIONS=1 for more info.")}function we(){return Ae.startsWith("data:application/octet-stream;base64,")}if(u.preloadedImages={},u.preloadedAudios={},Ae="sql-wasm.wasm",!we()){var Ce=Ae;Ae=u.locateFile?u.locateFile(Ce,y):y+Ce}function He(){var s=Ae;try{if(s==Ae&&I)return new Uint8Array(I);if(j)return j(s);throw"both async and sync fetching of the wasm failed"}catch(c){K(c)}}function Me(s){for(;0<s.length;){var c=s.shift();if("function"==typeof c)c(u);else{var h=c.Qb;"number"==typeof h?void 0===c.lb?D.get(h)():D.get(h)(c.lb):h(void 0===c.lb?null:c.lb)}}}function xr(s,c){for(var h=0,w=s.length-1;0<=w;w--){var A=s[w];"."===A?s.splice(w,1):".."===A?(s.splice(w,1),h++):h&&(s.splice(w,1),h--)}if(c)for(;h;h--)s.unshift("..");return s}function fr(s){var c="/"===s.charAt(0),h="/"===s.substr(-1);return(s=xr(s.split("/").filter(function(w){return!!w}),!c).join("/"))||c||(s="."),s&&h&&(s+="/"),(c?"/":"")+s}function pt(s){var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(s).slice(1);return s=c[0],c=c[1],s||c?(c&&(c=c.substr(0,c.length-1)),s+c):"."}function kr(s){if("/"===s)return"/";var c=(s=(s=fr(s)).replace(/\/$/,"")).lastIndexOf("/");return-1===c?s:s.substr(c+1)}function hr(){for(var s="",c=!1,h=arguments.length-1;-1<=h&&!c;h--){if("string"!=typeof(c=0<=h?arguments[h]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!c)return"";s=c+"/"+s,c="/"===c.charAt(0)}return(c?"/":"")+(s=xr(s.split("/").filter(function(w){return!!w}),!c).join("/"))||"."}var Ke=[];function Ft(s,c){Ke[s]={input:[],output:[],bb:c},Rr(s,_n)}var _n={open:function(s){var c=Ke[s.node.rdev];if(!c)throw new re(43);s.tty=c,s.seekable=!1},close:function(s){s.tty.bb.flush(s.tty)},flush:function(s){s.tty.bb.flush(s.tty)},read:function(s,c,h,w){if(!s.tty||!s.tty.bb.zb)throw new re(60);for(var A=0,Z=0;Z<w;Z++){try{var be=s.tty.bb.zb(s.tty)}catch(Be){throw new re(29)}if(void 0===be&&0===A)throw new re(6);if(null==be)break;A++,c[h+Z]=be}return A&&(s.node.timestamp=Date.now()),A},write:function(s,c,h,w){if(!s.tty||!s.tty.bb.pb)throw new re(60);try{for(var A=0;A<w;A++)s.tty.bb.pb(s.tty,c[h+A])}catch(Z){throw new re(29)}return w&&(s.node.timestamp=Date.now()),A}},Lt={zb:function(s){if(!s.input.length){var c=null;if(S){var h=te.alloc(256),w=0;try{w=Q.readSync(zr.stdin.fd,h,0,256,null)}catch(A){if(!A.toString().includes("EOF"))throw A;w=0}c=0<w?h.slice(0,w).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(c=window.prompt("Input: "))&&(c+="\n"):"function"==typeof readline&&null!==(c=readline())&&(c+="\n");if(!c)return null;s.input=Si(c,!0)}return s.input.shift()},pb:function(s,c){null===c||10===c?(se(me(s.output,0)),s.output=[]):0!=c&&s.output.push(c)},flush:function(s){s.output&&0<s.output.length&&(se(me(s.output,0)),s.output=[])}},bn={pb:function(s,c){null===c||10===c?(G(me(s.output,0)),s.output=[]):0!=c&&s.output.push(c)},flush:function(s){s.output&&0<s.output.length&&(G(me(s.output,0)),s.output=[])}};function $t(s){s=65536*Math.ceil(s/65536);var c=Di(65536,s);return c?(Le.fill(0,c,c+s),c):0}var De={Ua:null,Va:function(){return De.createNode(null,"/",16895,0)},createNode:function(s,c,h,w){if(24576==(61440&h)||4096==(61440&h))throw new re(63);return De.Ua||(De.Ua={dir:{node:{Ta:De.La.Ta,Sa:De.La.Sa,lookup:De.La.lookup,fb:De.La.fb,rename:De.La.rename,unlink:De.La.unlink,rmdir:De.La.rmdir,readdir:De.La.readdir,symlink:De.La.symlink},stream:{Ya:De.Ma.Ya}},file:{node:{Ta:De.La.Ta,Sa:De.La.Sa},stream:{Ya:De.Ma.Ya,read:De.Ma.read,write:De.Ma.write,rb:De.Ma.rb,gb:De.Ma.gb,hb:De.Ma.hb}},link:{node:{Ta:De.La.Ta,Sa:De.La.Sa,readlink:De.La.readlink},stream:{}},vb:{node:{Ta:De.La.Ta,Sa:De.La.Sa},stream:Gt}}),ar((h=Zt(s,c,h,w)).mode)?(h.La=De.Ua.dir.node,h.Ma=De.Ua.dir.stream,h.Na={}):32768==(61440&h.mode)?(h.La=De.Ua.file.node,h.Ma=De.Ua.file.stream,h.Ra=0,h.Na=null):40960==(61440&h.mode)?(h.La=De.Ua.link.node,h.Ma=De.Ua.link.stream):8192==(61440&h.mode)&&(h.La=De.Ua.vb.node,h.Ma=De.Ua.vb.stream),h.timestamp=Date.now(),s&&(s.Na[c]=h,s.timestamp=h.timestamp),h},Rb:function(s){return s.Na?s.Na.subarray?s.Na.subarray(0,s.Ra):new Uint8Array(s.Na):new Uint8Array(0)},wb:function(s,c){var h=s.Na?s.Na.length:0;h>=c||(c=Math.max(c,h*(1048576>h?2:1.125)>>>0),0!=h&&(c=Math.max(c,256)),h=s.Na,s.Na=new Uint8Array(c),0<s.Ra&&s.Na.set(h.subarray(0,s.Ra),0))},Nb:function(s,c){if(s.Ra!=c)if(0==c)s.Na=null,s.Ra=0;else{var h=s.Na;s.Na=new Uint8Array(c),h&&s.Na.set(h.subarray(0,Math.min(c,s.Ra))),s.Ra=c}},La:{Ta:function(s){var c={};return c.dev=8192==(61440&s.mode)?s.id:1,c.ino=s.id,c.mode=s.mode,c.nlink=1,c.uid=0,c.gid=0,c.rdev=s.rdev,c.size=ar(s.mode)?4096:32768==(61440&s.mode)?s.Ra:40960==(61440&s.mode)?s.link.length:0,c.atime=new Date(s.timestamp),c.mtime=new Date(s.timestamp),c.ctime=new Date(s.timestamp),c.Fb=4096,c.blocks=Math.ceil(c.size/c.Fb),c},Sa:function(s,c){void 0!==c.mode&&(s.mode=c.mode),void 0!==c.timestamp&&(s.timestamp=c.timestamp),void 0!==c.size&&De.Nb(s,c.size)},lookup:function(){throw vt[44]},fb:function(s,c,h,w){return De.createNode(s,c,h,w)},rename:function(s,c,h){if(ar(s.mode)){try{var w=Nr(c,h)}catch(Z){}if(w)for(var A in w.Na)throw new re(55)}delete s.parent.Na[s.name],s.parent.timestamp=Date.now(),s.name=h,c.Na[h]=s,c.timestamp=s.parent.timestamp,s.parent=c},unlink:function(s,c){delete s.Na[c],s.timestamp=Date.now()},rmdir:function(s,c){var w,h=Nr(s,c);for(w in h.Na)throw new re(55);delete s.Na[c],s.timestamp=Date.now()},readdir:function(s){var h,c=[".",".."];for(h in s.Na)s.Na.hasOwnProperty(h)&&c.push(h);return c},symlink:function(s,c,h){return(s=De.createNode(s,c,41471,0)).link=h,s},readlink:function(s){if(40960!=(61440&s.mode))throw new re(28);return s.link}},Ma:{read:function(s,c,h,w,A){var Z=s.node.Na;if(A>=s.node.Ra)return 0;if(8<(s=Math.min(s.node.Ra-A,w))&&Z.subarray)c.set(Z.subarray(A,A+s),h);else for(w=0;w<s;w++)c[h+w]=Z[A+w];return s},write:function(s,c,h,w,A,Z){if(c.buffer===je.buffer&&(Z=!1),!w)return 0;if((s=s.node).timestamp=Date.now(),c.subarray&&(!s.Na||s.Na.subarray)){if(Z)return s.Na=c.subarray(h,h+w),s.Ra=w;if(0===s.Ra&&0===A)return s.Na=c.slice(h,h+w),s.Ra=w;if(A+w<=s.Ra)return s.Na.set(c.subarray(h,h+w),A),w}if(De.wb(s,A+w),s.Na.subarray&&c.subarray)s.Na.set(c.subarray(h,h+w),A);else for(Z=0;Z<w;Z++)s.Na[A+Z]=c[h+Z];return s.Ra=Math.max(s.Ra,A+w),w},Ya:function(s,c,h){if(1===h?c+=s.position:2===h&&32768==(61440&s.node.mode)&&(c+=s.node.Ra),0>c)throw new re(28);return c},rb:function(s,c,h){De.wb(s.node,c+h),s.node.Ra=Math.max(s.node.Ra,c+h)},gb:function(s,c,h,w,A,Z){if(0!==c)throw new re(28);if(32768!=(61440&s.node.mode))throw new re(43);if(s=s.node.Na,2&Z||s.buffer!==Fe){if((0<w||w+h<s.length)&&(s=s.subarray?s.subarray(w,w+h):Array.prototype.slice.call(s,w,w+h)),w=!0,!(h=$t(h)))throw new re(48);je.set(s,h)}else w=!1,h=s.byteOffset;return{Mb:h,jb:w}},hb:function(s,c,h,w,A){if(32768!=(61440&s.node.mode))throw new re(43);return 2&A||De.Ma.write(s,c,0,w,h,!1),0}}},yt=null,zt={},dr=[],wn=1,Sr=null,Ut=!0,or={},re=null,vt={};function Xe(s,c){if(c=c||{},!(s=hr("/",s)))return{path:"",node:null};var w,h={xb:!0,qb:0};for(w in h)void 0===c[w]&&(c[w]=h[w]);if(8<c.qb)throw new re(32);s=xr(s.split("/").filter(function(be){return!!be}),!1);var A=yt;for(h="/",w=0;w<s.length;w++){var Z=w===s.length-1;if(Z&&c.parent)break;if(A=Nr(A,s[w]),h=fr(h+"/"+s[w]),A.$a&&(!Z||Z&&c.xb)&&(A=A.$a.root),!Z||c.Xa)for(Z=0;40960==(61440&A.mode);)if(A=Qt(h),A=Xe(h=hr(pt(h),A),{qb:c.qb}).node,40<Z++)throw new re(32)}return{path:h,node:A}}function ut(s){for(var c;;){if(s===s.parent)return s=s.Va.Ab,c?"/"!==s[s.length-1]?s+"/"+c:s+c:s;c=c?s.name+"/"+c:s.name,s=s.parent}}function gt(s,c){for(var h=0,w=0;w<c.length;w++)h=(h<<5)-h+c.charCodeAt(w)|0;return(s+h>>>0)%Sr.length}function Mt(s){var c=gt(s.parent.id,s.name);if(Sr[c]===s)Sr[c]=s.ab;else for(c=Sr[c];c;){if(c.ab===s){c.ab=s.ab;break}c=c.ab}}function Nr(s,c){var h;if(h=(h=Wr(s,"x"))?h:s.La.lookup?0:2)throw new re(h,s);for(h=Sr[gt(s.id,c)];h;h=h.ab)if(h.parent.id===s.id&&h.name===c)return h;return s.La.lookup(s,c)}function Zt(s,c,h,w){return c=gt((s=new wt(s,c,h,w)).parent.id,s.name),s.ab=Sr[c],Sr[c]=s}function ar(s){return 16384==(61440&s)}var En={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function qt(s){var c=["r","w","rw"][3&s];return 512&s&&(c+="w"),c}function Wr(s,c){return Ut?0:!c.includes("r")||292&s.mode?c.includes("w")&&!(146&s.mode)||c.includes("x")&&!(73&s.mode)?2:0:2}function Wt(s,c){try{return Nr(s,c),20}catch(h){}return Wr(s,"wx")}function Vt(s,c,h){try{var w=Nr(s,c)}catch(A){return A.Pa}if(s=Wr(s,"wx"))return s;if(h){if(!ar(w.mode))return 54;if(w===w.parent||"/"===ut(w))return 10}else if(ar(w.mode))return 31;return 0}var he,Gt={open:function(s){s.Ma=zt[s.node.rdev].Ma,s.Ma.open&&s.Ma.open(s)},Ya:function(){throw new re(70)}};function Rr(s,c){zt[s]={Ma:c}}function _t(s,c){var h="/"===c,w=!c;if(h&&yt)throw new re(10);if(!h&&!w){var A=Xe(c,{xb:!1});if(c=A.path,(A=A.node).$a)throw new re(10);if(!ar(A.mode))throw new re(54)}(s=s.Va(c={type:s,Sb:{},Ab:c,Kb:[]})).Va=c,c.root=s,h?yt=s:A&&(A.$a=c,A.Va&&A.Va.Kb.push(c))}function yr(s,c,h){var w=Xe(s,{parent:!0}).node;if(!(s=kr(s))||"."===s||".."===s)throw new re(28);var A=Wt(w,s);if(A)throw new re(A);if(!w.La.fb)throw new re(63);return w.La.fb(w,s,c,h)}function mr(s,c){return yr(s,1023&(void 0!==c?c:511)|16384,0)}function Br(s,c,h){void 0===h&&(h=c,c=438),yr(s,8192|c,h)}function Xr(s,c){if(!hr(s))throw new re(44);var h=Xe(c,{parent:!0}).node;if(!h)throw new re(44);var w=Wt(h,c=kr(c));if(w)throw new re(w);if(!h.La.symlink)throw new re(63);h.La.symlink(h,c,s)}function Yt(s){var c=Xe(s,{parent:!0}).node,h=kr(s),w=Nr(c,h),A=Vt(c,h,!1);if(A)throw new re(A);if(!c.La.unlink)throw new re(63);if(w.$a)throw new re(10);try{or.willDeletePath&&or.willDeletePath(s)}catch(Z){G("FS.trackingDelegate['willDeletePath']('"+s+"') threw an exception: "+Z.message)}c.La.unlink(c,h),Mt(w);try{or.onDeletePath&&or.onDeletePath(s)}catch(Z){G("FS.trackingDelegate['onDeletePath']('"+s+"') threw an exception: "+Z.message)}}function Qt(s){if(!(s=Xe(s).node))throw new re(44);if(!s.La.readlink)throw new re(28);return hr(ut(s.parent),s.La.readlink(s))}function Vr(s,c){if(!(s=Xe(s,{Xa:!c}).node))throw new re(44);if(!s.La.Ta)throw new re(63);return s.La.Ta(s)}function Sn(s){return Vr(s,!0)}function ct(s,c){if(!(s="string"==typeof s?Xe(s,{Xa:!0}).node:s).La.Sa)throw new re(63);s.La.Sa(s,{mode:4095&c|-4096&s.mode,timestamp:Date.now()})}function v(s){if(!(s="string"==typeof s?Xe(s,{Xa:!0}).node:s).La.Sa)throw new re(63);s.La.Sa(s,{timestamp:Date.now()})}function O(s,c){if(0>c)throw new re(28);if(!(s="string"==typeof s?Xe(s,{Xa:!0}).node:s).La.Sa)throw new re(63);if(ar(s.mode))throw new re(31);if(32768!=(61440&s.mode))throw new re(28);var h=Wr(s,"w");if(h)throw new re(h);s.La.Sa(s,{size:c,timestamp:Date.now()})}function x(s,c,h,w){if(""===s)throw new re(44);if("string"==typeof c){var A=En[c];if(void 0===A)throw Error("Unknown file open mode: "+c);c=A}if(h=64&c?4095&(void 0===h?438:h)|32768:0,"object"==typeof s)var Z=s;else{s=fr(s);try{Z=Xe(s,{Xa:!(131072&c)}).node}catch(be){}}if(A=!1,64&c)if(Z){if(128&c)throw new re(20)}else Z=yr(s,h,0),A=!0;if(!Z)throw new re(44);if(8192==(61440&Z.mode)&&(c&=-513),65536&c&&!ar(Z.mode))throw new re(54);if(!A&&(h=Z?40960==(61440&Z.mode)?32:ar(Z.mode)&&("r"!==qt(c)||512&c)?31:Wr(Z,qt(c)):44))throw new re(h);512&c&&O(Z,0),c&=-131713,(w=function kn(s,c){ze||((ze=function(){}).prototype={});var w,h=new ze;for(w in s)h[w]=s[w];return s=h,c=function xn(s){for(s=s||0;s<=4096;s++)if(!dr[s])return s;throw new re(33)}(c),s.fd=c,dr[c]=s}({node:Z,path:ut(Z),flags:c,seekable:!0,position:0,Ma:Z.Ma,Pb:[],error:!1},w)).Ma.open&&w.Ma.open(w),!u.logReadFiles||1&c||(We||(We={}),s in We||(We[s]=1,G("FS.trackingDelegate error on read file: "+s)));try{or.onOpenFile&&(Z=0,1!=(2097155&c)&&(Z|=1),0!=(2097155&c)&&(Z|=2),or.onOpenFile(s,Z))}catch(be){G("FS.trackingDelegate['onOpenFile']('"+s+"', flags) threw an exception: "+be.message)}return w}function N(s){if(null===s.fd)throw new re(8);s.nb&&(s.nb=null);try{s.Ma.close&&s.Ma.close(s)}catch(c){throw c}finally{dr[s.fd]=null}s.fd=null}function F(s,c,h){if(null===s.fd)throw new re(8);if(!s.seekable||!s.Ma.Ya)throw new re(70);if(0!=h&&1!=h&&2!=h)throw new re(28);s.position=s.Ma.Ya(s,c,h),s.Pb=[]}function C(s,c,h,w,A){if(0>w||0>A)throw new re(28);if(null===s.fd)throw new re(8);if(1==(2097155&s.flags))throw new re(8);if(ar(s.node.mode))throw new re(31);if(!s.Ma.read)throw new re(28);var Z=void 0!==A;if(Z){if(!s.seekable)throw new re(70)}else A=s.position;return c=s.Ma.read(s,c,h,w,A),Z||(s.position+=c),c}function ee(s,c,h,w,A,Z){if(0>w||0>A)throw new re(28);if(null===s.fd)throw new re(8);if(0==(2097155&s.flags))throw new re(8);if(ar(s.node.mode))throw new re(31);if(!s.Ma.write)throw new re(28);s.seekable&&1024&s.flags&&F(s,0,2);var be=void 0!==A;if(be){if(!s.seekable)throw new re(70)}else A=s.position;c=s.Ma.write(s,c,h,w,A,Z),be||(s.position+=c);try{s.path&&or.onWriteToFile&&or.onWriteToFile(s.path)}catch(Be){G("FS.trackingDelegate['onWriteToFile']('"+s.path+"') threw an exception: "+Be.message)}return c}function fe(){re||((re=function(s,c){this.node=c,this.Ob=function(h){this.Pa=h},this.Ob(s),this.message="FS error"}).prototype=Error(),re.prototype.constructor=re,[44].forEach(function(s){vt[s]=new re(s),vt[s].stack="<generic error, no stack>"}))}function de(s,c){var h=0;return s&&(h|=365),c&&(h|=146),h}function _e(s,c,h){s=fr("/dev/"+s);var w=de(!!c,!!h);Ie||(Ie=64);var A=Ie++<<8|0;Rr(A,{open:function(Z){Z.seekable=!1},close:function(){h&&h.buffer&&h.buffer.length&&h(10)},read:function(Z,be,Be,Ze){for(var $e=0,nr=0;nr<Ze;nr++){try{var pr=c()}catch(rt){throw new re(29)}if(void 0===pr&&0===$e)throw new re(6);if(null==pr)break;$e++,be[Be+nr]=pr}return $e&&(Z.node.timestamp=Date.now()),$e},write:function(Z,be,Be,Ze){for(var $e=0;$e<Ze;$e++)try{h(be[Be+$e])}catch(nr){throw new re(29)}return Ze&&(Z.node.timestamp=Date.now()),$e}}),Br(s,w,A)}var Ie,ze,We,Se={},Ve={};function er(s,c,h){try{var w=s(c)}catch(A){if(A&&A.node&&fr(c)!==fr(ut(A.node)))return-54;throw A}return ve[h>>2]=w.dev,ve[h+4>>2]=0,ve[h+8>>2]=w.ino,ve[h+12>>2]=w.mode,ve[h+16>>2]=w.nlink,ve[h+20>>2]=w.uid,ve[h+24>>2]=w.gid,ve[h+28>>2]=w.rdev,ve[h+32>>2]=0,Ye=[w.size>>>0,(Re=w.size,1<=+Math.abs(Re)?0<Re?(0|Math.min(+Math.floor(Re/4294967296),4294967295))>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],ve[h+40>>2]=Ye[0],ve[h+44>>2]=Ye[1],ve[h+48>>2]=4096,ve[h+52>>2]=w.blocks,ve[h+56>>2]=w.atime.getTime()/1e3|0,ve[h+60>>2]=0,ve[h+64>>2]=w.mtime.getTime()/1e3|0,ve[h+68>>2]=0,ve[h+72>>2]=w.ctime.getTime()/1e3|0,ve[h+76>>2]=0,Ye=[w.ino>>>0,(Re=w.ino,1<=+Math.abs(Re)?0<Re?(0|Math.min(+Math.floor(Re/4294967296),4294967295))>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],ve[h+80>>2]=Ye[0],ve[h+84>>2]=Ye[1],0}var et,Pr=void 0;function Gr(){return ve[(Pr+=4)-4>>2]}function Tr(s){if(!(s=dr[s]))throw new re(8);return s}et=S?function(){var s=zr.hrtime();return 1e3*s[0]+s[1]/1e6}:function(){return performance.now()};var bt,Ht={};function Jt(){if(!bt){var c,s={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:P||"./this.program"};for(c in Ht)void 0===Ht[c]?delete s[c]:s[c]=Ht[c];var h=[];for(c in s)h.push(c+"="+s[c]);bt=h}return bt}function wt(s,c,h,w){s||(s=this),this.parent=s,this.Va=s.Va,this.$a=null,this.id=wn++,this.name=c,this.mode=h,this.La={},this.Ma={},this.rdev=w}function Si(s,c){var h=Array(qe(s)+1);return s=Ue(s,h,0,h.length),c&&(h.length=s),h}Object.defineProperties(wt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(s){s?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(s){s?this.mode|=146:this.mode&=-147}}}),fe(),Sr=Array(4096),_t(De,"/"),mr("/tmp"),mr("/home"),mr("/home/web_user"),function(){mr("/dev"),Rr(259,{read:function(){return 0},write:function(c,h,w,A){return A}}),Br("/dev/null",259),Ft(1280,Lt),Ft(1536,bn),Br("/dev/tty",1280),Br("/dev/tty1",1536);var s=function Kr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var s=new Uint8Array(1);return function(){return crypto.getRandomValues(s),s[0]}}if(S)try{var c=dn;return function(){return c.randomBytes(1)[0]}}catch(h){}return function(){K("randomDevice")}}();_e("random",s),_e("urandom",s),mr("/dev/shm"),mr("/dev/shm/tmp")}(),function(){mr("/proc");var s=mr("/proc/self");mr("/proc/self/fd"),_t({Va:function(){var c=Zt(s,"fd",16895,73);return c.La={lookup:function(h,w){var A=dr[+w];if(!A)throw new re(8);return(h={parent:null,Va:{Ab:"fake"},La:{readlink:function(){return A.path}}}).parent=h}},c}},"/proc/self/fd")}();var Ao={a:function(s,c,h,w){K("Assertion failed: "+ue(s)+", at: "+[c?ue(c):"unknown filename",h,w?ue(w):"unknown function"])},s:function(s,c){tr||(tr=!0,function qr(){function s(be){return(be=be.toTimeString().match(/\(([A-Za-z ]+)\)$/))?be[1]:"GMT"}var c=(new Date).getFullYear(),h=new Date(c,0,1),w=new Date(c,6,1);c=h.getTimezoneOffset();var A=w.getTimezoneOffset(),Z=Math.max(c,A);ve[Ti()>>2]=60*Z,ve[Pi()>>2]=Number(c!=A),h=s(h),w=s(w),h=Ne(h),w=Ne(w),A<c?(ve[lt()>>2]=h,ve[lt()+4>>2]=w):(ve[lt()>>2]=w,ve[lt()+4>>2]=h)}()),s=new Date(1e3*ve[s>>2]),ve[c>>2]=s.getSeconds(),ve[c+4>>2]=s.getMinutes(),ve[c+8>>2]=s.getHours(),ve[c+12>>2]=s.getDate(),ve[c+16>>2]=s.getMonth(),ve[c+20>>2]=s.getFullYear()-1900,ve[c+24>>2]=s.getDay();var h=new Date(s.getFullYear(),0,1);ve[c+28>>2]=(s.getTime()-h.getTime())/864e5|0,ve[c+36>>2]=-60*s.getTimezoneOffset();var w=new Date(s.getFullYear(),6,1).getTimezoneOffset();return s=0|(w!=(h=h.getTimezoneOffset())&&s.getTimezoneOffset()==Math.min(h,w)),ve[c+32>>2]=s,s=ve[lt()+(s?4:0)>>2],ve[c+40>>2]=s,c},y:function(s,c){try{var w;if(s=ue(s),-8&c)var h=-28;else(w=Xe(s,{Xa:!0}).node)?(s="",4&c&&(s+="r"),2&c&&(s+="w"),1&c&&(s+="x"),h=s&&Wr(w,s)?-2:0):h=-44;return h}catch(A){return void 0!==Se&&A instanceof re||K(A),-A.Pa}},i:function(s,c){try{return ct(s=ue(s),c),0}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},z:function(s){try{return v(s=ue(s)),0}catch(c){return void 0!==Se&&c instanceof re||K(c),-c.Pa}},j:function(s,c){try{var h=dr[s];if(!h)throw new re(8);return ct(h.node,c),0}catch(w){return void 0!==Se&&w instanceof re||K(w),-w.Pa}},A:function(s){try{var c=dr[s];if(!c)throw new re(8);return v(c.node),0}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},b:function(s,c,h){Pr=h;try{var w=Tr(s);switch(c){case 0:var A=Gr();return 0>A?-28:x(w.path,w.flags,0,A).fd;case 1:case 2:case 13:case 14:return 0;case 3:return w.flags;case 4:return A=Gr(),w.flags|=A,0;case 12:return A=Gr(),Je[A+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return ve[Pn()>>2]=28,-1}}catch(Z){return void 0!==Se&&Z instanceof re||K(Z),-Z.Pa}},k:function(s,c){try{return er(Vr,Tr(s).path,c)}catch(w){return void 0!==Se&&w instanceof re||K(w),-w.Pa}},E:function(s,c,h){try{var w=dr[s];if(!w)throw new re(8);if(0==(2097155&w.flags))throw new re(28);return O(w.node,h),0}catch(A){return void 0!==Se&&A instanceof re||K(A),-A.Pa}},D:function(s,c){try{return 0===c?-28:c<qe("/")+1?-68:(Ue("/",Le,s,c),s)}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},v:function(){return 0},d:function(){return 42},h:function(s,c){try{return er(Sn,s=ue(s),c)}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},l:function(s,c){try{return"/"===(s=fr(s=ue(s)))[s.length-1]&&(s=s.substr(0,s.length-1)),mr(s,c),0}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},t:function(s,c,h,w,A,Z){try{e:{Z<<=12;var be=!1;if(0!=(16&w)&&s%65536!=0)var Be=-28;else{if(0!=(32&w)){var Ze=$t(c);if(!Ze){Be=-48;break e}be=!0}else{var $e=dr[A];if(!$e){Be=-8;break e}var nr=Z;if(0!=(2&h)&&0==(2&w)&&2!=(2097155&$e.flags))throw new re(2);if(1==(2097155&$e.flags))throw new re(2);if(!$e.Ma.gb)throw new re(43);var pr=$e.Ma.gb($e,s,c,nr,h,w);Ze=pr.Mb,be=pr.jb}Ve[Ze]={Jb:Ze,Ib:c,jb:be,fd:A,Lb:h,flags:w,offset:Z},Be=Ze}}return Be}catch(rt){return void 0!==Se&&rt instanceof re||K(rt),-rt.Pa}},u:function(s,c){try{var h=Ve[s];if(0!==c&&h){if(c===h.Ib){var w=dr[h.fd];if(w&&2&h.Lb){var A=h.flags,Z=h.offset,be=Le.slice(s,s+c);w&&w.Ma.hb&&w.Ma.hb(w,be,Z,c,A)}Ve[s]=null,h.jb&&Et(h.Jb)}var Be=0}else Be=-28;return Be}catch(Ze){return void 0!==Se&&Ze instanceof re||K(Ze),-Ze.Pa}},I:function(s,c,h){Pr=h;try{return x(ue(s),c,h?Gr():0).fd}catch(Z){return void 0!==Se&&Z instanceof re||K(Z),-Z.Pa}},F:function(s,c,h){try{if(s=ue(s),0>=h)var w=-28;else{var A=Qt(s),Z=Math.min(h,qe(A)),be=je[c+Z];Ue(A,Le,c,h+1),je[c+Z]=be,w=Z}return w}catch(Be){return void 0!==Se&&Be instanceof re||K(Be),-Be.Pa}},H:function(s){try{var c=Xe(s=ue(s),{parent:!0}).node,h=kr(s),w=Nr(c,h),A=Vt(c,h,!0);if(A)throw new re(A);if(!c.La.rmdir)throw new re(63);if(w.$a)throw new re(10);try{or.willDeletePath&&or.willDeletePath(s)}catch(Z){G("FS.trackingDelegate['willDeletePath']('"+s+"') threw an exception: "+Z.message)}c.La.rmdir(c,h),Mt(w);try{or.onDeletePath&&or.onDeletePath(s)}catch(Z){G("FS.trackingDelegate['onDeletePath']('"+s+"') threw an exception: "+Z.message)}return 0}catch(Z){return void 0!==Se&&Z instanceof re||K(Z),-Z.Pa}},e:function(s,c){try{return er(Vr,s=ue(s),c)}catch(h){return void 0!==Se&&h instanceof re||K(h),-h.Pa}},x:function(s){try{return Yt(s=ue(s)),0}catch(c){return void 0!==Se&&c instanceof re||K(c),-c.Pa}},J:function(){return 2147483648},n:function(s,c,h){Le.copyWithin(s,c,c+h)},c:function(s){var c=Le.length;if(2147483648<(s>>>=0))return!1;for(var h=1;4>=h;h*=2){var w=c*(1+.2/h);w=Math.min(w,s+100663296),0<(w=Math.max(s,w))%65536&&(w+=65536-w%65536);e:{try{Ee.grow(Math.min(2147483648,w)-Fe.byteLength+65535>>>16),V();var A=1;break e}catch(Z){}A=void 0}if(A)return!0}return!1},r:function(s){for(var c=et();et()-c<s;);},p:function(s,c){var h=0;return Jt().forEach(function(w,A){var Z=c+h;for(A=ve[s+4*A>>2]=Z,Z=0;Z<w.length;++Z)je[A++>>0]=w.charCodeAt(Z);je[A>>0]=0,h+=w.length+1}),0},q:function(s,c){var h=Jt();ve[s>>2]=h.length;var w=0;return h.forEach(function(A){w+=A.length+1}),ve[c>>2]=w,0},f:function(s){try{return N(Tr(s)),0}catch(h){return void 0!==Se&&h instanceof re||K(h),h.Pa}},o:function(s,c){try{var h=Tr(s);return je[c>>0]=h.tty?2:ar(h.mode)?3:40960==(61440&h.mode)?7:4,0}catch(w){return void 0!==Se&&w instanceof re||K(w),w.Pa}},w:function(s,c,h,w){try{e:{for(var A=Tr(s),Z=s=0;Z<h;Z++){var be=ve[c+(8*Z+4)>>2],Be=C(A,je,ve[c+8*Z>>2],be,void 0);if(0>Be){var Ze=-1;break e}if(s+=Be,Be<be)break}Ze=s}return ve[w>>2]=Ze,0}catch($e){return void 0!==Se&&$e instanceof re||K($e),$e.Pa}},m:function(s,c,h,w,A){try{var Z=Tr(s);return-9007199254740992>=(s=4294967296*h+(c>>>0))||9007199254740992<=s?-61:(F(Z,s,w),Ye=[Z.position>>>0,(Re=Z.position,1<=+Math.abs(Re)?0<Re?(0|Math.min(+Math.floor(Re/4294967296),4294967295))>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],ve[A>>2]=Ye[0],ve[A+4>>2]=Ye[1],Z.nb&&0===s&&0===w&&(Z.nb=null),0)}catch(be){return void 0!==Se&&be instanceof re||K(be),be.Pa}},G:function(s){try{var c=Tr(s);return c.Ma&&c.Ma.fsync?-c.Ma.fsync(c):0}catch(h){return void 0!==Se&&h instanceof re||K(h),h.Pa}},B:function(s,c,h,w){try{e:{for(var A=Tr(s),Z=s=0;Z<h;Z++){var be=ee(A,je,ve[c+8*Z>>2],ve[c+(8*Z+4)>>2],void 0);if(0>be){var Be=-1;break e}s+=be}Be=s}return ve[w>>2]=Be,0}catch(Ze){return void 0!==Se&&Ze instanceof re||K(Ze),Ze.Pa}},g:function(s){var c=Date.now();return ve[s>>2]=c/1e3|0,ve[s+4>>2]=c%1e3*1e3|0,0},K:function(s){var c=Date.now()/1e3|0;return s&&(ve[s>>2]=c),c},C:function(s,c){if(c){var h=c+8;c=1e3*ve[h>>2],c+=ve[h+4>>2]/1e3}else c=Date.now();s=ue(s);try{var w=Xe(s,{Xa:!0}).node;w.La.Sa(w,{timestamp:Math.max(c,c)});var A=0}catch(Z){if(!(Z instanceof re)){e:{if(!(A=Error()).stack){try{throw Error()}catch(be){A=be}if(!A.stack){A="(no stack trace available)";break e}}A=A.stack.toString()}throw u.extraStackTrace&&(A+="\n"+u.extraStackTrace()),A=function Cr(s){return s.replace(/\b_Z[\w\d_]+/g,function(c){return c==c?c:c+" ["+c+"]"})}(A),Z+" : "+A}A=Z.Pa,ve[Pn()>>2]=A,A=-1}return A}};(function(){function s(A){u.asm=A.exports,Ee=u.asm.L,V(),D=u.asm.Ca,B.unshift(u.asm.M),$--,u.monitorRunDependencies&&u.monitorRunDependencies($),0==$&&(null!==le&&(clearInterval(le),le=null),ge&&(A=ge,ge=null,A()))}function c(A){s(A.instance)}function h(A){return function Er(){if(!I&&(p||_)){if("function"==typeof fetch&&!Ae.startsWith("file://"))return fetch(Ae,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+Ae+"'";return s.arrayBuffer()}).catch(function(){return He()});if(T)return new Promise(function(s,c){T(Ae,function(h){s(new Uint8Array(h))},c)})}return Promise.resolve().then(function(){return He()})}().then(function(Z){return WebAssembly.instantiate(Z,w)}).then(function(Z){return Z}).then(A,function(Z){G("failed to asynchronously prepare wasm: "+Z),K(Z)})}var w={a:Ao};if($++,u.monitorRunDependencies&&u.monitorRunDependencies($),u.instantiateWasm)try{return u.instantiateWasm(w,s)}catch(A){return G("Module.instantiateWasm callback failed with error: "+A),!1}I||"function"!=typeof WebAssembly.instantiateStreaming||we()||Ae.startsWith("file://")||"function"!=typeof fetch?h(c):fetch(Ae,{credentials:"same-origin"}).then(function(A){return WebAssembly.instantiateStreaming(A,w).then(c,function(Z){return G("wasm streaming compile failed: "+Z),G("falling back to ArrayBuffer instantiation"),h(c)})})})(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.M).apply(null,arguments)},u._sqlite3_free=function(){return(u._sqlite3_free=u.asm.N).apply(null,arguments)};var Pn=u.___errno_location=function(){return(Pn=u.___errno_location=u.asm.O).apply(null,arguments)};u._sqlite3_step=function(){return(u._sqlite3_step=u.asm.P).apply(null,arguments)},u._sqlite3_finalize=function(){return(u._sqlite3_finalize=u.asm.Q).apply(null,arguments)},u._sqlite3_prepare_v2=function(){return(u._sqlite3_prepare_v2=u.asm.R).apply(null,arguments)},u._sqlite3_reset=function(){return(u._sqlite3_reset=u.asm.S).apply(null,arguments)},u._sqlite3_clear_bindings=function(){return(u._sqlite3_clear_bindings=u.asm.T).apply(null,arguments)},u._sqlite3_value_blob=function(){return(u._sqlite3_value_blob=u.asm.U).apply(null,arguments)},u._sqlite3_value_text=function(){return(u._sqlite3_value_text=u.asm.V).apply(null,arguments)},u._sqlite3_value_bytes=function(){return(u._sqlite3_value_bytes=u.asm.W).apply(null,arguments)},u._sqlite3_value_double=function(){return(u._sqlite3_value_double=u.asm.X).apply(null,arguments)},u._sqlite3_value_int=function(){return(u._sqlite3_value_int=u.asm.Y).apply(null,arguments)},u._sqlite3_value_type=function(){return(u._sqlite3_value_type=u.asm.Z).apply(null,arguments)},u._sqlite3_result_blob=function(){return(u._sqlite3_result_blob=u.asm._).apply(null,arguments)},u._sqlite3_result_double=function(){return(u._sqlite3_result_double=u.asm.$).apply(null,arguments)},u._sqlite3_result_error=function(){return(u._sqlite3_result_error=u.asm.aa).apply(null,arguments)},u._sqlite3_result_int=function(){return(u._sqlite3_result_int=u.asm.ba).apply(null,arguments)},u._sqlite3_result_int64=function(){return(u._sqlite3_result_int64=u.asm.ca).apply(null,arguments)},u._sqlite3_result_null=function(){return(u._sqlite3_result_null=u.asm.da).apply(null,arguments)},u._sqlite3_result_text=function(){return(u._sqlite3_result_text=u.asm.ea).apply(null,arguments)},u._sqlite3_column_count=function(){return(u._sqlite3_column_count=u.asm.fa).apply(null,arguments)},u._sqlite3_data_count=function(){return(u._sqlite3_data_count=u.asm.ga).apply(null,arguments)},u._sqlite3_column_blob=function(){return(u._sqlite3_column_blob=u.asm.ha).apply(null,arguments)},u._sqlite3_column_bytes=function(){return(u._sqlite3_column_bytes=u.asm.ia).apply(null,arguments)},u._sqlite3_column_double=function(){return(u._sqlite3_column_double=u.asm.ja).apply(null,arguments)},u._sqlite3_column_text=function(){return(u._sqlite3_column_text=u.asm.ka).apply(null,arguments)},u._sqlite3_column_type=function(){return(u._sqlite3_column_type=u.asm.la).apply(null,arguments)},u._sqlite3_column_name=function(){return(u._sqlite3_column_name=u.asm.ma).apply(null,arguments)},u._sqlite3_bind_blob=function(){return(u._sqlite3_bind_blob=u.asm.na).apply(null,arguments)},u._sqlite3_bind_double=function(){return(u._sqlite3_bind_double=u.asm.oa).apply(null,arguments)},u._sqlite3_bind_int=function(){return(u._sqlite3_bind_int=u.asm.pa).apply(null,arguments)},u._sqlite3_bind_text=function(){return(u._sqlite3_bind_text=u.asm.qa).apply(null,arguments)},u._sqlite3_bind_parameter_index=function(){return(u._sqlite3_bind_parameter_index=u.asm.ra).apply(null,arguments)},u._sqlite3_sql=function(){return(u._sqlite3_sql=u.asm.sa).apply(null,arguments)},u._sqlite3_normalized_sql=function(){return(u._sqlite3_normalized_sql=u.asm.ta).apply(null,arguments)},u._sqlite3_errmsg=function(){return(u._sqlite3_errmsg=u.asm.ua).apply(null,arguments)},u._sqlite3_exec=function(){return(u._sqlite3_exec=u.asm.va).apply(null,arguments)},u._sqlite3_changes=function(){return(u._sqlite3_changes=u.asm.wa).apply(null,arguments)},u._sqlite3_close_v2=function(){return(u._sqlite3_close_v2=u.asm.xa).apply(null,arguments)},u._sqlite3_create_function_v2=function(){return(u._sqlite3_create_function_v2=u.asm.ya).apply(null,arguments)},u._sqlite3_open=function(){return(u._sqlite3_open=u.asm.za).apply(null,arguments)};var Kt=u._malloc=function(){return(Kt=u._malloc=u.asm.Aa).apply(null,arguments)},Et=u._free=function(){return(Et=u._free=u.asm.Ba).apply(null,arguments)};u._RegisterExtensionFunctions=function(){return(u._RegisterExtensionFunctions=u.asm.Da).apply(null,arguments)};var Xt,lt=u.__get_tzname=function(){return(lt=u.__get_tzname=u.asm.Ea).apply(null,arguments)},Pi=u.__get_daylight=function(){return(Pi=u.__get_daylight=u.asm.Fa).apply(null,arguments)},Ti=u.__get_timezone=function(){return(Ti=u.__get_timezone=u.asm.Ga).apply(null,arguments)},xt=u.stackSave=function(){return(xt=u.stackSave=u.asm.Ha).apply(null,arguments)},kt=u.stackRestore=function(){return(kt=u.stackRestore=u.asm.Ia).apply(null,arguments)},Fr=u.stackAlloc=function(){return(Fr=u.stackAlloc=u.asm.Ja).apply(null,arguments)},Di=u._memalign=function(){return(Di=u._memalign=u.asm.Ka).apply(null,arguments)};function Tn(){function s(){if(!Xt&&(Xt=!0,u.calledRun=!0,!oe)){if(u.noFSInit||he||(he=!0,fe(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?_e("stdin",u.stdin):Xr("/dev/tty","/dev/stdin"),u.stdout?_e("stdout",null,u.stdout):Xr("/dev/tty","/dev/stdout"),u.stderr?_e("stderr",null,u.stderr):Xr("/dev/tty1","/dev/stderr"),x("/dev/stdin",0),x("/dev/stdout",1),x("/dev/stderr",1)),Ut=!1,Me(B),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var c=u.postRun.shift();ne.unshift(c)}Me(ne)}}if(!(0<$)){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)ie();Me(k),0<$||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),s()},1)):s())}}if(u.cwrap=function(s,c,h,w){var A=(h=h||[]).every(function(Z){return"number"===Z});return"string"!==c&&A&&!w?Pe(s):function(){return ce(s,c,h,arguments)}},u.UTF8ToString=ue,u.stackSave=xt,u.stackRestore=kt,u.stackAlloc=Fr,ge=function s(){Xt||Tn(),Xt||(ge=s)},u.run=Tn,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Tn(),l}),e)};i.exports=t,i.exports.default=t});const mn=function(){var i=(0,U.Z)(function*(r,e){try{const t=yield e.getItem(r);return Promise.resolve(t)}catch(t){return Promise.reject(`GetDBFromStore: ${t.message}`)}});return function(e,t){return i.apply(this,arguments)}}(),Ws=function(){var i=(0,U.Z)(function*(r,e){try{return yield e.setItem(r,null),Promise.resolve()}catch(t){return Promise.reject(`SetInitialDBToStore: ${t.message}`)}});return function(e,t){return i.apply(this,arguments)}}(),wr=function(){var i=(0,U.Z)(function*(r,e,t){try{const n=r.export();return yield dt(e,n,t),Promise.resolve()}catch(n){return Promise.reject(`SetDBToStore: ${n.message}`)}});return function(e,t,n){return i.apply(this,arguments)}}(),dt=function(){var i=(0,U.Z)(function*(r,e,t){try{return yield t.setItem(r,e),Promise.resolve()}catch(n){return Promise.reject(`SaveDBToStore: ${n.message}`)}});return function(e,t,n){return i.apply(this,arguments)}}(),ot=function(){var i=(0,U.Z)(function*(r,e){try{return yield e.removeItem(r),Promise.resolve()}catch(t){return Promise.reject(`RemoveDBFromStore: ${t.message}`)}});return function(e,t){return i.apply(this,arguments)}}(),Ur=function(){var i=(0,U.Z)(function*(r,e){try{const t=yield e.getItem(r);return Promise.resolve(null!=t&&t.length>0)}catch(t){return Promise.reject(`IsDBInStore: ${t}`)}});return function(e,t){return i.apply(this,arguments)}}(),oi=function(){var i=(0,U.Z)(function*(r,e,t){const n=`${e}-${r}`;try{if(yield Ur(n,t)){if(yield Ur(r,t)){const l=yield mn(n,t);return yield dt(r,l,t),yield ot(n,t),Promise.resolve()}return Promise.reject(new Error(`RestoreDBFromStore: ${r} does not exist`))}return Promise.reject(new Error(`RestoreDBFromStore: ${n} does not exist`))}catch(o){return Promise.reject(`RestoreDBFromStore: ${o.message}`)}});return function(e,t,n){return i.apply(this,arguments)}}(),Vs=function(){var i=(0,U.Z)(function*(r,e,t){try{if(yield Ur(r,t)){const o=yield mn(r,t);return yield dt(e,o,t),Promise.resolve()}return Promise.reject(new Error(`CopyDBToStore: ${r} does not exist`))}catch(n){return Promise.reject(`CopyDBToStore: ${n.message}`)}});return function(e,t,n){return i.apply(this,arguments)}}(),Gs=function(){var i=(0,U.Z)(function*(r){try{const e=yield r.keys();return Promise.resolve(e)}catch(e){return Promise.reject(`GetDBListFromStore: ${e.message}`)}});return function(e){return i.apply(this,arguments)}}(),Nt=function(){var i=(0,U.Z)(function*(r){let e="SELECT name FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%' ",e+="ORDER BY rootpage DESC;";const t=[];try{const n=yield rr(r,"SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sync_table' AND name NOT LIKE '_temp_%' AND name NOT LIKE 'sqlite_%' ORDER BY rootpage DESC;",[]);for(const o of n)t.push(o.name);return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetTablesNames: ${n.message}`))}});return function(e){return i.apply(this,arguments)}}(),at=function(){var i=(0,U.Z)(function*(r,e){let t="",n="AND name NOT LIKE ('sqlite_%')";switch(e){case"index":t="DropIndexes";break;case"trigger":t="DropTriggers";break;case"table":t="DropTables",n+=" AND name NOT IN ('sync_table')";break;case"view":t="DropViews";break;default:return Promise.reject(new Error(`DropElements: ${e} not found`))}let o="SELECT name FROM sqlite_master WHERE ";o+=`type = '${e}' ${n};`;try{const a=yield rr(r,o,[]);if(a.length>0){const l=e.toUpperCase(),d=[];for(const u of a){let b=`DROP ${l} IF EXISTS `;b+=`${u.name};`,d.push(b)}for(const u of d)if((yield mt(r,u,[]))<0)return Promise.reject(new Error(`DropElements: ${t}: lastId < 0`))}return Promise.resolve()}catch(a){return Promise.reject(new Error(`DropElements: ${t}: ${a.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Ys=function(){var i=(0,U.Z)(function*(r){try{return yield at(r,"table"),yield at(r,"index"),yield at(r,"trigger"),yield at(r,"view"),yield mt(r,"VACUUM;",[]),Promise.resolve()}catch(e){return Promise.reject(new Error(`DropAll: ${e.message}`))}});return function(e){return i.apply(this,arguments)}}(),Qs=function(){var i=(0,U.Z)(function*(r,e){const t=Object.keys(e),n=[];for(const o of t){let a="DROP TABLE IF EXISTS ";a+=`_temp_${o};`,n.push(a)}try{return(yield jr(r,n.join("\n")))<0?Promise.reject(new Error("DropTempTables: changes < 0")):Promise.resolve()}catch(o){return Promise.reject(new Error(`DropTempTables: ${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),pn=function(){var i=(0,U.Z)(function*(r){const e=["database","version","overwrite","encrypted","mode","tables","views"];if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const t of Object.keys(r)){if(-1===e.indexOf(t)||"database"===t&&"string"!=typeof r[t]||"version"===t&&"number"!=typeof r[t]||"overwrite"===t&&"boolean"!=typeof r[t]||"encrypted"===t&&"boolean"!=typeof r[t]||"mode"===t&&"string"!=typeof r[t]||"tables"===t&&"object"!=typeof r[t])return!1;if("tables"===t)for(const n of r[t])if(!(yield Hs(n)))return!1;if("views"===t&&"object"!=typeof r[t])return!1;if("views"===t)for(const n of r[t])if(!(yield Js(n)))return!1}return!0});return function(e){return i.apply(this,arguments)}}(),Hs=function(){var i=(0,U.Z)(function*(r){const e=["name","schema","indexes","triggers","values"];let t=0;if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const n of Object.keys(r)){if(-1===e.indexOf(n)||"name"===n&&"string"!=typeof r[n]||"schema"===n&&"object"!=typeof r[n]||"indexes"===n&&"object"!=typeof r[n]||"triggers"===n&&"object"!=typeof r[n]||"values"===n&&"object"!=typeof r[n])return!1;if("schema"===n){r.schema.forEach(o=>{o.column&&t++});for(let o=0;o<t;o++)if(!(yield ai(r[n][o])))return!1}if("indexes"===n)for(const o of r[n])if(!(yield ui(o)))return!1;if("triggers"===n)for(const o of r[n])if(!(yield ci(o)))return!1;if("values"===n&&t>0)for(const o of r[n])if("object"!=typeof o||o.length!=t)return!1}return!0});return function(e){return i.apply(this,arguments)}}(),ai=function(){var i=(0,U.Z)(function*(r){const e=["column","value","foreignkey","constraint"];if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(-1===e.indexOf(t)||"column"===t&&"string"!=typeof r[t]||"value"===t&&"string"!=typeof r[t]||"foreignkey"===t&&"string"!=typeof r[t]||"constraint"===t&&"string"!=typeof r[t])return!1;return!0});return function(e){return i.apply(this,arguments)}}(),ui=function(){var i=(0,U.Z)(function*(r){const e=["name","value","mode"];if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(-1===e.indexOf(t)||"name"===t&&"string"!=typeof r[t]||"value"===t&&"string"!=typeof r[t]||"mode"===t&&("string"!=typeof r[t]||"UNIQUE"!=r[t].toUpperCase()))return!1;return!0});return function(e){return i.apply(this,arguments)}}(),ci=function(){var i=(0,U.Z)(function*(r){const e=["name","timeevent","condition","logic"];if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(-1===e.indexOf(t)||"name"===t&&"string"!=typeof r[t]||"timeevent"===t&&"string"!=typeof r[t]||"condition"===t&&"string"!=typeof r[t]||"logic"===t&&"string"!=typeof r[t])return!1;return!0});return function(e){return i.apply(this,arguments)}}(),Js=function(){var i=(0,U.Z)(function*(r){const e=["name","value"];if(null==r||0===Object.keys(r).length&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(-1===e.indexOf(t)||"name"===t&&"string"!=typeof r[t]||"value"===t&&"string"!=typeof r[t])return!1;return!0});return function(e){return i.apply(this,arguments)}}(),li=function(){var i=(0,U.Z)(function*(r){for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("column")&&(t.column=r[e].column),n.includes("value")&&(t.value=r[e].value),n.includes("foreignkey")&&(t.foreignkey=r[e].foreignkey),n.includes("constraint")&&(t.constraint=r[e].constraint),!(yield ai(t)))return Promise.reject(new Error(`CheckSchemaValidity: schema[${e}] not valid`))}return Promise.resolve()});return function(e){return i.apply(this,arguments)}}(),fi=function(){var i=(0,U.Z)(function*(r){for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("value")&&(t.value=r[e].value),n.includes("name")&&(t.name=r[e].name),n.includes("mode")&&(t.mode=r[e].mode),!(yield ui(t)))return Promise.reject(new Error(`CheckIndexesValidity: indexes[${e}] not valid`))}return Promise.resolve()});return function(e){return i.apply(this,arguments)}}(),hi=function(){var i=(0,U.Z)(function*(r){for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("logic")&&(t.logic=r[e].logic),n.includes("name")&&(t.name=r[e].name),n.includes("timeevent")&&(t.timeevent=r[e].timeevent),n.includes("condition")&&(t.condition=r[e].condition),!(yield ci(t)))return Promise.reject(new Error(`CheckTriggersValidity: triggers[${e}] not valid`))}return Promise.resolve()});return function(e){return i.apply(this,arguments)}}(),yn=function(){var i=(0,U.Z)(function*(r,e){let t=[];const n=[],o=[],a=`PRAGMA table_info('${e}');`;try{if(t=yield rr(r,a,[]),t.length>0)for(const l of t)n.push(l.name),o.push(l.type);return Promise.resolve({names:n,types:o})}catch(l){return Promise.reject(new Error(`GetTableColumnNamesTypes: ${l.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Mr=function(){var i=(0,U.Z)(function*(r,e){if(!e)return Promise.reject(new Error("BeginTransaction: database not opened"));try{return yield r.run("BEGIN TRANSACTION;"),Promise.resolve()}catch(o){return Promise.reject(new Error(`DbChanges failed: ${o}`))}});return function(e,t){return i.apply(this,arguments)}}(),Or=function(){var i=(0,U.Z)(function*(r,e){const t="RollbackTransaction: ";if(!e)return Promise.reject(new Error(`${t}database not opened`));try{return yield r.run("ROLLBACK TRANSACTION;"),Promise.resolve()}catch(o){return Promise.reject(new Error(`${t}${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Zr=function(){var i=(0,U.Z)(function*(r,e){const t="CommitTransaction: ";if(!e)return Promise.reject(new Error(`${t}database not opened`));try{return yield r.run("COMMIT TRANSACTION;"),Promise.resolve()}catch(o){return Promise.reject(new Error(`${t}${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),lr=function(){var i=(0,U.Z)(function*(r){let t=0;try{return t=(yield r.exec("SELECT total_changes()"))[0].values[0][0],Promise.resolve(t)}catch(n){return Promise.reject(new Error(`DbChanges failed: ${n.message}`))}});return function(e){return i.apply(this,arguments)}}(),di=function(){var i=(0,U.Z)(function*(r){let t=-1;try{return t=(yield r.exec("SELECT last_insert_rowid()"))[0].values[0][0],Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetLastId failed: ${n.message}`))}});return function(e){return i.apply(this,arguments)}}(),Rt=function(){var i=(0,U.Z)(function*(r,e){let t="OFF";e&&(t="ON");try{return yield r.exec(`PRAGMA foreign_keys = '${t}'`),Promise.resolve()}catch(n){return Promise.reject(new Error(`SetForeignKey: ${n.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),vn=function(){var i=(0,U.Z)(function*(r){let e=0;try{return e=(yield r.exec("PRAGMA user_version;"))[0].values[0][0],Promise.resolve(e)}catch(t){return Promise.reject(new Error(`GetVersion: ${t.message}`))}});return function(e){return i.apply(this,arguments)}}(),Bt=function(){var i=(0,U.Z)(function*(r,e){try{return yield r.exec(`PRAGMA user_version = ${e}`),Promise.resolve()}catch(t){return Promise.reject(new Error(`SetVersion: ${t.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),jr=function(){var i=(0,U.Z)(function*(r,e){let t=-1,n=-1;try{return n=yield lr(r),yield r.exec(e),t=(yield lr(r))-n,Promise.resolve(t)}catch(o){return Promise.reject(new Error(`Execute: ${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),mi=function(){var i=(0,U.Z)(function*(r,e){let t=-1;for(let n=0;n<e.length;n++){const o="statement"in e[n]?e[n].statement:null,a="values"in e[n]&&e[n].values.length>0?e[n].values:[];if(null==o){let l="ExecuteSet: Error No statement";return l+=` for index ${n}`,Promise.reject(new Error(l))}try{if(Array.isArray(a[0]))for(const l of a){const d=yield gn(l);yield r.exec(o,d)}else{const l=yield gn(a);yield r.exec(o,l)}t=yield di(r)}catch(l){return Promise.reject(new Error(`ExecuteSet: ${l.message}`))}}return Promise.resolve(t)});return function(e,t){return i.apply(this,arguments)}}(),rr=function(){var i=(0,U.Z)(function*(r,e,t){const n=[];try{let o=[];if(o=null!=t&&t.length>0?yield r.exec(e,t):yield r.exec(e),0==o.length)return Promise.resolve([]);for(const a of o[0].values){const l={};for(let d=0;d<o[0].columns.length;d++)l[o[0].columns[d]]=a[d];n.push(l)}return Promise.resolve(n)}catch(o){return Promise.reject(new Error(`queryAll: ${o.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),mt=function(){var i=(0,U.Z)(function*(r,e,t){let n=-1;try{if(null!=t&&t.length>0){const o=yield gn(t);yield r.exec(e,o)}else yield r.exec(e);return n=yield di(r),Promise.resolve(n)}catch(o){return Promise.reject(new Error(`run: ${o.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),Ks=function(){var i=(0,U.Z)(function*(r){try{const e=yield Nt(r);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`getTableList: ${e.message}`))}});return function(e){return i.apply(this,arguments)}}(),Jr=function(){var i=(0,U.Z)(function*(r,e){try{let t="SELECT name FROM sqlite_master WHERE ";t+=`type='table' AND name='${e}';`;const o=(yield rr(r,t,[])).length>0;return Promise.resolve(o)}catch(t){return Promise.reject(new Error(`isTableExists: ${t.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Xs=function(){var i=(0,U.Z)(function*(r,e){if(!e)return Promise.reject("isLastModified: database not opened");try{const t=yield Nt(r);for(const n of t)if((yield yn(r,n)).names.includes("last_modified"))return Promise.resolve(!0)}catch(t){return Promise.reject(`isLastModified: ${t}`)}});return function(e,t){return i.apply(this,arguments)}}(),gn=function(){var i=(0,U.Z)(function*(r){const e=[];for(const t of r){let n=t;void 0===t&&(n=null),e.push(n)}return Promise.resolve(e)});return function(e){return i.apply(this,arguments)}}(),eo=function(){var i=(0,U.Z)(function*(r){let t={};try{const n=yield Nt(r);for(const o of n)try{const a=yield ro(r,o);t[`${o}`]=a}catch(a){return Promise.reject(new Error(`BackupTables: table ${o}: ${a.message}`))}return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`BackupTables: ${n.message}`))}});return function(e){return i.apply(this,arguments)}}(),ro=function(){var i=(0,U.Z)(function*(r,e){try{yield Mr(r,!0);const t=yield pi(r,e);let n=`ALTER TABLE ${e} RENAME `;if(n+=`TO _temp_${e};`,(yield mt(r,n,[]))<0){let a="BackupTable: lastId < 0";try{yield Or(r,!0)}catch(l){a+=`: ${l.message}`}return Promise.reject(new Error(`${a}`))}try{return yield Zr(r,!0),Promise.resolve(t)}catch(a){return Promise.reject(new Error(`BackupTable: ${a.message}`))}}catch(t){return Promise.reject(new Error(`BackupTable: ${t.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),pi=function(){var i=(0,U.Z)(function*(r,e){let t=[];const n=[],o=`PRAGMA table_info('${e}');`;try{if(t=yield rr(r,o,[]),t.length>0)for(const a of t)n.push(a.name);return Promise.resolve(n)}catch(a){return Promise.reject(new Error(`GetTableColumnNames: ${a.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),to=function(){var i=(0,U.Z)(function*(r,e){let t={};try{const n=yield Nt(r);if(0===n.length)return Promise.reject(new Error("FindCommonColumns: get table's names failed"));for(const o of n){const a=yield pi(r,o);Object.keys(e).includes(o)&&(t[o]=no(e[o],a))}return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`FindCommonColumns: ${n.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),no=(i,r)=>{if(null!=i&&null!=r){const e=new Set(i),t=new Set(r);return[...e].filter(n=>t.has(n))}return[]},io=function(){var i=(0,U.Z)(function*(r,e){try{yield Mr(r,!0);const t=[];if(Object.keys(e).forEach(a=>{const l=e[a].join(",");let d=`INSERT INTO ${a} `;d+=`(${l}) `,d+=`SELECT ${l} FROM _temp_${a};`,t.push(d)}),(yield jr(r,t.join("\n")))<0){let a="updateNewTablesData: changes < 0";try{yield Or(r,!0)}catch(l){a+=`: ${l.message}`}return Promise.reject(new Error(`${a}`))}try{return yield Zr(r,!0),Promise.resolve()}catch(a){return Promise.reject(new Error(`updateNewTablesData: ${a.message}`))}}catch(t){return Promise.reject(new Error(`updateNewTablesData: ${t.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),so=function(){var i=(0,U.Z)(function*(r,e){let t=-1;const n=e.version;try{return yield Rt(r,!1),yield Bt(r,n),"full"===e.mode&&(yield Ys(r)),yield Rt(r,!0),t=yield oo(r,e),Promise.resolve(t)}catch(o){return Promise.reject(new Error(`CreateDatabaseSchema: ${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),oo=function(){var i=(0,U.Z)(function*(r,e){let t=0;try{yield Mr(r,!0)}catch(o){return Promise.reject(new Error(`CreateSchema: ${o.message}`))}const n=yield ao(e);if(n.length>0){const o=n.join("\n");try{if(t=yield jr(r,o),t<0)try{yield Or(r,!0)}catch(a){return Promise.reject(new Error(`CreateSchema: changes < 0 ${a.message}`))}}catch(a){const l=a.message;try{return yield Or(r,!0),Promise.reject(new Error(`CreateSchema: ${l}`))}catch(d){return Promise.reject(new Error(`CreateSchema: changes < 0 ${d.message}: ${l}`))}}}try{return yield Zr(r,!0),Promise.resolve(t)}catch(o){return Promise.reject(new Error(`CreateSchema: commit ${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),ao=function(){var i=(0,U.Z)(function*(r){const e=[];let t=!1;try{for(const n of r.tables){if(null!=n.schema&&n.schema.length>=1){e.push(`CREATE TABLE IF NOT EXISTS ${n.name} (`);for(let o=0;o<n.schema.length;o++)o===n.schema.length-1?n.schema[o].column?(e.push(`${n.schema[o].column} ${n.schema[o].value}`),"last_modified"===n.schema[o].column&&(t=!0)):n.schema[o].foreignkey?e.push(`FOREIGN KEY (${n.schema[o].foreignkey}) ${n.schema[o].value}`):n.schema[o].constraint&&e.push(`CONSTRAINT ${n.schema[o].constraint} ${n.schema[o].value}`):n.schema[o].column?e.push(`${n.schema[o].column} ${n.schema[o].value},`):n.schema[o].foreignkey?e.push(`FOREIGN KEY (${n.schema[o].foreignkey}) ${n.schema[o].value},`):n.schema[o].constraint&&e.push(`CONSTRAINT ${n.schema[o].constraint} ${n.schema[o].value},`);if(e.push(");"),t){let o="CREATE TRIGGER IF NOT EXISTS ";o+=`${n.name}`,o+="_trigger_last_modified ",o+=`AFTER UPDATE ON ${n.name} `,o+="FOR EACH ROW WHEN NEW.last_modified <= ",o+="OLD.last_modified BEGIN UPDATE ",o+=`${n.name} `,o+="SET last_modified = ",o+="(strftime('%s','now')) WHERE id=OLD.id; END;",e.push(o)}}if(null!=n.indexes&&n.indexes.length>=1)for(const o of n.indexes){const a=n.name;let l=`CREATE ${Object.keys(o).includes("mode")?o.mode+" ":""} INDEX IF NOT EXISTS `;l+=`${o.name} ON ${a} (${o.value});`,e.push(l)}if(null!=n.triggers&&n.triggers.length>=1)for(const o of n.triggers){const a=n.name;o.timeevent.toUpperCase().endsWith(" ON")&&(o.timeevent=o.timeevent.substring(0,o.timeevent.length-3));let l="CREATE TRIGGER IF NOT EXISTS ";l+=`${o.name} ${o.timeevent} ON ${a} `,o.condition&&(l+=`${o.condition} `),l+=`${o.logic};`,e.push(l)}}return Promise.resolve(e)}catch(n){return Promise.reject(n)}});return function(e){return i.apply(this,arguments)}}(),uo=function(){var i=(0,U.Z)(function*(r,e,t){let n=0,o=!1,a=-1,l="",d=-1;try{d=yield lr(r),yield Mr(r,!0)}catch(u){return Promise.reject(new Error(`createTablesData: ${u.message}`))}for(const u of e.tables)if(null!=u.values&&u.values.length>=1)try{if(a=yield co(r,u,e.mode),t.emit({progress:`create table data ${u.name}`}),a<0)break;o=!0}catch(b){l=b.message,o=!1;break}if(o)try{return yield Zr(r,!0),n=(yield lr(r))-d,Promise.resolve(n)}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}`))}else{if(!(l.length>0))return Promise.resolve(0);try{return yield Or(r,!0),Promise.reject(new Error(`CreateTablesData: ${l}`))}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}: ${l}`))}}});return function(e,t,n){return i.apply(this,arguments)}}(),co=function(){var i=(0,U.Z)(function*(r,e,t){let n=-1;try{if(!(yield Jr(r,e.name)))return Promise.reject(new Error(`CreateDataTable: Table ${e.name} does not exist`));const a=yield yn(r,e.name),l=a.types,d=a.names;if(0===l.length)return Promise.reject(new Error(`CreateDataTable: Table ${e.name} info does not exist`));for(let u=0;u<e.values.length;u++){if(e.values[u].length!=l.length)return Promise.reject(new Error(`CreateDataTable: Table ${e.name} values row ${u} not correct length`));const b=yield lo(r,e.name,d[0],e.values[u][0]);let g;if("full"===t||"partial"===t&&!b){const P=d.join(),p=yield fo(d.length);g=`INSERT INTO ${e.name} (${P}) VALUES (`,g+=`${p});`}else{const P=yield ho(d);if(0===P.length)return Promise.reject(new Error(`CreateDataTable: Table ${e.name} values row ${u} not set to String`));g=`UPDATE ${e.name} SET ${P} WHERE `,g+="string"==typeof e.values[u][0]?`${d[0]} = '${e.values[u][0]}';`:`${d[0]} = ${e.values[u][0]};`}if(n=yield mt(r,g,e.values[u]),n<0)return Promise.reject(new Error("CreateDataTable: lastId < 0"))}return Promise.resolve(n)}catch(o){return Promise.reject(new Error(`CreateDataTable: ${o.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),lo=function(){var i=(0,U.Z)(function*(r,e,t,n){let o=!1,a=`SELECT ${t} FROM ${e} WHERE ${t} = `;"number"==typeof n&&(a+=`${n};`),"string"==typeof n&&(a+=`'${n}';`);try{return 1===(yield rr(r,a,[])).length&&(o=!0),Promise.resolve(o)}catch(l){return Promise.reject(new Error(`IsIdExists: ${l.message}`))}});return function(e,t,n,o){return i.apply(this,arguments)}}(),fo=function(){var i=(0,U.Z)(function*(r){let e="";for(let t=0;t<r;t++)e+="?,";return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("CreateQuestionMarkString: length = 0"))});return function(e){return i.apply(this,arguments)}}(),ho=function(){var i=(0,U.Z)(function*(r){let e="";for(const t of r)e+=`${t} = ? ,`;return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("SetNameForUpdate: length = 0"))});return function(e){return i.apply(this,arguments)}}(),mo=function(){var i=(0,U.Z)(function*(r,e){const t=`CREATE VIEW IF NOT EXISTS ${e.name} AS ${e.value};`;try{return(yield jr(r,t))<0?Promise.reject(new Error(`CreateView: ${e.name} failed`)):Promise.resolve()}catch(n){return Promise.reject(new Error(`CreateView: ${n.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),po=function(){var i=(0,U.Z)(function*(r,e){let t=!1,n="",o=-1,a=-1;try{o=yield lr(r),yield Mr(r,!0)}catch(l){return Promise.reject(new Error(`createViews: ${l.message}`))}for(const l of e.views)if(null!=l.value)try{yield mo(r,l),t=!0}catch(d){n=d.message,t=!1;break}if(t)try{return yield Zr(r,!0),a=(yield lr(r))-o,Promise.resolve(a)}catch(l){return Promise.reject(new Error(`createViews: ${l.message}`))}else{if(!(n.length>0))return Promise.resolve(0);try{return yield Or(r,!0),Promise.reject(new Error(`createViews: ${n}`))}catch(l){return Promise.reject(new Error(`createViews: ${l.message}: ${n}`))}}});return function(e,t){return i.apply(this,arguments)}}(),yo=function(){var i=(0,U.Z)(function*(r,e,t){const n={};let o=[],a=[],l="";try{a=yield go(r);const d=yield vo(r);if(0===d.length)return Promise.reject(new Error("createExportObject: table's names failed"));if(!(yield Jr(r,"sync_table"))&&"partial"===e.mode)return Promise.reject(new Error("No sync_table available"));switch(e.mode){case"partial":o=yield bo(r,d,t);break;case"full":o=yield _o(r,d,t);break;default:l="createExportObject: expMode "+e.mode+" not defined"}return l.length>0?Promise.reject(new Error(l)):(o.length>0&&(n.database=e.database,n.version=e.version,n.encrypted=e.encrypted,n.mode=e.mode,n.tables=o,a.length>0&&(n.views=a)),Promise.resolve(n))}catch(d){return Promise.reject(new Error("createExportObject: "+d.message))}});return function(e,t,n){return i.apply(this,arguments)}}(),vo=function(){var i=(0,U.Z)(function*(r){let e="SELECT name,sql FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%';";try{const t=yield rr(r,"SELECT name,sql FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sync_table' AND name NOT LIKE '_temp_%' AND name NOT LIKE 'sqlite_%';",[]);return Promise.resolve(t)}catch(t){return Promise.reject(new Error(`getTablesNames: ${t.message}`))}});return function(e){return i.apply(this,arguments)}}(),go=function(){var i=(0,U.Z)(function*(r){const e=[];let t="SELECT name,sql FROM sqlite_master WHERE ";t+="type='view' AND name NOT LIKE 'sqlite_%';";let n=[];try{n=yield rr(r,"SELECT name,sql FROM sqlite_master WHERE type='view' AND name NOT LIKE 'sqlite_%';",[]);for(const o of n){const a={};a.name=o.name,a.value=o.sql.substring(o.sql.indexOf("AS ")+3),e.push(a)}return Promise.resolve(e)}catch(o){return Promise.reject(new Error(`getViewsName: ${o.message}`))}});return function(e){return i.apply(this,arguments)}}(),_o=function(){var i=(0,U.Z)(function*(r,e,t){const n=[];let o="";try{for(const a of e){let l,d;if(!a.name){o="GetTablesFull: no name";break}if(l=a.name,!a.sql){o="GetTablesFull: no sql";break}d=a.sql;const u={},b=yield yi(d);if(0===b.length){o="GetTablesFull: no Schema returned";break}yield li(b);const g=yield vi(r,l);g.length>0&&(yield fi(g));const P=yield gi(r,l);P.length>0&&(yield hi(P));let p=`Full: Table ${l} schema export completed ...`;t.emit({progress:p});const _=`SELECT * FROM ${l};`,S=yield _i(r,_,l);if(u.name=l,!(b.length>0)){o="GetTablesFull: must contain schema";break}if(u.schema=b,g.length>0&&(u.indexes=g),P.length>0&&(u.triggers=P),S.length>0&&(u.values=S),Object.keys(u).length<=1){o=`GetTablesFull: table ${l} is not a jsonTable`;break}p=`Full: Table ${l} table data export completed ...`,t.emit({progress:p}),n.push(u)}return o.length>0?Promise.reject(new Error(o)):Promise.resolve(n)}catch(a){return Promise.reject(new Error(`GetTablesFull: ${a.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),yi=function(){var i=(0,U.Z)(function*(r){const e=[],t=r.indexOf("("),n=r.lastIndexOf(")");let o=r.substring(t+1,n);try{o=yield xo(o);const a=o.split(",");for(let l=0;l<a.length;l++){let d=[];const u=a[l].trim();d[0]=u.substring(0,u.indexOf(" ")),d[1]=u.substring(u.indexOf(" ")+1);const b={};if("FOREIGN"===d[0].toUpperCase()){const g=a[l].indexOf("("),P=a[l].indexOf(")");d[0]=a[l].substring(g+1,P),d[1]=a[l].substring(P+2),b.foreignkey=d[0]}else if("CONSTRAINT"===d[0].toUpperCase()){let g=[];const P=d[1].trim();g[0]=P.substring(0,P.indexOf(" ")),g[1]=P.substring(P.indexOf(" ")+1),d[0]=g[0],b.constraint=d[0],d[1]=g[1]}else b.column=d[0];b.value=d[1].replace(/\xa7/g,","),e.push(b)}return Promise.resolve(e)}catch(a){return Promise.reject(new Error(a.message))}});return function(e){return i.apply(this,arguments)}}(),vi=function(){var i=(0,U.Z)(function*(r,e){const t=[];let n="";try{let o="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";o+=`type = 'index' AND tbl_name = '${e}' `,o+="AND sql NOTNULL;";const a=yield rr(r,o,[]);if(a.length>0){for(const l of a){if(3!==Object.keys(l).length){n=`GetIndexes: Table ${e} creating indexes`;break}if(l.tbl_name!==e){n=`GetIndexes: Table ${e} doesn't match`;break}{const u=l.sql,b=u.includes("UNIQUE")?"UNIQUE":"",g=u.lastIndexOf("("),P=u.lastIndexOf(")"),p={};p.name=l.name,p.value=u.slice(g+1,P),b.length>0&&(p.mode=b),t.push(p)}}if(n.length>0)return Promise.reject(new Error(n))}return Promise.resolve(t)}catch(o){return Promise.reject(new Error(`GetIndexes: ${o.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),gi=function(){var i=(0,U.Z)(function*(r,e){const t=[];try{let n="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";n+=`type = 'trigger' AND tbl_name = '${e}' `,n+="AND sql NOT NULL;";const o=yield rr(r,n,[]);if(o.length>0)for(const a of o){if(3!==Object.keys(a).length)return Promise.reject(new Error(`GetTriggers: Table ${e} creating indexes`));if(a.tbl_name!==e)return Promise.reject(new Error(`GetTriggers: Table ${e} doesn't match`));{const u=a.name;let b=a.sql.split(u);if(2!=b.length)return Promise.reject(new Error("GetTriggers: sql split name does not return 2 values"));if(!b[1].includes(e))return Promise.reject(new Error(`GetTriggers: sql split does not contains ${e}`));const g=b[1].split(e,1)[0].trim();if(b=b[1].split(g+" "+e),2!=b.length)return Promise.reject(new Error("GetTriggers: sql split tableName does not return 2 values"));let P="",p="";if("BEGIN"!==b[1].trim().substring(0,5).toUpperCase()){if(b=b[1].trim().split("BEGIN"),2!=b.length)return Promise.reject(new Error("GetTriggers: sql split BEGIN does not return 2 values"));P=b[0].trim(),p="BEGIN"+b[1]}else p=b[1].trim();const _={};_.name=u,_.logic=p,P.length>0&&(_.condition=P),_.timeevent=g,t.push(_)}}return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetTriggers: ${n.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),_i=function(){var i=(0,U.Z)(function*(r,e,t){const n=[];try{const o=yield yn(r,t);let a=[];if(!Object.keys(o).includes("names"))return Promise.reject(new Error(`GetValues: Table ${t} no names`));a=o.names;const l=yield rr(r,e,[]);for(const d of l){const u=[];for(const b of a)Object.keys(d).includes(b)?u.push(d[b]):u.push(null);n.push(u)}return Promise.resolve(n)}catch(o){return Promise.reject(new Error(`GetValues: ${o.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),bo=function(){var i=(0,U.Z)(function*(r,e,t){const n=[];let o={},a=0,l=[],d="";try{const u=yield wo(r,e);Object.keys(u).includes("syncDate")&&(a=u.syncDate),Object.keys(u).includes("modTables")&&(o=u.modTables,l=Object.keys(o));for(const b of e){let g="",P="";if(!b.name){d="GetTablesFull: no name";break}if(g=b.name,!b.sql){d="GetTablesFull: no sql";break}if(P=b.sql,0==l.length||-1===l.indexOf(g)||"No"==o[g])continue;const p={};let _=[],S=[],y=[];p.name=b,"Create"===o[p.name]&&(_=yield yi(P),_.length>0&&(yield li(_)),S=yield vi(r,g),S.length>0&&(yield fi(S)),y=yield gi(r,g),y.length>0&&(yield hi(y)));let E=`Partial: Table ${g} schema export completed ...`;t.emit({progress:E});let T="";T="Create"===o[g]?`SELECT * FROM ${g};`:`SELECT * FROM ${g} WHERE last_modified > ${a};`;const j=yield _i(r,T,g);if(p.name=g,_.length>0&&(p.schema=_),S.length>0&&(p.indexes=S),y.length>0&&(p.triggers=y),j.length>0&&(p.values=j),Object.keys(p).length<=1){d=`GetTablesPartial: table ${g} is not a jsonTable`;break}E=`Partial: Table ${g} table data export completed ...`,t.emit({progress:E}),n.push(p)}return d.length>0?Promise.reject(new Error(d)):Promise.resolve(n)}catch(u){return Promise.reject(new Error(`GetTablesPartial: ${u.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),wo=function(){var i=(0,U.Z)(function*(r,e){const t={};try{const n=yield bi(r);if(n<=0)return Promise.reject(new Error("GetPartialModeData: no syncDate"));const o=yield Eo(r,e,n);return o.length<=0?Promise.reject(new Error("GetPartialModeData: no modTables")):(t.syncDate=n,t.modTables=o,Promise.resolve(t))}catch(n){return Promise.reject(new Error(`GetPartialModeData: ${n.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Eo=function(){var i=(0,U.Z)(function*(r,e,t){let n="";try{const o={};for(const a of e){let l,d="SELECT count(*) AS tcount  ";d+=`FROM ${a.name};`;let u=yield rr(r,d,[]);if(1!=u.length){n="GetTableModified: total count not returned";break}const b=u[0].tcount;if(d="SELECT count(*) AS mcount FROM ",d+=`${a.name} WHERE last_modified > `,d+=`${t};`,u=yield rr(r,d,[]),1!=u.length)break;const g=u[0].mcount;l=0===g?"No":b===g?"Create":"Modified",o[a.name]=l}return n.length>0?Promise.reject(new Error(n)):Promise.resolve(o)}catch(o){return Promise.reject(new Error(`GetTableModified: ${o.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}(),bi=function(){var i=(0,U.Z)(function*(r){try{const t=yield rr(r,"SELECT sync_date FROM sync_table;",[]);return Promise.resolve(t[0].sync_date)}catch(e){return Promise.reject(new Error(`getSyncDate: ${e.message}`))}});return function(e){return i.apply(this,arguments)}}(),xo=function(){var i=(0,U.Z)(function*(r){const e=wi(r,"("),t=wi(r,")");if(e.length!=t.length)return Promise.reject("ModEmbeddedParentheses: Not same number of '(' & ')'");if(0===e.length)return Promise.resolve(r);let n=r.substring(0,e[0]-1);for(let o=0;o<e.length;o++){let a;o<e.length-1&&e[o+1]<t[o]?(a=r.substring(e[o]-1,t[o+1]),o++):a=r.substring(e[o]-1,t[o]),n+=a.replace(/,/g,"\xa7"),o<e.length-1&&(n+=r.substring(t[o],e[o+1]-1))}return n+=r.substring(t[t.length-1],r.length),Promise.resolve(n)});return function(e){return i.apply(this,arguments)}}(),wi=(i,r)=>{let e=[...i];return r=r.toLowerCase(),e.reduce((t,n,o)=>n.toLowerCase()===r?[...t,o]:t,[])},ko=function(){var i=(0,U.Z)(function*(r,e,t,n,o,a){let l=-1;const d=e[n];if(null==d)return Promise.reject(new Error("onUpgrade: upgrade not found"));{const u=Object.keys(d);if(!u.includes("toVersion"))return Promise.reject(new Error("onUpgrade: toVersion not given"));const b=d.toVersion;if(!u.includes("statement"))return Promise.reject(new Error("onUpgrade: statement not given"));const g=d.statement;let P=[];if(u.includes("set")&&(P=d.set),o<b){let p="Error: version mistmatch ";return p+="Upgrade Statement would upgrade to ",p+=`version ${b} , but target version `,p+=`is ${o} for database ${t}`,p+=` and version ${n}`,Promise.reject(new Error(`onUpgrade: ${p}`))}try{yield Rt(r,!1),yield Vs(t,`backup-${t}`,a);const p=yield lr(r);return g.length>0&&(yield So(r,g),yield wr(r,t,a),P.length>0&&(yield Po(r,P,b),yield wr(r,t,a))),yield Rt(r,!0),l=(yield lr(r))-p,yield wr(r,t,a),Promise.resolve(l)}catch(p){return Promise.reject(new Error(`onUpgrade: ${p.message}`))}}});return function(e,t,n,o,a,l){return i.apply(this,arguments)}}(),So=function(){var i=(0,U.Z)(function*(r,e){try{const t=yield eo(r);if(yield at(r,"index"),yield at(r,"trigger"),(yield jr(r,e))<0)return Promise.reject(new Error("ExecuteStatementProcess: changes < 0"));const o=yield to(r,t);return Object.keys(o).length>0&&(yield io(r,o)),yield Qs(r,t),Promise.resolve()}catch(t){return Promise.reject(new Error(`ExecuteStatementProcess: ${t.message}`))}});return function(e,t){return i.apply(this,arguments)}}(),Po=function(){var i=(0,U.Z)(function*(r,e,t){try{if((yield mi(r,e))<0)return Promise.reject(new Error("ExecuteSetProcess: lastId < 0"));if(yield Bt(r,t),yield Jr(r,"sync_table")){const a=Math.round((new Date).getTime()/1e3);let l="UPDATE sync_table SET ";if(l+=`sync_date = ${a} WHERE id = 1;`,(yield jr(r,l))<0)return Promise.reject(new Error("ExecuteSetProcess: changes < 0"))}return Promise.resolve()}catch(n){return Promise.reject(new Error(`ExecuteSetProcess: ${n.message}`))}});return function(e,t,n){return i.apply(this,arguments)}}();class Ei{constructor(r,e,t,n,o){this.vUpgDict={},this.autoSave=!1,this.dbName=r,this.store=n,this.version=e,this.mDb=null,this.vUpgDict=t,this._isDBOpen=!1,this.autoSave=o}open(){var r=this;return(0,U.Z)(function*(){try{const e=yield qs({locateFile:o=>`assets/${o}`}),t=yield mn(r.dbName,r.store);null!=t?r.mDb=new e.Database(t):(r.mDb=new e.Database,yield Ws(r.dbName,r.store));let n=yield vn(r.mDb);if(0===n&&(yield Bt(r.mDb,1),n=yield vn(r.mDb)),r._isDBOpen=!0,r.version>n&&Object.keys(r.vUpgDict).length>0)if(Object.keys(r.vUpgDict).length>0)try{if(-1===(yield ko(r.mDb,r.vUpgDict,r.dbName,n,r.version,r.store)))try{yield oi(r.dbName,"backup",r.store)}catch(l){return Promise.reject(new Error(`Open: ${l.message}`))}yield ot(`backup-${r.dbName}`,r.store)}catch(a){try{yield oi(r.dbName,"backup",r.store)}catch(l){return Promise.reject(new Error(`Open: ${l.message}`))}}else try{yield Bt(r.mDb,r.version)}catch(a){return Promise.reject(new Error(`SetVersion: ${r.version} ${a.message}`))}if(r.autoSave)try{yield wr(r.mDb,r.dbName,r.store)}catch(o){return r._isDBOpen=!1,Promise.reject(`in close ${o}`)}return Promise.resolve()}catch(e){return r._isDBOpen=!1,Promise.reject(`in open ${e}`)}})()}isDBOpen(){return this._isDBOpen}close(){var r=this;return(0,U.Z)(function*(){if(null!=r.mDb&&r._isDBOpen)try{yield wr(r.mDb,r.dbName,r.store),r.mDb.close(),r._isDBOpen=!1}catch(e){return r._isDBOpen=!1,Promise.reject(`in close ${e}`)}return Promise.resolve()})()}saveToStore(){var r=this;return(0,U.Z)(function*(){if(null!=r.mDb&&r._isDBOpen)try{yield wr(r.mDb,r.dbName,r.store)}catch(e){return Promise.reject(`in saveToStore ${e}`)}return Promise.resolve()})()}getVersion(){var r=this;return(0,U.Z)(function*(){if(null!=r.mDb&&r._isDBOpen)try{const e=yield vn(r.mDb);return Promise.resolve(e)}catch(e){return r._isDBOpen=!1,Promise.reject(`in getVersion ${e}`)}})()}isDBExists(r){var e=this;return(0,U.Z)(function*(){try{const t=yield Ur(r,e.store);return Promise.resolve(t)}catch(t){return Promise.reject(`in isDBExists ${t}`)}})()}deleteDB(r){var e=this;return(0,U.Z)(function*(){try{const t=yield e.isDBExists(r);return t&&!e._isDBOpen&&(yield e.open()),yield e.close(),t&&(yield ot(r,e.store)),Promise.resolve()}catch(t){return Promise.reject(new Error(`DeleteDB: ${t.message}`))}})()}executeSQL(r,e=!0){var t=this;return(0,U.Z)(function*(){if(!t._isDBOpen){let n=`ExecuteSQL: Database ${t.dbName} `;return n+="not opened",Promise.reject(new Error(n))}try{e&&(yield Mr(t.mDb,t._isDBOpen));const n=yield jr(t.mDb,r);if(n<0)return Promise.reject(new Error("ExecuteSQL: changes < 0"));if(e&&(yield Zr(t.mDb,t._isDBOpen)),t.autoSave)try{yield wr(t.mDb,t.dbName,t.store)}catch(o){return t._isDBOpen=!1,Promise.reject(`in close ${o}`)}return Promise.resolve(n)}catch(n){let o=`ExecuteSQL: ${n.message}`;try{e&&(yield Or(t.mDb,t._isDBOpen))}catch(a){o+=` : ${a.message}`}return Promise.reject(new Error(`ExecuteSQL: ${o}`))}})()}execSet(r,e=!0){var t=this;return(0,U.Z)(function*(){if(!t._isDBOpen){let a=`ExecSet: Database ${t.dbName} `;return a+="not opened",Promise.reject(new Error(a))}const n={changes:-1,lastId:-1};let o=-1;try{o=yield lr(t.mDb),e&&(yield Mr(t.mDb,t._isDBOpen));const a=yield mi(t.mDb,r);if(a<0)return Promise.reject(new Error("ExecSet: changes < 0"));e&&(yield Zr(t.mDb,t._isDBOpen));const l=(yield lr(t.mDb))-o;if(n.changes=l,n.lastId=a,t.autoSave)try{yield wr(t.mDb,t.dbName,t.store)}catch(d){return t._isDBOpen=!1,Promise.reject(`in close ${d}`)}return Promise.resolve(n)}catch(a){let l=`ExecSet: ${a.message}`;try{e&&(yield Or(t.mDb,t._isDBOpen))}catch(d){l+=` : ${d.message}`}return Promise.reject(new Error(`ExecSet: ${l}`))}})()}selectSQL(r,e){var t=this;return(0,U.Z)(function*(){if(!t._isDBOpen){let n=`SelectSQL: Database ${t.dbName} `;return n+="not opened",Promise.reject(new Error(n))}try{let n=yield rr(t.mDb,r,e);return Promise.resolve(n)}catch(n){return Promise.reject(new Error(`SelectSQL: ${n.message}`))}})()}runSQL(r,e,t=!0){var n=this;return(0,U.Z)(function*(){if(!n._isDBOpen){let l=`RunSQL: Database ${n.dbName} `;return l+="not opened",Promise.reject(new Error(l))}const o={changes:-1,lastId:-1};let a=-1;try{a=yield lr(n.mDb),t&&(yield Mr(n.mDb,n._isDBOpen));const l=yield mt(n.mDb,r,e);if(l<0)return Promise.reject(new Error("RunSQL: lastId < 0"));t&&(yield Zr(n.mDb,n._isDBOpen));const d=(yield lr(n.mDb))-a;if(o.changes=d,o.lastId=l,n.autoSave)try{yield wr(n.mDb,n.dbName,n.store)}catch(u){return n._isDBOpen=!1,Promise.reject(`in close ${u}`)}return Promise.resolve(o)}catch(l){let d=`RunSQL: ${l.message}`;try{t&&(yield Or(n.mDb,n._isDBOpen))}catch(u){d+=` : ${u.message}`}return Promise.reject(new Error(`RunSQL: ${d}`))}})()}getTableNames(){var r=this;return(0,U.Z)(function*(){if(!r._isDBOpen){let e=`GetTableNames: Database ${r.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{let e=yield Ks(r.mDb);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`GetTableNames: ${e.message}`))}})()}isTable(r){var e=this;return(0,U.Z)(function*(){if(!e._isDBOpen){let t=`isTable: Database ${e.dbName} `;return t+="not opened",Promise.reject(new Error(t))}try{const t=yield Jr(e.mDb,r);return Promise.resolve(t)}catch(t){return Promise.reject(new Error(`IsTable: ${t.message}`))}})()}createSyncTable(){var r=this;return(0,U.Z)(function*(){if(!r._isDBOpen){let t=`createSyncTable: Database ${r.dbName} `;return t+="not opened",Promise.reject(new Error(t))}let e=-1;try{if(yield Jr(r.mDb,"sync_table"))return Promise.resolve(0);if(yield Xs(r.mDb,r._isDBOpen)){const o=Math.round((new Date).getTime()/1e3);let a="\n                          CREATE TABLE IF NOT EXISTS sync_table (\n                              id INTEGER PRIMARY KEY NOT NULL,\n                              sync_date INTEGER\n                              );";return a+=`INSERT INTO sync_table (sync_date) VALUES (\n                              "${o}");`,e=yield jr(r.mDb,a),Promise.resolve(e)}return Promise.reject(new Error("No last_modified column in tables"))}catch(t){return Promise.reject(new Error(`CreateSyncTable: ${t.message}`))}})()}getSyncDate(){var r=this;return(0,U.Z)(function*(){if(!r._isDBOpen){let e=`getSyncDate: Database ${r.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{if(!(yield Jr(r.mDb,"sync_table")))return Promise.reject(new Error("No sync_table available"));const t=yield bi(r.mDb);return Promise.resolve(t)}catch(e){return Promise.reject(new Error(`getSyncDate: ${e.message}`))}})()}setSyncDate(r){var e=this;return(0,U.Z)(function*(){if(!e._isDBOpen){let t=`SetSyncDate: Database ${e.dbName} `;return t+="not opened",{result:!1,message:t}}try{if(!(yield Jr(e.mDb,"sync_table")))return Promise.reject(new Error("No sync_table available"));const n=Math.round(new Date(r).getTime()/1e3);let o="UPDATE sync_table SET sync_date = ";return o+=`${n} WHERE id = 1;`,(yield jr(e.mDb,o))<0?{result:!1,message:"setSyncDate failed"}:{result:!0}}catch(t){return{result:!1,message:`setSyncDate failed: ${t.message}`}}})()}importJson(r,e){var t=this;return(0,U.Z)(function*(){let n=0;if(!t._isDBOpen)return Promise.reject(new Error("ImportJson: database is closed"));try{if(r.tables&&r.tables.length>0&&(n=yield so(t.mDb,r),e.emit({progress:`Schema creation completed changes: ${n}`}),-1!=n&&(n+=(yield uo(t.mDb,r,e)),e.emit({progress:`Tables data creation completed changes: ${n}`}))),r.views&&r.views.length>0&&(n+=(yield po(t.mDb,r))),t.autoSave)try{yield wr(t.mDb,t.dbName,t.store)}catch(o){return t._isDBOpen=!1,Promise.reject(`in close ${o}`)}return Promise.resolve(n)}catch(o){return Promise.reject(new Error(`ImportJson: ${o.message}`))}})()}exportJson(r,e){var t=this;return(0,U.Z)(function*(){const n={};if(n.database=t.dbName.slice(0,-9),n.version=t.version,n.encrypted=!1,n.mode=r,!t._isDBOpen)return Promise.reject(new Error("ExportJson: database is closed"));try{const o=yield yo(t.mDb,n,e);return pn(o)?Promise.resolve(o):Promise.reject(new Error("ExportJson: retJson not valid"))}catch(o){return Promise.reject(new Error(`ExportJson: ${o.message}`))}})()}}var xi=an(function(i,r){i.exports=function o(a,l,d){function u(P,p){if(!l[P]){if(!a[P]){if(!p&&Ir)return Ir();if(b)return b(P,!0);var S=new Error("Cannot find module '"+P+"'");throw S.code="MODULE_NOT_FOUND",S}var y=l[P]={exports:{}};a[P][0].call(y.exports,function(E){return u(a[P][1][E]||E)},y,y.exports,o,a,l,d)}return l[P].exports}for(var b=Ir,g=0;g<d.length;g++)u(d[g]);return u}({1:[function(o,a,l){(function(d){var b,u=d.MutationObserver||d.WebKitMutationObserver;if(u){var g=0,P=new u(E),p=d.document.createTextNode("");P.observe(p,{characterData:!0}),b=function(){p.data=g=++g%2}}else if(d.setImmediate||void 0===d.MessageChannel)b="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var j=d.document.createElement("script");j.onreadystatechange=function(){E(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},d.document.documentElement.appendChild(j)}:function(){setTimeout(E,0)};else{var _=new d.MessageChannel;_.port1.onmessage=E,b=function(){_.port2.postMessage(0)}}var S,y=[];function E(){S=!0;for(var j,Q,R=y.length;R;){for(Q=y,y=[],j=-1;++j<R;)Q[j]();R=y.length}S=!1}a.exports=function T(j){1===y.push(j)&&!S&&b()}}).call(this,void 0!==st?st:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(o,a,l){var d=o(1);function u(){}var b={},g=["REJECTED"],P=["FULFILLED"],p=["PENDING"];function _(z){if("function"!=typeof z)throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,z!==u&&T(this,z)}function S(z,L,J){this.promise=z,"function"==typeof L&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),"function"==typeof J&&(this.onRejected=J,this.callRejected=this.otherCallRejected)}function y(z,L,J){d(function(){var ye;try{ye=L(J)}catch(I){return b.reject(z,I)}ye===z?b.reject(z,new TypeError("Cannot resolve promise with itself")):b.resolve(z,ye)})}function E(z){var L=z&&z.then;if(z&&("object"==typeof z||"function"==typeof z)&&"function"==typeof L)return function(){L.apply(z,arguments)}}function T(z,L){var J=!1;function ye(H){J||(J=!0,b.reject(z,H))}function I(H){J||(J=!0,b.resolve(z,H))}var m=j(function Y(){L(I,ye)});"error"===m.status&&ye(m.value)}function j(z,L){var J={};try{J.value=z(L),J.status="success"}catch(ye){J.status="error",J.value=ye}return J}a.exports=_,_.prototype.catch=function(z){return this.then(null,z)},_.prototype.then=function(z,L){if("function"!=typeof z&&this.state===P||"function"!=typeof L&&this.state===g)return this;var J=new this.constructor(u);return this.state!==p?y(J,this.state===P?z:L,this.outcome):this.queue.push(new S(J,z,L)),J},S.prototype.callFulfilled=function(z){b.resolve(this.promise,z)},S.prototype.otherCallFulfilled=function(z){y(this.promise,this.onFulfilled,z)},S.prototype.callRejected=function(z){b.reject(this.promise,z)},S.prototype.otherCallRejected=function(z){y(this.promise,this.onRejected,z)},b.resolve=function(z,L){var J=j(E,L);if("error"===J.status)return b.reject(z,J.value);var ye=J.value;if(ye)T(z,ye);else{z.state=P,z.outcome=L;for(var I=-1,Y=z.queue.length;++I<Y;)z.queue[I].callFulfilled(L)}return z},b.reject=function(z,L){z.state=g,z.outcome=L;for(var J=-1,ye=z.queue.length;++J<ye;)z.queue[J].callRejected(L);return z},_.resolve=function Q(z){return z instanceof this?z:b.resolve(new this(u),z)},_.reject=function R(z){var L=new this(u);return b.reject(L,z)},_.all=function se(z){var L=this;if("[object Array]"!==Object.prototype.toString.call(z))return this.reject(new TypeError("must be an array"));var J=z.length,ye=!1;if(!J)return this.resolve([]);for(var I=new Array(J),Y=0,m=-1,H=new this(u);++m<J;)Ee(z[m],m);return H;function Ee(oe,Pe){L.resolve(oe).then(function ce(xe){I[Pe]=xe,++Y===J&&!ye&&(ye=!0,b.resolve(H,I))},function(xe){ye||(ye=!0,b.reject(H,xe))})}},_.race=function G(z){var L=this;if("[object Array]"!==Object.prototype.toString.call(z))return this.reject(new TypeError("must be an array"));var J=z.length,ye=!1;if(!J)return this.resolve([]);for(var I=-1,Y=new this(u);++I<J;)L.resolve(z[I]).then(function(Ee){ye||(ye=!0,b.resolve(Y,Ee))},function(Ee){ye||(ye=!0,b.reject(Y,Ee))});return Y}},{1:1}],3:[function(o,a,l){(function(d){"function"!=typeof d.Promise&&(d.Promise=o(2))}).call(this,void 0!==st?st:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(o,a,l){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};var g=function b(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(v){return}}();function p(v,O){v=v||[],O=O||{};try{return new Blob(v,O)}catch(C){if("TypeError"!==C.name)throw C;for(var N=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),F=0;F<v.length;F+=1)N.append(v[F]);return N.getBlob(O.type)}}"undefined"==typeof Promise&&o(3);var _=Promise;function S(v,O){O&&v.then(function(x){O(null,x)},function(x){O(x)})}function y(v,O,x){"function"==typeof O&&v.then(O),"function"==typeof x&&v.catch(x)}function E(v){return"string"!=typeof v&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}function T(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var j="local-forage-detect-blob-support",Q=void 0,R={},se=Object.prototype.toString,G="readonly",z="readwrite";function L(v){for(var O=v.length,x=new ArrayBuffer(O),N=new Uint8Array(x),F=0;F<O;F++)N[F]=v.charCodeAt(F);return x}function ye(v){return"boolean"==typeof Q?_.resolve(Q):function J(v){return new _(function(O){var x=v.transaction(j,z),N=p([""]);x.objectStore(j).put(N,"key"),x.onabort=function(F){F.preventDefault(),F.stopPropagation(),O(!1)},x.oncomplete=function(){var F=navigator.userAgent.match(/Chrome\/(\d+)/),C=navigator.userAgent.match(/Edge\//);O(C||!F||parseInt(F[1],10)>=43)}}).catch(function(){return!1})}(v).then(function(O){return Q=O})}function I(v){var O=R[v.name],x={};x.promise=new _(function(N,F){x.resolve=N,x.reject=F}),O.deferredOperations.push(x),O.dbReady=O.dbReady?O.dbReady.then(function(){return x.promise}):x.promise}function Y(v){var x=R[v.name].deferredOperations.pop();if(x)return x.resolve(),x.promise}function m(v,O){var N=R[v.name].deferredOperations.pop();if(N)return N.reject(O),N.promise}function H(v,O){return new _(function(x,N){if(R[v.name]=R[v.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},v.db){if(!O)return x(v.db);I(v),v.db.close()}var F=[v.name];O&&F.push(v.version);var C=g.open.apply(g,F);O&&(C.onupgradeneeded=function(ee){var ae=C.result;try{ae.createObjectStore(v.storeName),ee.oldVersion<=1&&ae.createObjectStore(j)}catch(fe){if("ConstraintError"!==fe.name)throw fe;console.warn('The database "'+v.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+v.storeName+'" already exists.')}}),C.onerror=function(ee){ee.preventDefault(),N(C.error)},C.onsuccess=function(){var ee=C.result;ee.onversionchange=function(ae){ae.target.close()},x(ee),Y(v)}})}function Ee(v){return H(v,!1)}function oe(v){return H(v,!0)}function Pe(v,O){if(!v.db)return!0;var x=!v.db.objectStoreNames.contains(v.storeName),F=v.version>v.db.version;if(v.version<v.db.version&&(v.version!==O&&console.warn('The database "'+v.name+"\" can't be downgraded from version "+v.db.version+" to version "+v.version+"."),v.version=v.db.version),F||x){if(x){var C=v.db.version+1;C>v.version&&(v.version=C)}return!0}return!1}function xe(v){return p([L(atob(v.data))],{type:v.type})}function W(v){return v&&v.__local_forage_encoded_blob}function M(v){var O=this,x=O._initReady().then(function(){var N=R[O._dbInfo.name];if(N&&N.dbReady)return N.dbReady});return y(x,v,v),x}function me(v,O,x,N){void 0===N&&(N=1);try{var F=v.db.transaction(v.storeName,O);x(null,F)}catch(C){if(N>0&&(!v.db||"InvalidStateError"===C.name||"NotFoundError"===C.name))return _.resolve().then(function(){if(!v.db||"NotFoundError"===C.name&&!v.db.objectStoreNames.contains(v.storeName)&&v.version<=v.db.version)return v.db&&(v.version=v.db.version+1),oe(v)}).then(function(){return function ke(v){I(v);for(var O=R[v.name],x=O.forages,N=0;N<x.length;N++){var F=x[N];F._dbInfo.db&&(F._dbInfo.db.close(),F._dbInfo.db=null)}return v.db=null,Ee(v).then(function(C){return v.db=C,Pe(v)?oe(v):C}).then(function(C){v.db=O.db=C;for(var ee=0;ee<x.length;ee++)x[ee]._dbInfo.db=C}).catch(function(C){throw m(v,C),C})}(v).then(function(){me(v,O,x,N-1)})}).catch(x);x(C)}}var V={_driver:"asyncStorage",_initStorage:function Ue(v){var O=this,x={db:null};if(v)for(var N in v)x[N]=v[N];var F=R[x.name];F||(R[x.name]=F={forages:[],db:null,dbReady:null,deferredOperations:[]}),F.forages.push(O),O._initReady||(O._initReady=O.ready,O.ready=M);var C=[];function ee(){return _.resolve()}for(var ae=0;ae<F.forages.length;ae++){var fe=F.forages[ae];fe!==O&&C.push(fe._initReady().catch(ee))}var he=F.forages.slice(0);return _.all(C).then(function(){return x.db=F.db,Ee(x)}).then(function(de){return x.db=de,Pe(x,O._defaultConfig.version)?oe(x):de}).then(function(de){x.db=F.db=de,O._dbInfo=x;for(var _e=0;_e<he.length;_e++){var Ie=he[_e];Ie!==O&&(Ie._dbInfo.db=x.db,Ie._dbInfo.version=x.version)}})},_support:function P(){try{if(!g||!g.open)return!1;var v="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),O="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!v||O)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(x){return!1}}(),iterate:function Ne(v,O){var x=this,N=new _(function(F,C){x.ready().then(function(){me(x._dbInfo,G,function(ee,ae){if(ee)return C(ee);try{var he=ae.objectStore(x._dbInfo.storeName).openCursor(),de=1;he.onsuccess=function(){var _e=he.result;if(_e){var Ie=_e.value;W(Ie)&&(Ie=xe(Ie));var Se=v(Ie,_e.key,de++);void 0!==Se?F(Se):_e.continue()}else F()},he.onerror=function(){C(he.error)}}catch(_e){C(_e)}})}).catch(C)});return S(N,O),N},getItem:function qe(v,O){var x=this;v=E(v);var N=new _(function(F,C){x.ready().then(function(){me(x._dbInfo,G,function(ee,ae){if(ee)return C(ee);try{var he=ae.objectStore(x._dbInfo.storeName).get(v);he.onsuccess=function(){var de=he.result;void 0===de&&(de=null),W(de)&&(de=xe(de)),F(de)},he.onerror=function(){C(he.error)}}catch(de){C(de)}})}).catch(C)});return S(N,O),N},setItem:function Fe(v,O,x){var N=this;v=E(v);var F=new _(function(C,ee){var ae;N.ready().then(function(){return ae=N._dbInfo,"[object Blob]"===se.call(O)?ye(ae.db).then(function(fe){return fe?O:function ce(v){return new _(function(O,x){var N=new FileReader;N.onerror=x,N.onloadend=function(F){var C=btoa(F.target.result||"");O({__local_forage_encoded_blob:!0,data:C,type:v.type})},N.readAsBinaryString(v)})}(O)}):O}).then(function(fe){me(N._dbInfo,z,function(he,de){if(he)return ee(he);try{var _e=de.objectStore(N._dbInfo.storeName);null===fe&&(fe=void 0);var Ie=_e.put(fe,v);de.oncomplete=function(){void 0===fe&&(fe=null),C(fe)},de.onabort=de.onerror=function(){ee(Ie.error?Ie.error:Ie.transaction.error)}}catch(Se){ee(Se)}})}).catch(ee)});return S(F,x),F},removeItem:function je(v,O){var x=this;v=E(v);var N=new _(function(F,C){x.ready().then(function(){me(x._dbInfo,z,function(ee,ae){if(ee)return C(ee);try{var he=ae.objectStore(x._dbInfo.storeName).delete(v);ae.oncomplete=function(){F()},ae.onerror=function(){C(he.error)},ae.onabort=function(){C(he.error?he.error:he.transaction.error)}}catch(de){C(de)}})}).catch(C)});return S(N,O),N},clear:function Le(v){var O=this,x=new _(function(N,F){O.ready().then(function(){me(O._dbInfo,z,function(C,ee){if(C)return F(C);try{var fe=ee.objectStore(O._dbInfo.storeName).clear();ee.oncomplete=function(){N()},ee.onabort=ee.onerror=function(){F(fe.error?fe.error:fe.transaction.error)}}catch(he){F(he)}})}).catch(F)});return S(x,v),x},length:function Je(v){var O=this,x=new _(function(N,F){O.ready().then(function(){me(O._dbInfo,G,function(C,ee){if(C)return F(C);try{var fe=ee.objectStore(O._dbInfo.storeName).count();fe.onsuccess=function(){N(fe.result)},fe.onerror=function(){F(fe.error)}}catch(he){F(he)}})}).catch(F)});return S(x,v),x},key:function ve(v,O){var x=this,N=new _(function(F,C){v<0?F(null):x.ready().then(function(){me(x._dbInfo,G,function(ee,ae){if(ee)return C(ee);try{var fe=ae.objectStore(x._dbInfo.storeName),he=!1,de=fe.openKeyCursor();de.onsuccess=function(){var _e=de.result;_e?0===v||he?F(_e.key):(he=!0,_e.advance(v)):F(null)},de.onerror=function(){C(de.error)}}catch(_e){C(_e)}})}).catch(C)});return S(N,O),N},keys:function f(v){var O=this,x=new _(function(N,F){O.ready().then(function(){me(O._dbInfo,G,function(C,ee){if(C)return F(C);try{var fe=ee.objectStore(O._dbInfo.storeName).openKeyCursor(),he=[];fe.onsuccess=function(){var de=fe.result;de?(he.push(de.key),de.continue()):N(he)},fe.onerror=function(){F(fe.error)}}catch(de){F(de)}})}).catch(F)});return S(x,v),x},dropInstance:function X(v,O){O=T.apply(this,arguments);var x=this.config();(v="function"!=typeof v&&v||{}).name||(v.name=v.name||x.name,v.storeName=v.storeName||x.storeName);var F,N=this;if(v.name){var ee=v.name===x.name&&N._dbInfo.db?_.resolve(N._dbInfo.db):Ee(v).then(function(ae){var fe=R[v.name],he=fe.forages;fe.db=ae;for(var de=0;de<he.length;de++)he[de]._dbInfo.db=ae;return ae});F=ee.then(v.storeName?function(ae){if(ae.objectStoreNames.contains(v.storeName)){var fe=ae.version+1;I(v);var he=R[v.name],de=he.forages;ae.close();for(var _e=0;_e<de.length;_e++){var Ie=de[_e];Ie._dbInfo.db=null,Ie._dbInfo.version=fe}return new _(function(ze,We){var Ve=g.open(v.name,fe);Ve.onerror=function(er){Ve.result.close(),We(er)},Ve.onupgradeneeded=function(){Ve.result.deleteObjectStore(v.storeName)},Ve.onsuccess=function(){var er=Ve.result;er.close(),ze(er)}}).then(function(ze){he.db=ze;for(var We=0;We<de.length;We++){var Ve=de[We];Ve._dbInfo.db=ze,Y(Ve._dbInfo)}}).catch(function(ze){throw(m(v,ze)||_.resolve()).catch(function(){}),ze})}}:function(ae){I(v);var fe=R[v.name],he=fe.forages;ae.close();for(var de=0;de<he.length;de++)he[de]._dbInfo.db=null;return new _(function(Se,ze){var We=g.deleteDatabase(v.name);We.onerror=function(){var Ve=We.result;Ve&&Ve.close(),ze(We.error)},We.onblocked=function(){console.warn('dropInstance blocked for database "'+v.name+'" until all open connections are closed')},We.onsuccess=function(){var Ve=We.result;Ve&&Ve.close(),Se(Ve)}}).then(function(Se){fe.db=Se;for(var ze=0;ze<he.length;ze++)Y(he[ze]._dbInfo)}).catch(function(Se){throw(m(v,Se)||_.resolve()).catch(function(){}),Se})})}else F=_.reject("Invalid arguments");return S(F,O),F}};var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=/^~~local_forage_type~([^~]+)~/,ie="__lfsc__:",$=ie.length,le="arbf",ge="blob",K="si08",Cr=$+le.length,qr=Object.prototype.toString;function tr(v){var N,C,ee,ae,fe,O=.75*v.length,x=v.length,F=0;"="===v[v.length-1]&&(O--,"="===v[v.length-2]&&O--);var he=new ArrayBuffer(O),de=new Uint8Array(he);for(N=0;N<x;N+=4)C=k.indexOf(v[N]),ee=k.indexOf(v[N+1]),ae=k.indexOf(v[N+2]),fe=k.indexOf(v[N+3]),de[F++]=C<<2|ee>>4,de[F++]=(15&ee)<<4|ae>>2,de[F++]=(3&ae)<<6|63&fe;return he}function xr(v){var N,O=new Uint8Array(v),x="";for(N=0;N<O.length;N+=3)x+=k[O[N]>>2],x+=k[(3&O[N])<<4|O[N+1]>>4],x+=k[(15&O[N+1])<<2|O[N+2]>>6],x+=k[63&O[N+2]];return O.length%3==2?x=x.substring(0,x.length-1)+"=":O.length%3==1&&(x=x.substring(0,x.length-2)+"=="),x}var kr={serialize:function fr(v,O){var x="";if(v&&(x=qr.call(v)),v&&("[object ArrayBuffer]"===x||v.buffer&&"[object ArrayBuffer]"===qr.call(v.buffer))){var N,F=ie;v instanceof ArrayBuffer?(N=v,F+=le):(N=v.buffer,"[object Int8Array]"===x?F+=K:"[object Uint8Array]"===x?F+="ui08":"[object Uint8ClampedArray]"===x?F+="uic8":"[object Int16Array]"===x?F+="si16":"[object Uint16Array]"===x?F+="ur16":"[object Int32Array]"===x?F+="si32":"[object Uint32Array]"===x?F+="ui32":"[object Float32Array]"===x?F+="fl32":"[object Float64Array]"===x?F+="fl64":O(new Error("Failed to get type for BinaryArray"))),O(F+xr(N))}else if("[object Blob]"===x){var C=new FileReader;C.onload=function(){var ee="~~local_forage_type~"+v.type+"~"+xr(this.result);O(ie+ge+ee)},C.readAsArrayBuffer(v)}else try{O(JSON.stringify(v))}catch(ee){console.error("Couldn't convert value into a JSON string: ",v),O(null,ee)}},deserialize:function pt(v){if(v.substring(0,$)!==ie)return JSON.parse(v);var N,O=v.substring(Cr),x=v.substring($,Cr);if(x===ge&&ne.test(O)){var F=O.match(ne);N=F[1],O=O.substring(F[0].length)}var C=tr(O);switch(x){case le:return C;case ge:return p([C],{type:N});case K:return new Int8Array(C);case"ui08":return new Uint8Array(C);case"uic8":return new Uint8ClampedArray(C);case"si16":return new Int16Array(C);case"ur16":return new Uint16Array(C);case"si32":return new Int32Array(C);case"ui32":return new Uint32Array(C);case"fl32":return new Float32Array(C);case"fl64":return new Float64Array(C);default:throw new Error("Unkown type: "+x)}},stringToBuffer:tr,bufferToString:xr};function Kr(v,O,x,N){v.executeSql("CREATE TABLE IF NOT EXISTS "+O.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],x,N)}function Ke(v,O,x,N,F,C){v.executeSql(x,N,F,function(ee,ae){ae.code===ae.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[O.storeName],function(fe,he){he.rows.length?C(fe,ae):Kr(fe,O,function(){fe.executeSql(x,N,F,C)},C)},C):C(ee,ae)},C)}function Lt(v,O,x,N){var F=this;v=E(v);var C=new _(function(ee,ae){F.ready().then(function(){void 0===O&&(O=null);var fe=O,he=F._dbInfo;he.serializer.serialize(O,function(de,_e){_e?ae(_e):he.db.transaction(function(Ie){Ke(Ie,he,"INSERT OR REPLACE INTO "+he.storeName+" (key, value) VALUES (?, ?)",[v,de],function(){ee(fe)},function(Se,ze){ae(ze)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(N>0)return void ee(Lt.apply(F,[v,fe,x,N-1]));ae(Ie)}})})}).catch(ae)});return S(C,x),C}function wn(v){return new _(function(O,x){v.transaction(function(N){N.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(F,C){for(var ee=[],ae=0;ae<C.rows.length;ae++)ee.push(C.rows.item(ae).name);O({db:v,storeNames:ee})},function(F,C){x(C)})},function(N){x(N)})})}var Ut={_driver:"webSQLStorage",_initStorage:function hr(v){var O=this,x={db:null};if(v)for(var N in v)x[N]="string"!=typeof v[N]?v[N].toString():v[N];var F=new _(function(C,ee){try{x.db=openDatabase(x.name,String(x.version),x.description,x.size)}catch(ae){return ee(ae)}x.db.transaction(function(ae){Kr(ae,x,function(){O._dbInfo=x,C()},function(fe,he){ee(he)})},ee)});return x.serializer=kr,F},_support:function D(){return"function"==typeof openDatabase}(),iterate:function _n(v,O){var x=this,N=new _(function(F,C){x.ready().then(function(){var ee=x._dbInfo;ee.db.transaction(function(ae){Ke(ae,ee,"SELECT * FROM "+ee.storeName,[],function(fe,he){for(var de=he.rows,_e=de.length,Ie=0;Ie<_e;Ie++){var Se=de.item(Ie),ze=Se.value;if(ze&&(ze=ee.serializer.deserialize(ze)),void 0!==(ze=v(ze,Se.key,Ie+1)))return void F(ze)}F()},function(fe,he){C(he)})})}).catch(C)});return S(N,O),N},getItem:function Ft(v,O){var x=this;v=E(v);var N=new _(function(F,C){x.ready().then(function(){var ee=x._dbInfo;ee.db.transaction(function(ae){Ke(ae,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[v],function(fe,he){var de=he.rows.length?he.rows.item(0).value:null;de&&(de=ee.serializer.deserialize(de)),F(de)},function(fe,he){C(he)})})}).catch(C)});return S(N,O),N},setItem:function bn(v,O,x){return Lt.apply(this,[v,O,x,1])},removeItem:function $t(v,O){var x=this;v=E(v);var N=new _(function(F,C){x.ready().then(function(){var ee=x._dbInfo;ee.db.transaction(function(ae){Ke(ae,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[v],function(){F()},function(fe,he){C(he)})})}).catch(C)});return S(N,O),N},clear:function De(v){var O=this,x=new _(function(N,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(ee){Ke(ee,C,"DELETE FROM "+C.storeName,[],function(){N()},function(ae,fe){F(fe)})})}).catch(F)});return S(x,v),x},length:function yt(v){var O=this,x=new _(function(N,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(ee){Ke(ee,C,"SELECT COUNT(key) as c FROM "+C.storeName,[],function(ae,fe){var he=fe.rows.item(0).c;N(he)},function(ae,fe){F(fe)})})}).catch(F)});return S(x,v),x},key:function zt(v,O){var x=this,N=new _(function(F,C){x.ready().then(function(){var ee=x._dbInfo;ee.db.transaction(function(ae){Ke(ae,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[v+1],function(fe,he){var de=he.rows.length?he.rows.item(0).key:null;F(de)},function(fe,he){C(he)})})}).catch(C)});return S(N,O),N},keys:function dr(v){var O=this,x=new _(function(N,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(ee){Ke(ee,C,"SELECT key FROM "+C.storeName,[],function(ae,fe){for(var he=[],de=0;de<fe.rows.length;de++)he.push(fe.rows.item(de).key);N(he)},function(ae,fe){F(fe)})})}).catch(F)});return S(x,v),x},dropInstance:function Sr(v,O){O=T.apply(this,arguments);var x=this.config();(v="function"!=typeof v&&v||{}).name||(v.name=v.name||x.name,v.storeName=v.storeName||x.storeName);var F,N=this;return S(F=v.name?new _(function(C){var ee;ee=v.name===x.name?N._dbInfo.db:openDatabase(v.name,"","",0),C(v.storeName?{db:ee,storeNames:[v.storeName]}:wn(ee))}).then(function(C){return new _(function(ee,ae){C.db.transaction(function(fe){function he(Se){return new _(function(ze,We){fe.executeSql("DROP TABLE IF EXISTS "+Se,[],function(){ze()},function(Ve,er){We(er)})})}for(var de=[],_e=0,Ie=C.storeNames.length;_e<Ie;_e++)de.push(he(C.storeNames[_e]));_.all(de).then(function(){ee()}).catch(function(Se){ae(Se)})},function(fe){ae(fe)})})}):_.reject("Invalid arguments"),O),F}};function re(v,O){var x=v.name+"/";return v.storeName!==O.storeName&&(x+=v.storeName+"/"),x}function Xe(){return!function vt(){var v="_localforage_support_test";try{return localStorage.setItem(v,!0),localStorage.removeItem(v),!1}catch(O){return!0}}()||localStorage.length>0}var Vt={_driver:"localStorageWrapper",_initStorage:function ut(v){var x={};if(v)for(var N in v)x[N]=v[N];return x.keyPrefix=re(v,this._defaultConfig),Xe()?(this._dbInfo=x,x.serializer=kr,_.resolve()):_.reject()},_support:function or(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(v){return!1}}(),iterate:function Nr(v,O){var x=this,N=x.ready().then(function(){for(var F=x._dbInfo,C=F.keyPrefix,ee=C.length,ae=localStorage.length,fe=1,he=0;he<ae;he++){var de=localStorage.key(he);if(0===de.indexOf(C)){var _e=localStorage.getItem(de);if(_e&&(_e=F.serializer.deserialize(_e)),void 0!==(_e=v(_e,de.substring(ee),fe++)))return _e}}});return S(N,O),N},getItem:function Mt(v,O){var x=this;v=E(v);var N=x.ready().then(function(){var F=x._dbInfo,C=localStorage.getItem(F.keyPrefix+v);return C&&(C=F.serializer.deserialize(C)),C});return S(N,O),N},setItem:function Wr(v,O,x){var N=this;v=E(v);var F=N.ready().then(function(){void 0===O&&(O=null);var C=O;return new _(function(ee,ae){var fe=N._dbInfo;fe.serializer.serialize(O,function(he,de){if(de)ae(de);else try{localStorage.setItem(fe.keyPrefix+v,he),ee(C)}catch(_e){("QuotaExceededError"===_e.name||"NS_ERROR_DOM_QUOTA_REACHED"===_e.name)&&ae(_e),ae(_e)}})})});return S(F,x),F},removeItem:function qt(v,O){var x=this;v=E(v);var N=x.ready().then(function(){localStorage.removeItem(x._dbInfo.keyPrefix+v)});return S(N,O),N},clear:function gt(v){var O=this,x=O.ready().then(function(){for(var N=O._dbInfo.keyPrefix,F=localStorage.length-1;F>=0;F--){var C=localStorage.key(F);0===C.indexOf(N)&&localStorage.removeItem(C)}});return S(x,v),x},length:function En(v){var x=this.keys().then(function(N){return N.length});return S(x,v),x},key:function Zt(v,O){var x=this,N=x.ready().then(function(){var C,F=x._dbInfo;try{C=localStorage.key(v)}catch(ee){C=null}return C&&(C=C.substring(F.keyPrefix.length)),C});return S(N,O),N},keys:function ar(v){var O=this,x=O.ready().then(function(){for(var N=O._dbInfo,F=localStorage.length,C=[],ee=0;ee<F;ee++){var ae=localStorage.key(ee);0===ae.indexOf(N.keyPrefix)&&C.push(ae.substring(N.keyPrefix.length))}return C});return S(x,v),x},dropInstance:function Wt(v,O){if(O=T.apply(this,arguments),!(v="function"!=typeof v&&v||{}).name){var x=this.config();v.name=v.name||x.name,v.storeName=v.storeName||x.storeName}var F,N=this;return S(F=v.name?new _(function(C){C(v.storeName?re(v,N._defaultConfig):v.name+"/")}).then(function(C){for(var ee=localStorage.length-1;ee>=0;ee--){var ae=localStorage.key(ee);0===ae.indexOf(C)&&localStorage.removeItem(ae)}}):_.reject("Invalid arguments"),O),F}},xn=function(O,x){return O===x||"number"==typeof O&&"number"==typeof x&&isNaN(O)&&isNaN(x)},kn=function(O,x){for(var N=O.length,F=0;F<N;){if(xn(O[F],x))return!0;F++}return!1},Gt=Array.isArray||function(v){return"[object Array]"===Object.prototype.toString.call(v)},Rr={},_t={},yr={INDEXEDDB:V,WEBSQL:Ut,LOCALSTORAGE:Vt},mr=[yr.INDEXEDDB._driver,yr.WEBSQL._driver,yr.LOCALSTORAGE._driver],Br=["dropInstance"],Xr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Br),Yt={description:"",driver:mr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qt(v,O){v[O]=function(){var x=arguments;return v.ready().then(function(){return v[O].apply(v,x)})}}function Vr(){for(var v=1;v<arguments.length;v++){var O=arguments[v];if(O)for(var x in O)O.hasOwnProperty(x)&&(arguments[0][x]=Gt(O[x])?O[x].slice():O[x])}return arguments[0]}var Sn=function(){function v(O){for(var x in function u(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,v),yr)if(yr.hasOwnProperty(x)){var N=yr[x],F=N._driver;this[x]=F,Rr[F]||this.defineDriver(N)}this._defaultConfig=Vr({},Yt),this._config=Vr({},this._defaultConfig,O),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return v.prototype.config=function(x){if("object"===(void 0===x?"undefined":d(x))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var N in x){if("storeName"===N&&(x[N]=x[N].replace(/\W/g,"_")),"version"===N&&"number"!=typeof x[N])return new Error("Database version must be a number.");this._config[N]=x[N]}return!("driver"in x)||!x.driver||this.setDriver(this._config.driver)}return"string"==typeof x?this._config[x]:this._config},v.prototype.defineDriver=function(x,N,F){var C=new _(function(ee,ae){try{var fe=x._driver,he=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!x._driver)return void ae(he);for(var de=Xr.concat("_initStorage"),_e=0,Ie=de.length;_e<Ie;_e++){var Se=de[_e];if((!kn(Br,Se)||x[Se])&&"function"!=typeof x[Se])return void ae(he)}!function(){for(var Pr=function(Jt){return function(){var bt=new Error("Method "+Jt+" is not implemented by the current driver"),wt=_.reject(bt);return S(wt,arguments[arguments.length-1]),wt}},Gr=0,Tr=Br.length;Gr<Tr;Gr++){var et=Br[Gr];x[et]||(x[et]=Pr(et))}}();var Ve=function(Pr){Rr[fe]&&console.info("Redefining LocalForage driver: "+fe),Rr[fe]=x,_t[fe]=Pr,ee()};"_support"in x?x._support&&"function"==typeof x._support?x._support().then(Ve,ae):Ve(!!x._support):Ve(!0)}catch(er){ae(er)}});return y(C,N,F),C},v.prototype.driver=function(){return this._driver||null},v.prototype.getDriver=function(x,N,F){var C=Rr[x]?_.resolve(Rr[x]):_.reject(new Error("Driver not found."));return y(C,N,F),C},v.prototype.getSerializer=function(x){var N=_.resolve(kr);return y(N,x),N},v.prototype.ready=function(x){var N=this,F=N._driverSet.then(function(){return null===N._ready&&(N._ready=N._initDriver()),N._ready});return y(F,x,x),F},v.prototype.setDriver=function(x,N,F){var C=this;Gt(x)||(x=[x]);var ee=this._getSupportedDrivers(x);function ae(){C._config.driver=C.driver()}function fe(_e){return C._extend(_e),ae(),C._ready=C._initStorage(C._config),C._ready}var de=null!==this._driverSet?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=de.then(function(){var _e=ee[0];return C._dbInfo=null,C._ready=null,C.getDriver(_e).then(function(Ie){C._driver=Ie._driver,ae(),C._wrapLibraryMethodsWithReady(),C._initDriver=function he(_e){return function(){var Ie=0;return function Se(){for(;Ie<_e.length;){var ze=_e[Ie];return Ie++,C._dbInfo=null,C._ready=null,C.getDriver(ze).then(fe).catch(Se)}ae();var We=new Error("No available storage method found.");return C._driverSet=_.reject(We),C._driverSet}()}}(ee)})}).catch(function(){ae();var _e=new Error("No available storage method found.");return C._driverSet=_.reject(_e),C._driverSet}),y(this._driverSet,N,F),this._driverSet},v.prototype.supports=function(x){return!!_t[x]},v.prototype._extend=function(x){Vr(this,x)},v.prototype._getSupportedDrivers=function(x){for(var N=[],F=0,C=x.length;F<C;F++){var ee=x[F];this.supports(ee)&&N.push(ee)}return N},v.prototype._wrapLibraryMethodsWithReady=function(){for(var x=0,N=Xr.length;x<N;x++)Qt(this,Xr[x])},v.prototype.createInstance=function(x){return new v(x)},v}(),ct=new Sn;a.exports=ct},{3:3}]},{},[4])(4)}),To=an(function(i,r){i.exports=function e(t,n,o){function a(u,b){if(!n[u]){if(!t[u]){if(!b&&Ir)return Ir();if(l)return l(u,!0);var P=new Error("Cannot find module '"+u+"'");throw P.code="MODULE_NOT_FOUND",P}var p=n[u]={exports:{}};t[u][0].call(p.exports,function(_){return a(t[u][1][_]||_)},p,p.exports,e,t,n,o)}return n[u].exports}for(var l=Ir,d=0;d<o.length;d++)a(o[d]);return a}({1:[function(e,t,n){var o=e("./utils"),a=e("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(d){for(var u,b,g,p,_,S,y=[],E=0,T=d.length,j=T,Q="string"!==o.getTypeOf(d);E<d.length;)j=T-E,g=Q?(u=d[E++],b=E<T?d[E++]:0,E<T?d[E++]:0):(u=d.charCodeAt(E++),b=E<T?d.charCodeAt(E++):0,E<T?d.charCodeAt(E++):0),p=(3&u)<<4|b>>4,_=1<j?(15&b)<<2|g>>6:64,S=2<j?63&g:64,y.push(l.charAt(u>>2)+l.charAt(p)+l.charAt(_)+l.charAt(S));return y.join("")},n.decode=function(d){var u,b,g,P,p,_,S=0,y=0,E="data:";if(d.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var T,j=3*(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(d.charAt(d.length-1)===l.charAt(64)&&j--,d.charAt(d.length-2)===l.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=a.uint8array?new Uint8Array(0|j):new Array(0|j);S<d.length;)u=l.indexOf(d.charAt(S++))<<2|(P=l.indexOf(d.charAt(S++)))>>4,b=(15&P)<<4|(p=l.indexOf(d.charAt(S++)))>>2,g=(3&p)<<6|(_=l.indexOf(d.charAt(S++))),T[y++]=u,64!==p&&(T[y++]=b),64!==_&&(T[y++]=g);return T}},{"./support":30,"./utils":32}],2:[function(e,t,n){var o=e("./external"),a=e("./stream/DataWorker"),l=e("./stream/Crc32Probe"),d=e("./stream/DataLengthProbe");function u(b,g,P,p,_){this.compressedSize=b,this.uncompressedSize=g,this.crc32=P,this.compression=p,this.compressedContent=_}u.prototype={getContentWorker:function(){var b=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return b.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(b,g,P){return b.pipe(new l).pipe(new d("uncompressedSize")).pipe(g.compressWorker(P)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},t.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var o=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(a){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var o=e("./utils"),a=function(){for(var l,d=[],u=0;u<256;u++){l=u;for(var b=0;b<8;b++)l=1&l?3988292384^l>>>1:l>>>1;d[u]=l}return d}();t.exports=function(l,d){return void 0!==l&&l.length?"string"!==o.getTypeOf(l)?function(u,b,g,P){var p=a,_=0+g;u^=-1;for(var S=0;S<_;S++)u=u>>>8^p[255&(u^b[S])];return-1^u}(0|d,l,l.length):function(u,b,g,P){var p=a,_=0+g;u^=-1;for(var S=0;S<_;S++)u=u>>>8^p[255&(u^b.charCodeAt(S))];return-1^u}(0|d,l,l.length):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var o;o="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:o}},{lie:37}],7:[function(e,t,n){var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),l=e("./utils"),d=e("./stream/GenericWorker"),u=o?"uint8array":"array";function b(g,P){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=P,this.meta={}}n.magic="\b\0",l.inherits(b,d),b.prototype.processChunk=function(g){this.meta=g.meta,null===this._pako&&this._createPako(),this._pako.push(l.transformTo(u,g.data),!1)},b.prototype.flush=function(){d.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(P){g.push({data:P,meta:g.meta})}},n.compressWorker=function(g){return new b("Deflate",g)},n.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function o(p,_){var S,y="";for(S=0;S<_;S++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,_,S,y,E,T){var j,Q,R=p.file,se=p.compression,G=T!==u.utf8encode,z=l.transformTo("string",T(R.name)),L=l.transformTo("string",u.utf8encode(R.name)),J=R.comment,ye=l.transformTo("string",T(J)),I=l.transformTo("string",u.utf8encode(J)),Y=L.length!==R.name.length,m=I.length!==J.length,H="",Ee="",oe="",Pe=R.dir,ce=R.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};_&&!S||(xe.crc32=p.crc32,xe.compressedSize=p.compressedSize,xe.uncompressedSize=p.uncompressedSize);var W=0;_&&(W|=8),G||!Y&&!m||(W|=2048);var ue,qe,M=0,ke=0;Pe&&(M|=16),"UNIX"===E?(ke=798,M|=(qe=ue=R.unixPermissions,ue||(qe=Pe?16893:33204),(65535&qe)<<16)):(ke=20,M|=function(ue){return 63&(ue||0)}(R.dosPermissions)),j=ce.getUTCHours(),j<<=6,j|=ce.getUTCMinutes(),j<<=5,j|=ce.getUTCSeconds()/2,Q=ce.getUTCFullYear()-1980,Q<<=4,Q|=ce.getUTCMonth()+1,Q<<=5,Q|=ce.getUTCDate(),Y&&(Ee=o(1,1)+o(b(z),4)+L,H+="up"+o(Ee.length,2)+Ee),m&&(oe=o(1,1)+o(b(ye),4)+I,H+="uc"+o(oe.length,2)+oe);var me="";return me+="\n\0",me+=o(W,2),me+=se.magic,me+=o(j,2),me+=o(Q,2),me+=o(xe.crc32,4),me+=o(xe.compressedSize,4),me+=o(xe.uncompressedSize,4),me+=o(z.length,2),me+=o(H.length,2),{fileRecord:g.LOCAL_FILE_HEADER+me+z+H,dirRecord:g.CENTRAL_FILE_HEADER+o(ke,2)+me+o(ye.length,2)+"\0\0\0\0"+o(M,4)+o(y,4)+z+H+ye}}var l=e("../utils"),d=e("../stream/GenericWorker"),u=e("../utf8"),b=e("../crc32"),g=e("../signature");function P(p,_,S,y){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=S,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(P,d),P.prototype.push=function(p){var _=p.meta.percent||0,S=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,d.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:S?(_+100*(S-y-1))/S:100}}))},P.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var _=this.streamFiles&&!p.file.dir;if(_){var S=a(p,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},P.prototype.closedSource=function(p){this.accumulate=!1;var y,_=this.streamFiles&&!p.file.dir,S=a(p,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),_)this.push({data:(y=p,g.DATA_DESCRIPTOR+o(y.crc32,4)+o(y.compressedSize,4)+o(y.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},P.prototype.flush=function(){for(var p=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var E,T,j,se,y=(E=this.dirRecords.length,T=this.bytesWritten-p,j=p,se=l.transformTo("string",(0,this.encodeFileName)(this.zipComment)),g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(E,2)+o(E,2)+o(T,4)+o(j,4)+o(se.length,2)+se);this.push({data:y,meta:{percent:100}})},P.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},P.prototype.registerPrevious=function(p){this._sources.push(p);var _=this;return p.on("data",function(S){_.processChunk(S)}),p.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),p.on("error",function(S){_.error(S)}),this},P.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},P.prototype.error=function(p){var _=this._sources;if(!d.prototype.error.call(this,p))return!1;for(var S=0;S<_.length;S++)try{_[S].error(p)}catch(y){}return!0},P.prototype.lock=function(){d.prototype.lock.call(this);for(var p=this._sources,_=0;_<p.length;_++)p[_].lock()},t.exports=P},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var o=e("../compressions"),a=e("./ZipFileWorker");n.generateWorker=function(l,d,u){var b=new a(d.streamFiles,u,d.platform,d.encodeFileName),g=0;try{l.forEach(function(P,p){g++;var _=function(T,j){var Q=T||j,R=o[Q];if(!R)throw new Error(Q+" is not a valid compression method !");return R}(p.options.compression,d.compression),y=p.dir,E=p.date;p._compressWorker(_,p.options.compressionOptions||d.compressionOptions||{}).withStreamInfo("file",{name:P,dir:y,date:E,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(b)}),b.entriesCount=g}catch(P){b.error(P)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var l in this)"function"!=typeof this[l]&&(a[l]=this[l]);return a}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.7.1",o.loadAsync=function(a,l){return(new o).loadAsync(a,l)},o.external=e("./external"),t.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var o=e("./utils"),a=e("./external"),l=e("./utf8"),d=e("./zipEntries"),u=e("./stream/Crc32Probe"),b=e("./nodejsUtils");function g(P){return new a.Promise(function(p,_){var S=P.decompressed.getContentWorker().pipe(new u);S.on("error",function(y){_(y)}).on("end",function(){S.streamInfo.crc32!==P.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}t.exports=function(P,p){var _=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),b.isNode&&b.isStream(P)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",P,!0,p.optimizedBinaryString,p.base64).then(function(S){var y=new d(p);return y.load(S),y}).then(function(S){var y=[a.Promise.resolve(S)],E=S.files;if(p.checkCRC32)for(var T=0;T<E.length;T++)y.push(g(E[T]));return a.Promise.all(y)}).then(function(S){for(var y=S.shift(),E=y.files,T=0;T<E.length;T++){var j=E[T];_.file(j.fileNameStr,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:p.createFolders})}return y.zipComment.length&&(_.comment=y.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var o=e("../utils"),a=e("../stream/GenericWorker");function l(d,u){a.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(l,a),l.prototype._bindStream=function(d){var u=this;(this._stream=d).pause(),d.on("data",function(b){u.push({data:b,meta:{percent:0}})}).on("error",function(b){u.isPaused?this.generatedError=b:u.error(b)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var o=e("readable-stream").Readable;function a(l,d,u){o.call(this,d),this._helper=l;var b=this;l.on("data",function(g,P){b.push(g)||b._helper.pause(),u&&u(P)}).on("error",function(g){b.emit("error",g)}).on("end",function(){b.push(null)})}e("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:void 0!==te,newBufferFrom:function(o,a){if(te.from&&te.from!==Uint8Array.from)return te.from(o,a);if("number"==typeof o)throw new Error('The "data" argument must not be a number');return new te(o,a)},allocBuffer:function(o){if(te.alloc)return te.alloc(o);var a=new te(o);return a.fill(0),a},isBuffer:function(o){return te.isBuffer(o)},isStream:function(o){return o&&"function"==typeof o.on&&"function"==typeof o.pause&&"function"==typeof o.resume}}},{}],15:[function(e,t,n){function o(R,se,G){var z,L=l.getTypeOf(se),J=l.extend(G||{},b);J.date=J.date||new Date,null!==J.compression&&(J.compression=J.compression.toUpperCase()),"string"==typeof J.unixPermissions&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(R=E(R)),J.createFolders&&(z=y(R))&&T.call(this,z,!0),G&&void 0!==G.binary||(J.binary=!("string"===L&&!1===J.binary&&!1===J.base64)),(se instanceof g&&0===se.uncompressedSize||J.dir||!se||0===se.length)&&(J.base64=!1,J.binary=!0,se="",J.compression="STORE",L="string");var I;I=se instanceof g||se instanceof d?se:_.isNode&&_.isStream(se)?new S(R,se):l.prepareContent(R,se,J.binary,J.optimizedBinaryString,J.base64);var Y=new P(R,I,J);this.files[R]=Y}var a=e("./utf8"),l=e("./utils"),d=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),b=e("./defaults"),g=e("./compressedObject"),P=e("./zipObject"),p=e("./generate"),_=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),y=function(R){"/"===R.slice(-1)&&(R=R.substring(0,R.length-1));var se=R.lastIndexOf("/");return 0<se?R.substring(0,se):""},E=function(R){return"/"!==R.slice(-1)&&(R+="/"),R},T=function(R,se){return se=void 0!==se?se:b.createFolders,R=E(R),this.files[R]||o.call(this,R,null,{dir:!0,createFolders:se}),this.files[R]};function j(R){return"[object RegExp]"===Object.prototype.toString.call(R)}var Q={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var se,G,z;for(se in this.files)z=this.files[se],(G=se.slice(this.root.length,se.length))&&se.slice(0,this.root.length)===this.root&&R(G,z)},filter:function(R){var se=[];return this.forEach(function(G,z){R(G,z)&&se.push(z)}),se},file:function(R,se,G){if(1!==arguments.length)return o.call(this,R=this.root+R,se,G),this;if(j(R)){var z=R;return this.filter(function(J,ye){return!ye.dir&&z.test(J)})}var L=this.files[this.root+R];return L&&!L.dir?L:null},folder:function(R){if(!R)return this;if(j(R))return this.filter(function(L,J){return J.dir&&R.test(L)});var G=T.call(this,this.root+R),z=this.clone();return z.root=G.name,z},remove:function(R){var se=this.files[R=this.root+R];if(se||("/"!==R.slice(-1)&&(R+="/"),se=this.files[R]),se&&!se.dir)delete this.files[R];else for(var G=this.filter(function(L,J){return J.name.slice(0,R.length)===R}),z=0;z<G.length;z++)delete this.files[G[z].name];return this},generate:function(R){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var se,G={};try{if((G=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),"binarystring"===G.type&&(G.type="string"),!G.type)throw new Error("No output type specified.");l.checkSupport(G.type),"darwin"!==G.platform&&"freebsd"!==G.platform&&"linux"!==G.platform&&"sunos"!==G.platform||(G.platform="UNIX"),"win32"===G.platform&&(G.platform="DOS"),se=p.generateWorker(this,G,G.comment||this.comment||"")}catch(L){(se=new d("error")).error(L)}return new u(se,G.type||"string",G.mimeType)},generateAsync:function(R,se){return this.generateInternalStream(R).accumulate(se)},generateNodeStream:function(R,se){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(se)}};t.exports=Q},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var o=e("./DataReader");function a(l){o.call(this,l);for(var d=0;d<this.data.length;d++)l[d]=255&l[d]}e("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var d=l.charCodeAt(0),u=l.charCodeAt(1),b=l.charCodeAt(2),g=l.charCodeAt(3),P=this.length-4;0<=P;--P)if(this.data[P]===d&&this.data[P+1]===u&&this.data[P+2]===b&&this.data[P+3]===g)return P-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var d=l.charCodeAt(0),u=l.charCodeAt(1),b=l.charCodeAt(2),g=l.charCodeAt(3),P=this.readData(4);return d===P[0]&&u===P[1]&&b===P[2]&&g===P[3]},a.prototype.readData=function(l){if(this.checkOffset(l),0===l)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var o=e("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(l){},readInt:function(l){var d,u=0;for(this.checkOffset(l),d=this.index+l-1;d>=this.index;d--)u=(u<<8)+this.byteAt(d);return this.index+=l,u},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(l){},lastIndexOfSignature:function(l){},readAndCheckSignature:function(l){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,n){var o=e("./Uint8ArrayReader");function a(l){o.call(this,l)}e("../utils").inherits(a,o),a.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var o=e("./DataReader");function a(l){o.call(this,l)}e("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var o=e("./ArrayReader");function a(l){o.call(this,l)}e("../utils").inherits(a,o),a.prototype.readData=function(l){if(this.checkOffset(l),0===l)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var o=e("../utils"),a=e("../support"),l=e("./ArrayReader"),d=e("./StringReader"),u=e("./NodeBufferReader"),b=e("./Uint8ArrayReader");t.exports=function(g){var P=o.getTypeOf(g);return o.checkSupport(P),"string"!==P||a.uint8array?"nodebuffer"===P?new u(g):a.uint8array?new b(o.transformTo("uint8array",g)):new l(o.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){var o=e("./GenericWorker"),a=e("../utils");function l(d){o.call(this,"ConvertWorker to "+d),this.destType=d}a.inherits(l,o),l.prototype.processChunk=function(d){this.push({data:a.transformTo(this.destType,d.data),meta:d.meta})},t.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var o=e("./GenericWorker"),a=e("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(l,o),l.prototype.processChunk=function(d){this.streamInfo.crc32=a(d.data,this.streamInfo.crc32||0),this.push(d)},t.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var o=e("../utils"),a=e("./GenericWorker");function l(d){a.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(l,a),l.prototype.processChunk=function(d){d&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+d.data.length),a.prototype.processChunk.call(this,d)},t.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var o=e("../utils"),a=e("./GenericWorker");function l(d){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(b){u.dataIsReady=!0,u.data=b,u.max=b&&b.length||0,u.type=o.getTypeOf(b),u.isPaused||u._tickAndRepeat()},function(b){u.error(b)})}o.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,u);break;case"uint8array":d=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":d=this.data.slice(this.index,u)}return this.index=u,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var d=0;d<this._listeners[a].length;d++)this._listeners[a][d].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(d){l.processChunk(d)}),a.on("end",function(){l.end()}),a.on("error",function(d){l.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},t.exports=o},{}],29:[function(e,t,n){var o=e("../utils"),a=e("./ConvertWorker"),l=e("./GenericWorker"),d=e("../base64"),u=e("../support"),b=e("../external"),g=null;if(u.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch(_){}function p(_,S,y){var E=S;switch(S){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=S,this._mimeType=y,o.checkSupport(E),this._worker=_.pipe(new a(E)),_.lock()}catch(T){this._worker=new l("error"),this._worker.error(T)}}p.prototype={accumulate:function(_){return function P(_,S){return new b.Promise(function(y,E){var T=[],j=_._internalType,Q=_._outputType,R=_._mimeType;_.on("data",function(se,G){T.push(se),S&&S(G)}).on("error",function(se){T=[],E(se)}).on("end",function(){try{var se=function(G,z,L){switch(G){case"blob":return o.newBlob(o.transformTo("arraybuffer",z),L);case"base64":return d.encode(z);default:return o.transformTo(G,z)}}(Q,function(G,z){var L,J=0,ye=null,I=0;for(L=0;L<z.length;L++)I+=z[L].length;switch(G){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(ye=new Uint8Array(I),L=0;L<z.length;L++)ye.set(z[L],J),J+=z[L].length;return ye;case"nodebuffer":return te.concat(z);default:throw new Error("concat : unsupported type '"+G+"'")}}(j,T),R);y(se)}catch(G){E(G)}T=[]}).resume()})}(this,_)},on:function(_,S){var y=this;return this._worker.on(_,"data"===_?function(E){S.call(y,E.data,E.meta)}:function(){o.delay(S,arguments,y)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:"nodebuffer"!==this._outputType},_)}},t.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==te,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var o=new ArrayBuffer(0);try{n.blob=0===new Blob([o],{type:"application/zip"}).size}catch(l){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),n.blob=0===a.getBlob("application/zip").size}catch(d){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(l){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var o=e("./utils"),a=e("./support"),l=e("./nodejsUtils"),d=e("./stream/GenericWorker"),u=new Array(256),b=0;b<256;b++)u[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function P(){d.call(this,"utf-8 encode")}u[254]=u[254]=1,n.utf8encode=function(p){return a.nodebuffer?l.newBufferFrom(p,"utf-8"):function(_){var S,y,E,T,j,Q=_.length,R=0;for(T=0;T<Q;T++)55296==(64512&(y=_.charCodeAt(T)))&&T+1<Q&&56320==(64512&(E=_.charCodeAt(T+1)))&&(y=65536+(y-55296<<10)+(E-56320),T++),R+=y<128?1:y<2048?2:y<65536?3:4;for(S=a.uint8array?new Uint8Array(R):new Array(R),T=j=0;j<R;T++)55296==(64512&(y=_.charCodeAt(T)))&&T+1<Q&&56320==(64512&(E=_.charCodeAt(T+1)))&&(y=65536+(y-55296<<10)+(E-56320),T++),y<128?S[j++]=y:(y<2048?S[j++]=192|y>>>6:(y<65536?S[j++]=224|y>>>12:(S[j++]=240|y>>>18,S[j++]=128|y>>>12&63),S[j++]=128|y>>>6&63),S[j++]=128|63&y);return S}(p)},n.utf8decode=function(p){return a.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(_){var S,y,E,T,j=_.length,Q=new Array(2*j);for(S=y=0;S<j;)if((E=_[S++])<128)Q[y++]=E;else if(4<(T=u[E]))Q[y++]=65533,S+=T-1;else{for(E&=2===T?31:3===T?15:7;1<T&&S<j;)E=E<<6|63&_[S++],T--;1<T?Q[y++]=65533:E<65536?Q[y++]=E:(Q[y++]=55296|(E-=65536)>>10&1023,Q[y++]=56320|1023&E)}return Q.length!==y&&(Q.subarray?Q=Q.subarray(0,y):Q.length=y),o.applyFromCharCode(Q)}(p=o.transformTo(a.uint8array?"uint8array":"array",p))},o.inherits(g,d),g.prototype.processChunk=function(p){var _=o.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=_;(_=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),_.set(S,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var y=function(T,j){var Q;for((j=j||T.length)>T.length&&(j=T.length),Q=j-1;0<=Q&&128==(192&T[Q]);)Q--;return Q<0||0===Q?j:Q+u[T[Q]]>j?Q:j}(_),E=_;y!==_.length&&(a.uint8array?(E=_.subarray(0,y),this.leftOver=_.subarray(y,_.length)):(E=_.slice(0,y),this.leftOver=_.slice(y,_.length))),this.push({data:n.utf8decode(E),meta:p.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=g,o.inherits(P,d),P.prototype.processChunk=function(p){this.push({data:n.utf8encode(p.data),meta:p.meta})},n.Utf8EncodeWorker=P},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var o=e("./support"),a=e("./base64"),l=e("./nodejsUtils"),d=e("set-immediate-shim"),u=e("./external");function b(y){return y}function g(y,E){for(var T=0;T<y.length;++T)E[T]=255&y.charCodeAt(T);return E}n.newBlob=function(y,E){n.checkSupport("blob");try{return new Blob([y],{type:E})}catch(j){try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(y),T.getBlob(E)}catch(Q){throw new Error("Bug : can't construct the Blob.")}}};var P={stringifyByChunk:function(y,E,T){var j=[],Q=0,R=y.length;if(R<=T)return String.fromCharCode.apply(null,y);for(;Q<R;)j.push(String.fromCharCode.apply(null,"array"===E||"nodebuffer"===E?y.slice(Q,Math.min(Q+T,R)):y.subarray(Q,Math.min(Q+T,R)))),Q+=T;return j.join("")},stringifyByChar:function(y){for(var E="",T=0;T<y.length;T++)E+=String.fromCharCode(y[T]);return E},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(y){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(y){return!1}}()}};function p(y){var E=65536,T=n.getTypeOf(y),j=!0;if("uint8array"===T?j=P.applyCanBeUsed.uint8array:"nodebuffer"===T&&(j=P.applyCanBeUsed.nodebuffer),j)for(;1<E;)try{return P.stringifyByChunk(y,T,E)}catch(Q){E=Math.floor(E/2)}return P.stringifyByChar(y)}function _(y,E){for(var T=0;T<y.length;T++)E[T]=y[T];return E}n.applyFromCharCode=p;var S={};S.string={string:b,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return S.string.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:function(y){return g(y,l.allocBuffer(y.length))}},S.array={string:p,array:b,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},S.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return _(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:b,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},S.uint8array={string:p,array:function(y){return _(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:b,nodebuffer:function(y){return l.newBufferFrom(y)}},S.nodebuffer={string:p,array:function(y){return _(y,new Array(y.length))},arraybuffer:function(y){return S.nodebuffer.uint8array(y).buffer},uint8array:function(y){return _(y,new Uint8Array(y.length))},nodebuffer:b},n.transformTo=function(y,E){if(E=E||"",!y)return E;n.checkSupport(y);var T=n.getTypeOf(E);return S[T][y](E)},n.getTypeOf=function(y){return"string"==typeof y?"string":"[object Array]"===Object.prototype.toString.call(y)?"array":o.nodebuffer&&l.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(y){var E,T,j="";for(T=0;T<(y||"").length;T++)j+="\\x"+((E=y.charCodeAt(T))<16?"0":"")+E.toString(16).toUpperCase();return j},n.delay=function(y,E,T){d(function(){y.apply(T||null,E||[])})},n.inherits=function(y,E){function T(){}T.prototype=E.prototype,y.prototype=new T},n.extend=function(){var y,E,T={};for(y=0;y<arguments.length;y++)for(E in arguments[y])arguments[y].hasOwnProperty(E)&&void 0===T[E]&&(T[E]=arguments[y][E]);return T},n.prepareContent=function(y,E,T,j,Q){return u.Promise.resolve(E).then(function(R){return o.blob&&(R instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R)))&&"undefined"!=typeof FileReader?new u.Promise(function(se,G){var z=new FileReader;z.onload=function(L){se(L.target.result)},z.onerror=function(L){G(L.target.error)},z.readAsArrayBuffer(R)}):R}).then(function(R){var G,se=n.getTypeOf(R);return se?("arraybuffer"===se?R=n.transformTo("uint8array",R):"string"===se&&(Q?R=a.decode(R):T&&!0!==j&&(R=g(G=R,o.uint8array?new Uint8Array(G.length):new Array(G.length)))),R):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){var o=e("./reader/readerFor"),a=e("./utils"),l=e("./signature"),d=e("./zipEntry"),u=(e("./utf8"),e("./support"));function b(g){this.files=[],this.loadOptions=g}b.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var P=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(P)+", expected "+a.pretty(g)+")")}},isSignature:function(g,P){var p=this.reader.index;this.reader.setIndex(g);var _=this.reader.readString(4)===P;return this.reader.setIndex(p),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),p=a.transformTo(u.uint8array?"uint8array":"array",g);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,P,p,_=this.zip64EndOfCentralSize-44;0<_;)g=this.reader.readInt(2),P=this.reader.readInt(4),p=this.reader.readData(P),this.zip64ExtensibleData[g]={id:g,length:P,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,P;for(g=0;g<this.files.length;g++)this.reader.setIndex((P=this.files[g]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),P.readLocalPart(this.reader),P.handleUTF8(),P.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var P=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var _=P-p;if(0<_)this.isSignature(P,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var o=e("./reader/readerFor"),a=e("./utils"),l=e("./compressedObject"),d=e("./crc32"),u=e("./utf8"),b=e("./compressions"),g=e("./support");function P(p,_){this.options=p,this.loadOptions=_}P.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(p){var _,S;if(p.skip(22),this.fileNameLength=p.readInt(2),S=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(S),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(_=function(y){for(var E in b)if(b.hasOwnProperty(E)&&b[E].magic===y)return b[E];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var _=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(_),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==p&&(this.dosPermissions=63&this.externalFileAttributes),3==p&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(p){if(this.extraFields[1]){var _=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(p){var _,S,y,E=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<E;)_=p.readInt(2),S=p.readInt(2),y=p.readData(S),this.extraFields[_]={id:_,length:S,value:y};p.setIndex(E)},handleUTF8:function(){var p=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(null!==_)this.fileNameStr=_;else{var S=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var y=this.findExtraFieldUnicodeComment();if(null!==y)this.fileCommentStr=y;else{var E=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var _=o(p.value);return 1!==_.readInt(1)||d(this.fileName)!==_.readInt(4)?null:u.utf8decode(_.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var _=o(p.value);return 1!==_.readInt(1)||d(this.fileComment)!==_.readInt(4)?null:u.utf8decode(_.readData(p.length-5))}return null}},t.exports=P},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function o(_,S,y){this.name=_,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=S,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=e("./stream/StreamHelper"),l=e("./stream/DataWorker"),d=e("./utf8"),u=e("./compressedObject"),b=e("./stream/GenericWorker");o.prototype={internalStream:function(_){var S=null,y="string";try{if(!_)throw new Error("No output type specified.");var E="string"===(y=_.toLowerCase())||"text"===y;"binarystring"!==y&&"text"!==y||(y="string"),S=this._decompressWorker();var T=!this._dataBinary;T&&!E&&(S=S.pipe(new d.Utf8EncodeWorker)),!T&&E&&(S=S.pipe(new d.Utf8DecodeWorker))}catch(j){(S=new b("error")).error(j)}return new a(S,y,"")},async:function(_,S){return this.internalStream(_).accumulate(S)},nodeStream:function(_,S){return this.internalStream(_||"nodebuffer").toNodejsStream(S)},_compressWorker:function(_,S){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new d.Utf8EncodeWorker)),u.createWorkerFrom(y,_,S)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof b?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],P=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<g.length;p++)o.prototype[g[p]]=P;t.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(o){var a,l,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var u=0,b=new d(_),g=o.document.createTextNode("");b.observe(g,{characterData:!0}),a=function(){g.data=u=++u%2}}else if(o.setImmediate||void 0===o.MessageChannel)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var S=o.document.createElement("script");S.onreadystatechange=function(){_(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},o.document.documentElement.appendChild(S)}:function(){setTimeout(_,0)};else{var P=new o.MessageChannel;P.port1.onmessage=_,a=function(){P.port2.postMessage(0)}}var p=[];function _(){var S,y;l=!0;for(var E=p.length;E;){for(y=p,p=[],S=-1;++S<E;)y[S]();E=p.length}l=!1}t.exports=function(S){1!==p.push(S)||l||a()}}).call(this,void 0!==st?st:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var o=e("immediate");function a(){}var l={},d=["REJECTED"],u=["FULFILLED"],b=["PENDING"];function g(E){if("function"!=typeof E)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,E!==a&&S(this,E)}function P(E,T,j){this.promise=E,"function"==typeof T&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),"function"==typeof j&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function p(E,T,j){o(function(){var Q;try{Q=T(j)}catch(R){return l.reject(E,R)}Q===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,Q)})}function _(E){var T=E&&E.then;if(E&&("object"==typeof E||"function"==typeof E)&&"function"==typeof T)return function(){T.apply(E,arguments)}}function S(E,T){var j=!1;function Q(G){j||(j=!0,l.reject(E,G))}function R(G){j||(j=!0,l.resolve(E,G))}var se=y(function(){T(R,Q)});"error"===se.status&&Q(se.value)}function y(E,T){var j={};try{j.value=E(T),j.status="success"}catch(Q){j.status="error",j.value=Q}return j}(t.exports=g).prototype.finally=function(E){if("function"!=typeof E)return this;var T=this.constructor;return this.then(function(j){return T.resolve(E()).then(function(){return j})},function(j){return T.resolve(E()).then(function(){throw j})})},g.prototype.catch=function(E){return this.then(null,E)},g.prototype.then=function(E,T){if("function"!=typeof E&&this.state===u||"function"!=typeof T&&this.state===d)return this;var j=new this.constructor(a);return this.state!==b?p(j,this.state===u?E:T,this.outcome):this.queue.push(new P(j,E,T)),j},P.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},P.prototype.otherCallFulfilled=function(E){p(this.promise,this.onFulfilled,E)},P.prototype.callRejected=function(E){l.reject(this.promise,E)},P.prototype.otherCallRejected=function(E){p(this.promise,this.onRejected,E)},l.resolve=function(E,T){var j=y(_,T);if("error"===j.status)return l.reject(E,j.value);var Q=j.value;if(Q)S(E,Q);else{E.state=u,E.outcome=T;for(var R=-1,se=E.queue.length;++R<se;)E.queue[R].callFulfilled(T)}return E},l.reject=function(E,T){E.state=d,E.outcome=T;for(var j=-1,Q=E.queue.length;++j<Q;)E.queue[j].callRejected(T);return E},g.resolve=function(E){return E instanceof this?E:l.resolve(new this(a),E)},g.reject=function(E){var T=new this(a);return l.reject(T,E)},g.all=function(E){var T=this;if("[object Array]"!==Object.prototype.toString.call(E))return this.reject(new TypeError("must be an array"));var j=E.length,Q=!1;if(!j)return this.resolve([]);for(var R=new Array(j),se=0,G=-1,z=new this(a);++G<j;)L(E[G],G);return z;function L(J,ye){T.resolve(J).then(function(I){R[ye]=I,++se!==j||Q||(Q=!0,l.resolve(z,R))},function(I){Q||(Q=!0,l.reject(z,I))})}},g.race=function(E){if("[object Array]"!==Object.prototype.toString.call(E))return this.reject(new TypeError("must be an array"));var j=E.length,Q=!1;if(!j)return this.resolve([]);for(var R=-1,se=new this(a);++R<j;)this.resolve(E[R]).then(function(z){Q||(Q=!0,l.resolve(se,z))},function(z){Q||(Q=!0,l.reject(se,z))});return se}},{immediate:36}],38:[function(e,t,n){var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var o=e("./zlib/deflate"),a=e("./utils/common"),l=e("./utils/strings"),d=e("./zlib/messages"),u=e("./zlib/zstream"),b=Object.prototype.toString;function S(E){if(!(this instanceof S))return new S(E);this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},E||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var j=o.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(0!==j)throw new Error(d[j]);if(T.header&&o.deflateSetHeader(this.strm,T.header),T.dictionary){var Q;if(Q="string"==typeof T.dictionary?l.string2buf(T.dictionary):"[object ArrayBuffer]"===b.call(T.dictionary)?new Uint8Array(T.dictionary):T.dictionary,0!==(j=o.deflateSetDictionary(this.strm,Q)))throw new Error(d[j]);this._dict_set=!0}}function y(E,T){var j=new S(T);if(j.push(E,!0),j.err)throw j.msg||d[j.err];return j.result}S.prototype.push=function(E,T){var j,Q,R=this.strm,se=this.options.chunkSize;if(this.ended)return!1;Q=T===~~T?T:!0===T?4:0,R.input="string"==typeof E?l.string2buf(E):"[object ArrayBuffer]"===b.call(E)?new Uint8Array(E):E,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new a.Buf8(se),R.next_out=0,R.avail_out=se),1!==(j=o.deflate(R,Q))&&0!==j)return this.onEnd(j),!(this.ended=!0);0!==R.avail_out&&(0!==R.avail_in||4!==Q&&2!==Q)||this.onData("string"===this.options.to?l.buf2binstring(a.shrinkBuf(R.output,R.next_out)):a.shrinkBuf(R.output,R.next_out))}while((0<R.avail_in||0===R.avail_out)&&1!==j);return 4===Q?(j=o.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,0===j):2!==Q||(this.onEnd(0),!(R.avail_out=0))},S.prototype.onData=function(E){this.chunks.push(E)},S.prototype.onEnd=function(E){0===E&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},n.Deflate=S,n.deflate=y,n.deflateRaw=function(E,T){return(T=T||{}).raw=!0,y(E,T)},n.gzip=function(E,T){return(T=T||{}).gzip=!0,y(E,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var o=e("./zlib/inflate"),a=e("./utils/common"),l=e("./utils/strings"),d=e("./zlib/constants"),u=e("./zlib/messages"),b=e("./zlib/zstream"),g=e("./zlib/gzheader"),P=Object.prototype.toString;function p(S){if(!(this instanceof p))return new p(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,0===y.windowBits&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||S&&S.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&0==(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var E=o.inflateInit2(this.strm,y.windowBits);if(E!==d.Z_OK)throw new Error(u[E]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}function _(S,y){var E=new p(y);if(E.push(S,!0),E.err)throw E.msg||u[E.err];return E.result}p.prototype.push=function(S,y){var E,T,j,Q,R,se,G=this.strm,z=this.options.chunkSize,L=this.options.dictionary,J=!1;if(this.ended)return!1;T=y===~~y?y:!0===y?d.Z_FINISH:d.Z_NO_FLUSH,G.input="string"==typeof S?l.binstring2buf(S):"[object ArrayBuffer]"===P.call(S)?new Uint8Array(S):S,G.next_in=0,G.avail_in=G.input.length;do{if(0===G.avail_out&&(G.output=new a.Buf8(z),G.next_out=0,G.avail_out=z),(E=o.inflate(G,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&L&&(se="string"==typeof L?l.string2buf(L):"[object ArrayBuffer]"===P.call(L)?new Uint8Array(L):L,E=o.inflateSetDictionary(this.strm,se)),E===d.Z_BUF_ERROR&&!0===J&&(E=d.Z_OK,J=!1),E!==d.Z_STREAM_END&&E!==d.Z_OK)return this.onEnd(E),!(this.ended=!0);G.next_out&&(0!==G.avail_out&&E!==d.Z_STREAM_END&&(0!==G.avail_in||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||("string"===this.options.to?(j=l.utf8border(G.output,G.next_out),Q=G.next_out-j,R=l.buf2string(G.output,j),G.next_out=Q,G.avail_out=z-Q,Q&&a.arraySet(G.output,G.output,j,Q,0),this.onData(R)):this.onData(a.shrinkBuf(G.output,G.next_out)))),0===G.avail_in&&0===G.avail_out&&(J=!0)}while((0<G.avail_in||0===G.avail_out)&&E!==d.Z_STREAM_END);return E===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(E=o.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(G.avail_out=0))},p.prototype.onData=function(S){this.chunks.push(S)},p.prototype.onEnd=function(S){S===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},n.Inflate=p,n.inflate=_,n.inflateRaw=function(S,y){return(y=y||{}).raw=!0,_(S,y)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(d){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var b=u.shift();if(b){if("object"!=typeof b)throw new TypeError(b+"must be non-object");for(var g in b)b.hasOwnProperty(g)&&(d[g]=b[g])}}return d},n.shrinkBuf=function(d,u){return d.length===u?d:d.subarray?d.subarray(0,u):(d.length=u,d)};var a={arraySet:function(d,u,b,g,P){if(u.subarray&&d.subarray)d.set(u.subarray(b,b+g),P);else for(var p=0;p<g;p++)d[P+p]=u[b+p]},flattenChunks:function(d){var u,b,g,P,p,_;for(u=g=0,b=d.length;u<b;u++)g+=d[u].length;for(_=new Uint8Array(g),u=P=0,b=d.length;u<b;u++)_.set(p=d[u],P),P+=p.length;return _}},l={arraySet:function(d,u,b,g,P){for(var p=0;p<g;p++)d[P+p]=u[b+p]},flattenChunks:function(d){return[].concat.apply([],d)}};n.setTyped=function(d){d?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,l))},n.setTyped(o)},{}],42:[function(e,t,n){var o=e("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(g){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(g){l=!1}for(var d=new o.Buf8(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function b(g,P){if(P<65537&&(g.subarray&&l||!g.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(g,P));for(var p="",_=0;_<P;_++)p+=String.fromCharCode(g[_]);return p}d[254]=d[254]=1,n.string2buf=function(g){var P,p,_,S,y,E=g.length,T=0;for(S=0;S<E;S++)55296==(64512&(p=g.charCodeAt(S)))&&S+1<E&&56320==(64512&(_=g.charCodeAt(S+1)))&&(p=65536+(p-55296<<10)+(_-56320),S++),T+=p<128?1:p<2048?2:p<65536?3:4;for(P=new o.Buf8(T),S=y=0;y<T;S++)55296==(64512&(p=g.charCodeAt(S)))&&S+1<E&&56320==(64512&(_=g.charCodeAt(S+1)))&&(p=65536+(p-55296<<10)+(_-56320),S++),p<128?P[y++]=p:(p<2048?P[y++]=192|p>>>6:(p<65536?P[y++]=224|p>>>12:(P[y++]=240|p>>>18,P[y++]=128|p>>>12&63),P[y++]=128|p>>>6&63),P[y++]=128|63&p);return P},n.buf2binstring=function(g){return b(g,g.length)},n.binstring2buf=function(g){for(var P=new o.Buf8(g.length),p=0,_=P.length;p<_;p++)P[p]=g.charCodeAt(p);return P},n.buf2string=function(g,P){var p,_,S,y,E=P||g.length,T=new Array(2*E);for(p=_=0;p<E;)if((S=g[p++])<128)T[_++]=S;else if(4<(y=d[S]))T[_++]=65533,p+=y-1;else{for(S&=2===y?31:3===y?15:7;1<y&&p<E;)S=S<<6|63&g[p++],y--;1<y?T[_++]=65533:S<65536?T[_++]=S:(T[_++]=55296|(S-=65536)>>10&1023,T[_++]=56320|1023&S)}return b(T,_)},n.utf8border=function(g,P){var p;for((P=P||g.length)>g.length&&(P=g.length),p=P-1;0<=p&&128==(192&g[p]);)p--;return p<0||0===p?P:p+d[g[p]]>P?p:P}},{"./common":41}],43:[function(e,t,n){t.exports=function(o,a,l,d){for(var u=65535&o|0,b=o>>>16&65535|0,g=0;0!==l;){for(l-=g=2e3<l?2e3:l;b=b+(u=u+a[d++]|0)|0,--g;);u%=65521,b%=65521}return u|b<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var o=function(){for(var a,l=[],d=0;d<256;d++){a=d;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[d]=a}return l}();t.exports=function(a,l,d,u){var b=o,g=u+d;a^=-1;for(var P=u;P<g;P++)a=a>>>8^b[255&(a^l[P])];return-1^a}},{}],46:[function(e,t,n){var o,a=e("../utils/common"),l=e("./trees"),d=e("./adler32"),u=e("./crc32"),b=e("./messages"),_=-2,J=258,ye=262,Y=113;function Pe(f,X){return f.msg=b[X],X}function ce(f){return(f<<1)-(4<f?9:0)}function xe(f){for(var X=f.length;0<=--X;)f[X]=0}function W(f){var X=f.state,V=X.pending;V>f.avail_out&&(V=f.avail_out),0!==V&&(a.arraySet(f.output,X.pending_buf,X.pending_out,V,f.next_out),f.next_out+=V,X.pending_out+=V,f.total_out+=V,f.avail_out-=V,X.pending-=V,0===X.pending&&(X.pending_out=0))}function M(f,X){l._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,X),f.block_start=f.strstart,W(f.strm)}function ke(f,X){f.pending_buf[f.pending++]=X}function me(f,X){f.pending_buf[f.pending++]=X>>>8&255,f.pending_buf[f.pending++]=255&X}function ue(f,X){var V,D,k=f.max_chain_length,B=f.strstart,ne=f.prev_length,ie=f.nice_match,$=f.strstart>f.w_size-ye?f.strstart-(f.w_size-ye):0,le=f.window,ge=f.w_mask,K=f.prev,we=f.strstart+J,Ae=le[B+ne-1],Ce=le[B+ne];f.prev_length>=f.good_match&&(k>>=2),ie>f.lookahead&&(ie=f.lookahead);do{if(le[(V=X)+ne]===Ce&&le[V+ne-1]===Ae&&le[V]===le[B]&&le[++V]===le[B+1]){B+=2,V++;do{}while(le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&le[++B]===le[++V]&&B<we);if(D=J-(we-B),B=we-J,ne<D){if(f.match_start=X,ie<=(ne=D))break;Ae=le[B+ne-1],Ce=le[B+ne]}}}while((X=K[X&ge])>$&&0!=--k);return ne<=f.lookahead?ne:f.lookahead}function Ue(f){var X,V,D,k,B,ne,ie,$,le,ge,K=f.w_size;do{if(k=f.window_size-f.lookahead-f.strstart,f.strstart>=K+(K-ye)){for(a.arraySet(f.window,f.window,K,K,0),f.match_start-=K,f.strstart-=K,f.block_start-=K,X=V=f.hash_size;D=f.head[--X],f.head[X]=K<=D?D-K:0,--V;);for(X=V=K;D=f.prev[--X],f.prev[X]=K<=D?D-K:0,--V;);k+=K}if(0===f.strm.avail_in)break;if(ie=f.window,$=f.strstart+f.lookahead,ge=void 0,(le=k)<(ge=(ne=f.strm).avail_in)&&(ge=le),V=0===ge?0:(ne.avail_in-=ge,a.arraySet(ie,ne.input,ne.next_in,ge,$),1===ne.state.wrap?ne.adler=d(ne.adler,ie,ge,$):2===ne.state.wrap&&(ne.adler=u(ne.adler,ie,ge,$)),ne.next_in+=ge,ne.total_in+=ge,ge),f.lookahead+=V,f.lookahead+f.insert>=3)for(f.ins_h=f.window[B=f.strstart-f.insert],f.ins_h=(f.ins_h<<f.hash_shift^f.window[B+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[B+3-1])&f.hash_mask,f.prev[B&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=B,B++,f.insert--,!(f.lookahead+f.insert<3)););}while(f.lookahead<ye&&0!==f.strm.avail_in)}function qe(f,X){for(var V,D;;){if(f.lookahead<ye){if(Ue(f),f.lookahead<ye&&0===X)return 1;if(0===f.lookahead)break}if(V=0,f.lookahead>=3&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+3-1])&f.hash_mask,V=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),0!==V&&f.strstart-V<=f.w_size-ye&&(f.match_length=ue(f,V)),f.match_length>=3)if(D=l._tr_tally(f,f.strstart-f.match_start,f.match_length-3),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=3){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+3-1])&f.hash_mask,V=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,0!=--f.match_length;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else D=l._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(D&&(M(f,!1),0===f.strm.avail_out))return 1}return f.insert=f.strstart<2?f.strstart:2,4===X?(M(f,!0),0===f.strm.avail_out?3:4):f.last_lit&&(M(f,!1),0===f.strm.avail_out)?1:2}function Ne(f,X){for(var V,D,k;;){if(f.lookahead<ye){if(Ue(f),f.lookahead<ye&&0===X)return 1;if(0===f.lookahead)break}if(V=0,f.lookahead>=3&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+3-1])&f.hash_mask,V=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=2,0!==V&&f.prev_length<f.max_lazy_match&&f.strstart-V<=f.w_size-ye&&(f.match_length=ue(f,V),f.match_length<=5&&(1===f.strategy||3===f.match_length&&4096<f.strstart-f.match_start)&&(f.match_length=2)),f.prev_length>=3&&f.match_length<=f.prev_length){for(k=f.strstart+f.lookahead-3,D=l._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-3),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=k&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+3-1])&f.hash_mask,V=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),0!=--f.prev_length;);if(f.match_available=0,f.match_length=2,f.strstart++,D&&(M(f,!1),0===f.strm.avail_out))return 1}else if(f.match_available){if((D=l._tr_tally(f,0,f.window[f.strstart-1]))&&M(f,!1),f.strstart++,f.lookahead--,0===f.strm.avail_out)return 1}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(D=l._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<2?f.strstart:2,4===X?(M(f,!0),0===f.strm.avail_out?3:4):f.last_lit&&(M(f,!1),0===f.strm.avail_out)?1:2}function Fe(f,X,V,D,k){this.good_length=f,this.max_lazy=X,this.nice_length=V,this.max_chain=D,this.func=k}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(f){var X;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=2,(X=f.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?42:Y,f.adler=2===X.wrap?0:1,X.last_flush=0,l._tr_init(X),0):Pe(f,_)}function Je(f){var V,X=Le(f);return 0===X&&((V=f.state).window_size=2*V.w_size,xe(V.head),V.max_lazy_match=o[V.level].max_lazy,V.good_match=o[V.level].good_length,V.nice_match=o[V.level].nice_length,V.max_chain_length=o[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0),X}function ve(f,X,V,D,k,B){if(!f)return _;var ne=1;if(-1===X&&(X=6),D<0?(ne=0,D=-D):15<D&&(ne=2,D-=16),k<1||9<k||8!==V||D<8||15<D||X<0||9<X||B<0||4<B)return Pe(f,_);8===D&&(D=9);var ie=new je;return(f.state=ie).strm=f,ie.wrap=ne,ie.gzhead=null,ie.w_bits=D,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=k+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new a.Buf8(2*ie.w_size),ie.head=new a.Buf16(ie.hash_size),ie.prev=new a.Buf16(ie.w_size),ie.lit_bufsize=1<<k+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new a.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=X,ie.strategy=B,ie.method=V,Je(f)}o=[new Fe(0,0,0,0,function(f,X){var V=65535;for(V>f.pending_buf_size-5&&(V=f.pending_buf_size-5);;){if(f.lookahead<=1){if(Ue(f),0===f.lookahead&&0===X)return 1;if(0===f.lookahead)break}f.strstart+=f.lookahead,f.lookahead=0;var D=f.block_start+V;if((0===f.strstart||f.strstart>=D)&&(f.lookahead=f.strstart-D,f.strstart=D,M(f,!1),0===f.strm.avail_out)||f.strstart-f.block_start>=f.w_size-ye&&(M(f,!1),0===f.strm.avail_out))return 1}return f.insert=0,4===X?(M(f,!0),0===f.strm.avail_out?3:4):(f.strstart>f.block_start&&M(f,!1),1)}),new Fe(4,4,8,4,qe),new Fe(4,5,16,8,qe),new Fe(4,6,32,32,qe),new Fe(4,4,16,16,Ne),new Fe(8,16,32,32,Ne),new Fe(8,16,128,128,Ne),new Fe(8,32,128,256,Ne),new Fe(32,128,258,1024,Ne),new Fe(32,258,258,4096,Ne)],n.deflateInit=function(f,X){return ve(f,X,8,15,8,0)},n.deflateInit2=ve,n.deflateReset=Je,n.deflateResetKeep=Le,n.deflateSetHeader=function(f,X){return f&&f.state?2!==f.state.wrap?_:(f.state.gzhead=X,0):_},n.deflate=function(f,X){var V,D,k,B;if(!f||!f.state||5<X||X<0)return f?Pe(f,_):_;if(D=f.state,!f.output||!f.input&&0!==f.avail_in||666===D.status&&4!==X)return Pe(f,0===f.avail_out?-5:_);if(D.strm=f,V=D.last_flush,D.last_flush=X,42===D.status)if(2===D.wrap)f.adler=0,ke(D,31),ke(D,139),ke(D,8),D.gzhead?(ke(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),ke(D,255&D.gzhead.time),ke(D,D.gzhead.time>>8&255),ke(D,D.gzhead.time>>16&255),ke(D,D.gzhead.time>>24&255),ke(D,9===D.level?2:2<=D.strategy||D.level<2?4:0),ke(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(ke(D,255&D.gzhead.extra.length),ke(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(f.adler=u(f.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(ke(D,0),ke(D,0),ke(D,0),ke(D,0),ke(D,0),ke(D,9===D.level?2:2<=D.strategy||D.level<2?4:0),ke(D,3),D.status=Y);else{var ne=8+(D.w_bits-8<<4)<<8;ne|=(2<=D.strategy||D.level<2?0:D.level<6?1:6===D.level?2:3)<<6,0!==D.strstart&&(ne|=32),ne+=31-ne%31,D.status=Y,me(D,ne),0!==D.strstart&&(me(D,f.adler>>>16),me(D,65535&f.adler)),f.adler=1}if(69===D.status)if(D.gzhead.extra){for(k=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),W(f),k=D.pending,D.pending!==D.pending_buf_size));)ke(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(73===D.status)if(D.gzhead.name){k=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),W(f),k=D.pending,D.pending===D.pending_buf_size)){B=1;break}B=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,ke(D,B)}while(0!==B);D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),0===B&&(D.gzindex=0,D.status=91)}else D.status=91;if(91===D.status)if(D.gzhead.comment){k=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),W(f),k=D.pending,D.pending===D.pending_buf_size)){B=1;break}B=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,ke(D,B)}while(0!==B);D.gzhead.hcrc&&D.pending>k&&(f.adler=u(f.adler,D.pending_buf,D.pending-k,k)),0===B&&(D.status=103)}else D.status=103;if(103===D.status&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&W(f),D.pending+2<=D.pending_buf_size&&(ke(D,255&f.adler),ke(D,f.adler>>8&255),f.adler=0,D.status=Y)):D.status=Y),0!==D.pending){if(W(f),0===f.avail_out)return D.last_flush=-1,0}else if(0===f.avail_in&&ce(X)<=ce(V)&&4!==X)return Pe(f,-5);if(666===D.status&&0!==f.avail_in)return Pe(f,-5);if(0!==f.avail_in||0!==D.lookahead||0!==X&&666!==D.status){var ie=2===D.strategy?function($,le){for(var ge;;){if(0===$.lookahead&&(Ue($),0===$.lookahead)){if(0===le)return 1;break}if($.match_length=0,ge=l._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,ge&&(M($,!1),0===$.strm.avail_out))return 1}return $.insert=0,4===le?(M($,!0),0===$.strm.avail_out?3:4):$.last_lit&&(M($,!1),0===$.strm.avail_out)?1:2}(D,X):3===D.strategy?function($,le){for(var ge,K,we,Ae,Ce=$.window;;){if($.lookahead<=J){if(Ue($),$.lookahead<=J&&0===le)return 1;if(0===$.lookahead)break}if($.match_length=0,$.lookahead>=3&&0<$.strstart&&(K=Ce[we=$.strstart-1])===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]){Ae=$.strstart+J;do{}while(K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&K===Ce[++we]&&we<Ae);$.match_length=J-(Ae-we),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=3?(ge=l._tr_tally($,1,$.match_length-3),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(ge=l._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),ge&&(M($,!1),0===$.strm.avail_out))return 1}return $.insert=0,4===le?(M($,!0),0===$.strm.avail_out?3:4):$.last_lit&&(M($,!1),0===$.strm.avail_out)?1:2}(D,X):o[D.level].func(D,X);if(3!==ie&&4!==ie||(D.status=666),1===ie||3===ie)return 0===f.avail_out&&(D.last_flush=-1),0;if(2===ie&&(1===X?l._tr_align(D):5!==X&&(l._tr_stored_block(D,0,0,!1),3===X&&(xe(D.head),0===D.lookahead&&(D.strstart=0,D.block_start=0,D.insert=0))),W(f),0===f.avail_out))return D.last_flush=-1,0}return 4!==X?0:D.wrap<=0?1:(2===D.wrap?(ke(D,255&f.adler),ke(D,f.adler>>8&255),ke(D,f.adler>>16&255),ke(D,f.adler>>24&255),ke(D,255&f.total_in),ke(D,f.total_in>>8&255),ke(D,f.total_in>>16&255),ke(D,f.total_in>>24&255)):(me(D,f.adler>>>16),me(D,65535&f.adler)),W(f),0<D.wrap&&(D.wrap=-D.wrap),0!==D.pending?0:1)},n.deflateEnd=function(f){var X;return f&&f.state?42!==(X=f.state.status)&&69!==X&&73!==X&&91!==X&&103!==X&&X!==Y&&666!==X?Pe(f,_):(f.state=null,X===Y?Pe(f,-3):0):_},n.deflateSetDictionary=function(f,X){var V,D,k,B,ne,ie,$,le,ge=X.length;if(!f||!f.state||2===(B=(V=f.state).wrap)||1===B&&42!==V.status||V.lookahead)return _;for(1===B&&(f.adler=d(f.adler,X,ge,0)),V.wrap=0,ge>=V.w_size&&(0===B&&(xe(V.head),V.strstart=0,V.block_start=0,V.insert=0),le=new a.Buf8(V.w_size),a.arraySet(le,X,ge-V.w_size,V.w_size,0),X=le,ge=V.w_size),ne=f.avail_in,ie=f.next_in,$=f.input,f.avail_in=ge,f.next_in=0,f.input=X,Ue(V);V.lookahead>=3;){for(D=V.strstart,k=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[D+3-1])&V.hash_mask,V.prev[D&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=D,D++,--k;);V.strstart=D,V.lookahead=2,Ue(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,f.next_in=ie,f.input=$,f.avail_in=ne,V.wrap=B,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(o,a){var l,d,u,b,g,P,p,_,S,y,E,T,j,Q,R,se,G,z,L,J,ye,I,Y,m,H;m=o.input,u=(d=o.next_in)+(o.avail_in-5),H=o.output,g=(b=o.next_out)-(a-o.avail_out),P=b+(o.avail_out-257),p=(l=o.state).dmax,_=l.wsize,S=l.whave,y=l.wnext,E=l.window,T=l.hold,j=l.bits,Q=l.lencode,R=l.distcode,se=(1<<l.lenbits)-1,G=(1<<l.distbits)-1;e:do{j<15&&(T+=m[d++]<<j,T+=m[d++]<<(j+=8),j+=8),z=Q[T&se];r:for(;;){if(T>>>=L=z>>>24,j-=L,0==(L=z>>>16&255))H[b++]=65535&z;else{if(!(16&L)){if(0==(64&L)){z=Q[(65535&z)+(T&(1<<L)-1)];continue r}if(32&L){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}J=65535&z,(L&=15)&&(j<L&&(T+=m[d++]<<j,j+=8),J+=T&(1<<L)-1,T>>>=L,j-=L),j<15&&(T+=m[d++]<<j,T+=m[d++]<<(j+=8),j+=8),z=R[T&G];t:for(;;){if(T>>>=L=z>>>24,j-=L,!(16&(L=z>>>16&255))){if(0==(64&L)){z=R[(65535&z)+(T&(1<<L)-1)];continue t}o.msg="invalid distance code",l.mode=30;break e}if(ye=65535&z,j<(L&=15)&&(T+=m[d++]<<j,(j+=8)<L&&(T+=m[d++]<<j,j+=8)),p<(ye+=T&(1<<L)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(T>>>=L,j-=L,(L=b-g)<ye){if(S<(L=ye-L)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(Y=E,(I=0)===y){if(I+=_-L,L<J){for(J-=L;H[b++]=E[I++],--L;);I=b-ye,Y=H}}else if(y<L){if(I+=_+y-L,(L-=y)<J){for(J-=L;H[b++]=E[I++],--L;);if(I=0,y<J){for(J-=L=y;H[b++]=E[I++],--L;);I=b-ye,Y=H}}}else if(I+=y-L,L<J){for(J-=L;H[b++]=E[I++],--L;);I=b-ye,Y=H}for(;2<J;)H[b++]=Y[I++],H[b++]=Y[I++],H[b++]=Y[I++],J-=3;J&&(H[b++]=Y[I++],1<J&&(H[b++]=Y[I++]))}else{for(I=b-ye;H[b++]=H[I++],H[b++]=H[I++],H[b++]=H[I++],2<(J-=3););J&&(H[b++]=H[I++],1<J&&(H[b++]=H[I++]))}break}}break}}while(d<u&&b<P);d-=J=j>>3,T&=(1<<(j-=J<<3))-1,o.next_in=d,o.next_out=b,o.avail_in=d<u?u-d+5:5-(d-u),o.avail_out=b<P?P-b+257:257-(b-P),l.hold=T,l.bits=j}},{}],49:[function(e,t,n){var o=e("../utils/common"),a=e("./adler32"),l=e("./crc32"),d=e("./inffast"),u=e("./inftrees"),p=-2;function E(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(I){var Y;return I&&I.state?(I.total_in=I.total_out=(Y=I.state).total=0,I.msg="",Y.wrap&&(I.adler=1&Y.wrap),Y.mode=1,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new o.Buf32(852),Y.distcode=Y.distdyn=new o.Buf32(592),Y.sane=1,Y.back=-1,0):p}function Q(I){var Y;return I&&I.state?((Y=I.state).wsize=0,Y.whave=0,Y.wnext=0,j(I)):p}function R(I,Y){var m,H;return I&&I.state?(H=I.state,Y<0?(m=0,Y=-Y):(m=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?p:(null!==H.window&&H.wbits!==Y&&(H.window=null),H.wrap=m,H.wbits=Y,Q(I))):p}function se(I,Y){var m,H;return I?(H=new T,(I.state=H).window=null,0!==(m=R(I,Y))&&(I.state=null),m):p}var G,z,L=!0;function J(I){if(L){var Y;for(G=new o.Buf32(512),z=new o.Buf32(32),Y=0;Y<144;)I.lens[Y++]=8;for(;Y<256;)I.lens[Y++]=9;for(;Y<280;)I.lens[Y++]=7;for(;Y<288;)I.lens[Y++]=8;for(u(1,I.lens,0,288,G,0,I.work,{bits:9}),Y=0;Y<32;)I.lens[Y++]=5;u(2,I.lens,0,32,z,0,I.work,{bits:5}),L=!1}I.lencode=G,I.lenbits=9,I.distcode=z,I.distbits=5}function ye(I,Y,m,H){var Ee,oe=I.state;return null===oe.window&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new o.Buf8(oe.wsize)),H>=oe.wsize?(o.arraySet(oe.window,Y,m-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(H<(Ee=oe.wsize-oe.wnext)&&(Ee=H),o.arraySet(oe.window,Y,m-H,Ee,oe.wnext),(H-=Ee)?(o.arraySet(oe.window,Y,m-H,H,0),oe.wnext=H,oe.whave=oe.wsize):(oe.wnext+=Ee,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=Ee))),0}n.inflateReset=Q,n.inflateReset2=R,n.inflateResetKeep=j,n.inflateInit=function(I){return se(I,15)},n.inflateInit2=se,n.inflate=function(I,Y){var m,H,Ee,oe,Pe,ce,xe,W,M,ke,me,ue,Ue,qe,Ne,Fe,je,Le,Je,ve,f,X,V,D,k=0,B=new o.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&0!==I.avail_in)return p;12===(m=I.state).mode&&(m.mode=13),Pe=I.next_out,Ee=I.output,oe=I.next_in,H=I.input,W=m.hold,M=m.bits,ke=ce=I.avail_in,me=xe=I.avail_out,X=0;e:for(;;)switch(m.mode){case 1:if(0===m.wrap){m.mode=13;break}for(;M<16;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(2&m.wrap&&35615===W){B[m.check=0]=255&W,B[1]=W>>>8&255,m.check=l(m.check,B,2,0),M=W=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&W)<<8)+(W>>8))%31){I.msg="incorrect header check",m.mode=30;break}if(8!=(15&W)){I.msg="unknown compression method",m.mode=30;break}if(M-=4,f=8+(15&(W>>>=4)),0===m.wbits)m.wbits=f;else if(f>m.wbits){I.msg="invalid window size",m.mode=30;break}m.dmax=1<<f,I.adler=m.check=1,m.mode=512&W?10:12,M=W=0;break;case 2:for(;M<16;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(m.flags=W,8!=(255&m.flags)){I.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){I.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=W>>8&1),512&m.flags&&(B[0]=255&W,B[1]=W>>>8&255,m.check=l(m.check,B,2,0)),M=W=0,m.mode=3;case 3:for(;M<32;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.head&&(m.head.time=W),512&m.flags&&(B[0]=255&W,B[1]=W>>>8&255,B[2]=W>>>16&255,B[3]=W>>>24&255,m.check=l(m.check,B,4,0)),M=W=0,m.mode=4;case 4:for(;M<16;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.head&&(m.head.xflags=255&W,m.head.os=W>>8),512&m.flags&&(B[0]=255&W,B[1]=W>>>8&255,m.check=l(m.check,B,2,0)),M=W=0,m.mode=5;case 5:if(1024&m.flags){for(;M<16;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.length=W,m.head&&(m.head.extra_len=W),512&m.flags&&(B[0]=255&W,B[1]=W>>>8&255,m.check=l(m.check,B,2,0)),M=W=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(ce<(ue=m.length)&&(ue=ce),ue&&(m.head&&(f=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),o.arraySet(m.head.extra,H,oe,ue,f)),512&m.flags&&(m.check=l(m.check,H,ue,oe)),ce-=ue,oe+=ue,m.length-=ue),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(0===ce)break e;for(ue=0;f=H[oe+ue++],m.head&&f&&m.length<65536&&(m.head.name+=String.fromCharCode(f)),f&&ue<ce;);if(512&m.flags&&(m.check=l(m.check,H,ue,oe)),ce-=ue,oe+=ue,f)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(0===ce)break e;for(ue=0;f=H[oe+ue++],m.head&&f&&m.length<65536&&(m.head.comment+=String.fromCharCode(f)),f&&ue<ce;);if(512&m.flags&&(m.check=l(m.check,H,ue,oe)),ce-=ue,oe+=ue,f)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;M<16;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(W!==(65535&m.check)){I.msg="header crc mismatch",m.mode=30;break}M=W=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),I.adler=m.check=0,m.mode=12;break;case 10:for(;M<32;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}I.adler=m.check=E(W),M=W=0,m.mode=11;case 11:if(0===m.havedict)return I.next_out=Pe,I.avail_out=xe,I.next_in=oe,I.avail_in=ce,m.hold=W,m.bits=M,2;I.adler=m.check=1,m.mode=12;case 12:if(5===Y||6===Y)break e;case 13:if(m.last){W>>>=7&M,M-=7&M,m.mode=27;break}for(;M<3;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}switch(m.last=1&W,M-=1,3&(W>>>=1)){case 0:m.mode=14;break;case 1:if(J(m),m.mode=20,6!==Y)break;W>>>=2,M-=2;break e;case 2:m.mode=17;break;case 3:I.msg="invalid block type",m.mode=30}W>>>=2,M-=2;break;case 14:for(W>>>=7&M,M-=7&M;M<32;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if((65535&W)!=(W>>>16^65535)){I.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&W,M=W=0,m.mode=15,6===Y)break e;case 15:m.mode=16;case 16:if(ue=m.length){if(ce<ue&&(ue=ce),xe<ue&&(ue=xe),0===ue)break e;o.arraySet(Ee,H,oe,ue,Pe),ce-=ue,oe+=ue,xe-=ue,Pe+=ue,m.length-=ue;break}m.mode=12;break;case 17:for(;M<14;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(m.nlen=257+(31&W),M-=5,m.ndist=1+(31&(W>>>=5)),M-=5,m.ncode=4+(15&(W>>>=5)),W>>>=4,M-=4,286<m.nlen||30<m.ndist){I.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;M<3;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.lens[ne[m.have++]]=7&W,W>>>=3,M-=3}for(;m.have<19;)m.lens[ne[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,X=u(0,m.lens,0,19,m.lencode,0,m.work,V={bits:m.lenbits}),m.lenbits=V.bits,X){I.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;Fe=(k=m.lencode[W&(1<<m.lenbits)-1])>>>16&255,je=65535&k,!((Ne=k>>>24)<=M);){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(je<16)W>>>=Ne,M-=Ne,m.lens[m.have++]=je;else{if(16===je){for(D=Ne+2;M<D;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(W>>>=Ne,M-=Ne,0===m.have){I.msg="invalid bit length repeat",m.mode=30;break}f=m.lens[m.have-1],ue=3+(3&W),W>>>=2,M-=2}else if(17===je){for(D=Ne+3;M<D;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}M-=Ne,f=0,ue=3+(7&(W>>>=Ne)),W>>>=3,M-=3}else{for(D=Ne+7;M<D;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}M-=Ne,f=0,ue=11+(127&(W>>>=Ne)),W>>>=7,M-=7}if(m.have+ue>m.nlen+m.ndist){I.msg="invalid bit length repeat",m.mode=30;break}for(;ue--;)m.lens[m.have++]=f}}if(30===m.mode)break;if(0===m.lens[256]){I.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,X=u(1,m.lens,0,m.nlen,m.lencode,0,m.work,V={bits:m.lenbits}),m.lenbits=V.bits,X){I.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,X=u(2,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,V={bits:m.distbits}),m.distbits=V.bits,X){I.msg="invalid distances set",m.mode=30;break}if(m.mode=20,6===Y)break e;case 20:m.mode=21;case 21:if(6<=ce&&258<=xe){I.next_out=Pe,I.avail_out=xe,I.next_in=oe,I.avail_in=ce,m.hold=W,m.bits=M,d(I,me),Pe=I.next_out,Ee=I.output,xe=I.avail_out,oe=I.next_in,H=I.input,ce=I.avail_in,W=m.hold,M=m.bits,12===m.mode&&(m.back=-1);break}for(m.back=0;Fe=(k=m.lencode[W&(1<<m.lenbits)-1])>>>16&255,je=65535&k,!((Ne=k>>>24)<=M);){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(Fe&&0==(240&Fe)){for(Le=Ne,Je=Fe,ve=je;Fe=(k=m.lencode[ve+((W&(1<<Le+Je)-1)>>Le)])>>>16&255,je=65535&k,!(Le+(Ne=k>>>24)<=M);){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}W>>>=Le,M-=Le,m.back+=Le}if(W>>>=Ne,M-=Ne,m.back+=Ne,m.length=je,0===Fe){m.mode=26;break}if(32&Fe){m.back=-1,m.mode=12;break}if(64&Fe){I.msg="invalid literal/length code",m.mode=30;break}m.extra=15&Fe,m.mode=22;case 22:if(m.extra){for(D=m.extra;M<D;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.length+=W&(1<<m.extra)-1,W>>>=m.extra,M-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;Fe=(k=m.distcode[W&(1<<m.distbits)-1])>>>16&255,je=65535&k,!((Ne=k>>>24)<=M);){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(0==(240&Fe)){for(Le=Ne,Je=Fe,ve=je;Fe=(k=m.distcode[ve+((W&(1<<Le+Je)-1)>>Le)])>>>16&255,je=65535&k,!(Le+(Ne=k>>>24)<=M);){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}W>>>=Le,M-=Le,m.back+=Le}if(W>>>=Ne,M-=Ne,m.back+=Ne,64&Fe){I.msg="invalid distance code",m.mode=30;break}m.offset=je,m.extra=15&Fe,m.mode=24;case 24:if(m.extra){for(D=m.extra;M<D;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}m.offset+=W&(1<<m.extra)-1,W>>>=m.extra,M-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){I.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(0===xe)break e;if(m.offset>(ue=me-xe)){if((ue=m.offset-ue)>m.whave&&m.sane){I.msg="invalid distance too far back",m.mode=30;break}Ue=ue>m.wnext?m.wsize-(ue-=m.wnext):m.wnext-ue,ue>m.length&&(ue=m.length),qe=m.window}else qe=Ee,Ue=Pe-m.offset,ue=m.length;for(xe<ue&&(ue=xe),xe-=ue,m.length-=ue;Ee[Pe++]=qe[Ue++],--ue;);0===m.length&&(m.mode=21);break;case 26:if(0===xe)break e;Ee[Pe++]=m.length,xe--,m.mode=21;break;case 27:if(m.wrap){for(;M<32;){if(0===ce)break e;ce--,W|=H[oe++]<<M,M+=8}if(I.total_out+=me-=xe,m.total+=me,me&&(I.adler=m.check=m.flags?l(m.check,Ee,me,Pe-me):a(m.check,Ee,me,Pe-me)),me=xe,(m.flags?W:E(W))!==m.check){I.msg="incorrect data check",m.mode=30;break}M=W=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;M<32;){if(0===ce)break e;ce--,W+=H[oe++]<<M,M+=8}if(W!==(4294967295&m.total)){I.msg="incorrect length check",m.mode=30;break}M=W=0}m.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;default:return p}return I.next_out=Pe,I.avail_out=xe,I.next_in=oe,I.avail_in=ce,m.hold=W,m.bits=M,(m.wsize||me!==I.avail_out&&m.mode<30&&(m.mode<27||4!==Y))&&ye(I,I.output,I.next_out,me-I.avail_out)?(m.mode=31,-4):(me-=I.avail_out,I.total_in+=ke-=I.avail_in,I.total_out+=me,m.total+=me,m.wrap&&me&&(I.adler=m.check=m.flags?l(m.check,Ee,me,I.next_out-me):a(m.check,Ee,me,I.next_out-me)),I.data_type=m.bits+(m.last?64:0)+(12===m.mode?128:0)+(20===m.mode||15===m.mode?256:0),(0==ke&&0===me||4===Y)&&0===X&&(X=-5),X)},n.inflateEnd=function(I){if(!I||!I.state)return p;var Y=I.state;return Y.window&&(Y.window=null),I.state=null,0},n.inflateGetHeader=function(I,Y){var m;return I&&I.state?0==(2&(m=I.state).wrap)?p:((m.head=Y).done=!1,0):p},n.inflateSetDictionary=function(I,Y){var m,H=Y.length;return I&&I.state?0!==(m=I.state).wrap&&11!==m.mode?p:11===m.mode&&a(1,Y,H,0)!==m.check?-3:ye(I,Y,H,H)?(m.mode=31,-4):(m.havedict=1,0):p},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var o=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(b,g,P,p,_,S,y,E){var T,j,Q,R,se,G,z,L,J,ye=E.bits,I=0,Y=0,m=0,H=0,Ee=0,oe=0,Pe=0,ce=0,xe=0,W=0,M=null,ke=0,me=new o.Buf16(16),ue=new o.Buf16(16),Ue=null,qe=0;for(I=0;I<=15;I++)me[I]=0;for(Y=0;Y<p;Y++)me[g[P+Y]]++;for(Ee=ye,H=15;1<=H&&0===me[H];H--);if(H<Ee&&(Ee=H),0===H)return _[S++]=20971520,_[S++]=20971520,E.bits=1,0;for(m=1;m<H&&0===me[m];m++);for(Ee<m&&(Ee=m),I=ce=1;I<=15;I++)if(ce<<=1,(ce-=me[I])<0)return-1;if(0<ce&&(0===b||1!==H))return-1;for(ue[1]=0,I=1;I<15;I++)ue[I+1]=ue[I]+me[I];for(Y=0;Y<p;Y++)0!==g[P+Y]&&(y[ue[g[P+Y]]++]=Y);if(G=0===b?(M=Ue=y,19):1===b?(M=a,ke-=257,Ue=l,qe-=257,256):(M=d,Ue=u,-1),I=m,se=S,Pe=Y=W=0,Q=-1,R=(xe=1<<(oe=Ee))-1,1===b&&852<xe||2===b&&592<xe)return 1;for(;;){for(z=I-Pe,J=y[Y]<G?(L=0,y[Y]):y[Y]>G?(L=Ue[qe+y[Y]],M[ke+y[Y]]):(L=96,0),T=1<<I-Pe,m=j=1<<oe;_[se+(W>>Pe)+(j-=T)]=z<<24|L<<16|J|0,0!==j;);for(T=1<<I-1;W&T;)T>>=1;if(0!==T?(W&=T-1,W+=T):W=0,Y++,0==--me[I]){if(I===H)break;I=g[P+y[Y]]}if(Ee<I&&(W&R)!==Q){for(0===Pe&&(Pe=Ee),se+=m,ce=1<<(oe=I-Pe);oe+Pe<H&&!((ce-=me[oe+Pe])<=0);)oe++,ce<<=1;if(xe+=1<<oe,1===b&&852<xe||2===b&&592<xe)return 1;_[Q=W&R]=Ee<<24|oe<<16|se-S|0}}return 0!==W&&(_[se+W]=I-Pe<<24|64<<16|0),E.bits=Ee,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var o=e("../utils/common");function d(k){for(var B=k.length;0<=--B;)k[B]=0}var g=256,P=286,p=30,y=15,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ye=new Array(576);d(ye);var I=new Array(60);d(I);var Y=new Array(512);d(Y);var m=new Array(256);d(m);var H=new Array(29);d(H);var Ee,oe,Pe,ce=new Array(p);function xe(k,B,ne,ie,$){this.static_tree=k,this.extra_bits=B,this.extra_base=ne,this.elems=ie,this.max_length=$,this.has_stree=k&&k.length}function W(k,B){this.dyn_tree=k,this.max_code=0,this.stat_desc=B}function M(k){return k<256?Y[k]:Y[256+(k>>>7)]}function ke(k,B){k.pending_buf[k.pending++]=255&B,k.pending_buf[k.pending++]=B>>>8&255}function me(k,B,ne){k.bi_valid>16-ne?(k.bi_buf|=B<<k.bi_valid&65535,ke(k,k.bi_buf),k.bi_buf=B>>16-k.bi_valid,k.bi_valid+=ne-16):(k.bi_buf|=B<<k.bi_valid&65535,k.bi_valid+=ne)}function ue(k,B,ne){me(k,ne[2*B],ne[2*B+1])}function Ue(k,B){for(var ne=0;ne|=1&k,k>>>=1,ne<<=1,0<--B;);return ne>>>1}function qe(k,B,ne){var ie,$,le=new Array(16),ge=0;for(ie=1;ie<=y;ie++)le[ie]=ge=ge+ne[ie-1]<<1;for($=0;$<=B;$++){var K=k[2*$+1];0!==K&&(k[2*$]=Ue(le[K]++,K))}}function Ne(k){var B;for(B=0;B<P;B++)k.dyn_ltree[2*B]=0;for(B=0;B<p;B++)k.dyn_dtree[2*B]=0;for(B=0;B<19;B++)k.bl_tree[2*B]=0;k.dyn_ltree[512]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function Fe(k){8<k.bi_valid?ke(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function je(k,B,ne,ie){var $=2*B,le=2*ne;return k[$]<k[le]||k[$]===k[le]&&ie[B]<=ie[ne]}function Le(k,B,ne){for(var ie=k.heap[ne],$=ne<<1;$<=k.heap_len&&($<k.heap_len&&je(B,k.heap[$+1],k.heap[$],k.depth)&&$++,!je(B,ie,k.heap[$],k.depth));)k.heap[ne]=k.heap[$],ne=$,$<<=1;k.heap[ne]=ie}function Je(k,B,ne){var ie,$,le,ge,K=0;if(0!==k.last_lit)for(;ie=k.pending_buf[k.d_buf+2*K]<<8|k.pending_buf[k.d_buf+2*K+1],$=k.pending_buf[k.l_buf+K],K++,0===ie?ue(k,$,B):(ue(k,(le=m[$])+g+1,B),0!==(ge=G[le])&&me(k,$-=H[le],ge),ue(k,le=M(--ie),ne),0!==(ge=z[le])&&me(k,ie-=ce[le],ge)),K<k.last_lit;);ue(k,256,B)}function ve(k,B){var ne,ie,$,le=B.dyn_tree,ge=B.stat_desc.static_tree,K=B.stat_desc.has_stree,we=B.stat_desc.elems,Ae=-1;for(k.heap_len=0,k.heap_max=573,ne=0;ne<we;ne++)0!==le[2*ne]?(k.heap[++k.heap_len]=Ae=ne,k.depth[ne]=0):le[2*ne+1]=0;for(;k.heap_len<2;)le[2*($=k.heap[++k.heap_len]=Ae<2?++Ae:0)]=1,k.depth[$]=0,k.opt_len--,K&&(k.static_len-=ge[2*$+1]);for(B.max_code=Ae,ne=k.heap_len>>1;1<=ne;ne--)Le(k,le,ne);for($=we;ne=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Le(k,le,1),ie=k.heap[1],k.heap[--k.heap_max]=ne,k.heap[--k.heap_max]=ie,le[2*$]=le[2*ne]+le[2*ie],k.depth[$]=(k.depth[ne]>=k.depth[ie]?k.depth[ne]:k.depth[ie])+1,le[2*ne+1]=le[2*ie+1]=$,k.heap[1]=$++,Le(k,le,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(Ce,He){var Er,Re,Ye,Me,Cr,qr,tr=He.dyn_tree,xr=He.max_code,fr=He.stat_desc.static_tree,pt=He.stat_desc.has_stree,kr=He.stat_desc.extra_bits,Kr=He.stat_desc.extra_base,hr=He.stat_desc.max_length,Ke=0;for(Me=0;Me<=y;Me++)Ce.bl_count[Me]=0;for(tr[2*Ce.heap[Ce.heap_max]+1]=0,Er=Ce.heap_max+1;Er<573;Er++)hr<(Me=tr[2*tr[2*(Re=Ce.heap[Er])+1]+1]+1)&&(Me=hr,Ke++),tr[2*Re+1]=Me,xr<Re||(Ce.bl_count[Me]++,Cr=0,Kr<=Re&&(Cr=kr[Re-Kr]),Ce.opt_len+=(qr=tr[2*Re])*(Me+Cr),pt&&(Ce.static_len+=qr*(fr[2*Re+1]+Cr)));if(0!==Ke){do{for(Me=hr-1;0===Ce.bl_count[Me];)Me--;Ce.bl_count[Me]--,Ce.bl_count[Me+1]+=2,Ce.bl_count[hr]--,Ke-=2}while(0<Ke);for(Me=hr;0!==Me;Me--)for(Re=Ce.bl_count[Me];0!==Re;)xr<(Ye=Ce.heap[--Er])||(tr[2*Ye+1]!==Me&&(Ce.opt_len+=(Me-tr[2*Ye+1])*tr[2*Ye],tr[2*Ye+1]=Me),Re--)}}(k,B),qe(le,Ae,k.bl_count)}function f(k,B,ne){var ie,$,le=-1,ge=B[1],K=0,we=7,Ae=4;for(0===ge&&(we=138,Ae=3),B[2*(ne+1)+1]=65535,ie=0;ie<=ne;ie++)$=ge,ge=B[2*(ie+1)+1],++K<we&&$===ge||(K<Ae?k.bl_tree[2*$]+=K:0!==$?($!==le&&k.bl_tree[2*$]++,k.bl_tree[32]++):K<=10?k.bl_tree[34]++:k.bl_tree[36]++,le=$,Ae=(K=0)===ge?(we=138,3):$===ge?(we=6,3):(we=7,4))}function X(k,B,ne){var ie,$,le=-1,ge=B[1],K=0,we=7,Ae=4;for(0===ge&&(we=138,Ae=3),ie=0;ie<=ne;ie++)if($=ge,ge=B[2*(ie+1)+1],!(++K<we&&$===ge)){if(K<Ae)for(;ue(k,$,k.bl_tree),0!=--K;);else 0!==$?($!==le&&(ue(k,$,k.bl_tree),K--),ue(k,16,k.bl_tree),me(k,K-3,2)):K<=10?(ue(k,17,k.bl_tree),me(k,K-3,3)):(ue(k,18,k.bl_tree),me(k,K-11,7));le=$,Ae=(K=0)===ge?(we=138,3):$===ge?(we=6,3):(we=7,4)}}d(ce);var V=!1;function D(k,B,ne,ie){var $,le,ge;me(k,0+(ie?1:0),3),le=B,ge=ne,Fe($=k),ke($,ge),ke($,~ge),o.arraySet($.pending_buf,$.window,le,ge,$.pending),$.pending+=ge}n._tr_init=function(k){V||(function(){var B,ne,ie,$,le,ge=new Array(16);for($=ie=0;$<28;$++)for(H[$]=ie,B=0;B<1<<G[$];B++)m[ie++]=$;for(m[ie-1]=$,$=le=0;$<16;$++)for(ce[$]=le,B=0;B<1<<z[$];B++)Y[le++]=$;for(le>>=7;$<p;$++)for(ce[$]=le<<7,B=0;B<1<<z[$]-7;B++)Y[256+le++]=$;for(ne=0;ne<=y;ne++)ge[ne]=0;for(B=0;B<=143;)ye[2*B+1]=8,B++,ge[8]++;for(;B<=255;)ye[2*B+1]=9,B++,ge[9]++;for(;B<=279;)ye[2*B+1]=7,B++,ge[7]++;for(;B<=287;)ye[2*B+1]=8,B++,ge[8]++;for(qe(ye,287,ge),B=0;B<p;B++)I[2*B+1]=5,I[2*B]=Ue(B,5);Ee=new xe(ye,G,257,P,y),oe=new xe(I,z,0,p,y),Pe=new xe(new Array(0),L,0,19,7)}(),V=!0),k.l_desc=new W(k.dyn_ltree,Ee),k.d_desc=new W(k.dyn_dtree,oe),k.bl_desc=new W(k.bl_tree,Pe),k.bi_buf=0,k.bi_valid=0,Ne(k)},n._tr_stored_block=D,n._tr_flush_block=function(k,B,ne,ie){var $,le,ge=0;0<k.level?(2===k.strm.data_type&&(k.strm.data_type=function(K){var we,Ae=4093624447;for(we=0;we<=31;we++,Ae>>>=1)if(1&Ae&&0!==K.dyn_ltree[2*we])return 0;if(0!==K.dyn_ltree[18]||0!==K.dyn_ltree[20]||0!==K.dyn_ltree[26])return 1;for(we=32;we<g;we++)if(0!==K.dyn_ltree[2*we])return 1;return 0}(k)),ve(k,k.l_desc),ve(k,k.d_desc),ge=function(K){var we;for(f(K,K.dyn_ltree,K.l_desc.max_code),f(K,K.dyn_dtree,K.d_desc.max_code),ve(K,K.bl_desc),we=18;3<=we&&0===K.bl_tree[2*J[we]+1];we--);return K.opt_len+=3*(we+1)+5+5+4,we}(k),(le=k.static_len+3+7>>>3)<=($=k.opt_len+3+7>>>3)&&($=le)):$=le=ne+5,ne+4<=$&&-1!==B?D(k,B,ne,ie):4===k.strategy||le===$?(me(k,2+(ie?1:0),3),Je(k,ye,I)):(me(k,4+(ie?1:0),3),function(K,we,Ae,Ce){var He;for(me(K,we-257,5),me(K,Ae-1,5),me(K,Ce-4,4),He=0;He<Ce;He++)me(K,K.bl_tree[2*J[He]+1],3);X(K,K.dyn_ltree,we-1),X(K,K.dyn_dtree,Ae-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ge+1),Je(k,k.dyn_ltree,k.dyn_dtree)),Ne(k),ie&&Fe(k)},n._tr_tally=function(k,B,ne){return k.pending_buf[k.d_buf+2*k.last_lit]=B>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&B,k.pending_buf[k.l_buf+k.last_lit]=255&ne,k.last_lit++,0===B?k.dyn_ltree[2*ne]++:(k.matches++,B--,k.dyn_ltree[2*(m[ne]+g+1)]++,k.dyn_dtree[2*M(B)]++),k.last_lit===k.lit_bufsize-1},n._tr_align=function(k){var B;me(k,2,3),ue(k,256,ye),16===(B=k).bi_valid?(ke(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){t.exports="function"==typeof setImmediate?setImmediate:function(){var o=[].slice.apply(arguments);o.splice(1,0,0),setTimeout.apply(null,o)}},{}]},{},[10])(10)});const ki=class{constructor(i){(0,rn.r)(this,i),this.importProgress=(0,rn.e)(this,"jeepSqliteImportProgress",7),this.exportProgress=(0,rn.e)(this,"jeepSqliteExportProgress",7),this.isStore=!1,this._dbDict={},this.databaseList={},this._versionUpgrades={}}parseAutoSave(i){this.innerAutoSave=i}echo(i){return(0,U.Z)(function*(){return i})()}createConnection(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database,n=i.version?i.version:1;try{return yield r._createConnection(t,n),Promise.resolve()}catch(o){return Promise.reject(o)}})()}closeConnection(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{return yield r._closeConnection(t),Promise.resolve()}catch(n){return Promise.reject(n)}})()}open(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{return yield r._open(t),Promise.resolve()}catch(n){return Promise.reject(n)}})()}close(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{return yield r._close(t),Promise.resolve()}catch(n){return Promise.reject(n)}})()}getVersion(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._getVersion(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}execute(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statements")||0===i.statements.length)return Promise.reject("Must provide raw SQL statements");const t=i.database,n=i.statements;let o=!0;e.includes("transaction")&&(o=i.transaction);try{const a=yield r._execute(t,n,o);return Promise.resolve(a)}catch(a){return Promise.reject(a)}})()}executeSet(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("set")||0===i.set.length)return Promise.reject("Must provide a non-empty set of SQL statements");const t=i.database,n=i.set;let o=!0;e.includes("transaction")&&(o=i.transaction);try{const a=yield r._executeSet(t,n,o);return Promise.resolve(a)}catch(a){return Promise.reject(a)}})()}run(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||0===i.statement.length)return Promise.reject("Must provide a run statement");const t=i.database,n=i.statement;let o=[];e.includes("values")&&(o=i.values.length>0?i.values:[]);let a=!0;e.includes("transaction")&&(a=i.transaction);try{const l=yield r._run(t,n,o,a);return Promise.resolve(l)}catch(l){return Promise.reject(l)}})()}query(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||0===i.statement.length)return Promise.reject("Must provide a query statement");let t=[];e.includes("values")&&(t=i.values.length>0?i.values:[]);const n=i.database,o=i.statement;try{const a=yield r._query(n,o,t);return Promise.resolve(a)}catch(a){return Promise.reject(a)}})()}getTableList(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._getTableList(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}isDBExists(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._isDBExists(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}isDBOpen(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._isDBOpen(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}deleteDatabase(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{return yield r._deleteDatabase(t)}catch(n){return Promise.reject(n)}})()}isStoreOpen(){var i=this;return(0,U.Z)(function*(){return Promise.resolve(i.isStore)})()}copyFromAssets(i){var r=this;return(0,U.Z)(function*(){let e;if(e=null==i||!Object.keys(i).includes("overwrite")||i.overwrite,!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);try{return yield r._copyFromAssets(e),Promise.resolve()}catch(t){return Promise.reject(t)}})()}isTableExists(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);const e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");const t=i.database;if(!e.includes("table"))return Promise.reject("Must provide a table name");const n=i.table;try{const o=yield r._isTableExists(t,n);return Promise.resolve(o)}catch(o){return Promise.reject(o)}})()}createSyncTable(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._createSyncTable(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}getSyncDate(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._getSyncDate(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}setSyncDate(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("syncdate"))return Promise.reject("Must provide a synchronization date");const t=i.database,n=i.syncdate;try{return yield r._setSyncDate(t,n),Promise.resolve()}catch(o){return Promise.reject(o)}})()}isJsonValid(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(i).includes("jsonstring"))return Promise.reject("Must provide a json object");const t=i.jsonstring;try{const n=yield r._isJsonValid(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}importFromJson(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("jsonstring"))return Promise.reject("Must provide a json object");const t=i.jsonstring;try{const n=yield r._importFromJson(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}exportToJson(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);const e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("jsonexportmode"))return Promise.reject("Must provide a json export mode");const t=i.database,n=i.jsonexportmode;try{const o=yield r._exportToJson(t,n);return Promise.resolve(o)}catch(o){return Promise.reject(o)}})()}addUpgradeStatement(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);let e=Object.keys(i);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("upgrade"))return Promise.reject("Must provide an upgrade statement");const t=i.database,n=i.upgrade[0];if(e=Object.keys(n),!e.includes("fromVersion")||!e.includes("toVersion")||!e.includes("statement"))return Promise.reject("Must provide an upgrade capSQLiteVersionUpgrade Object");if("number"!=typeof n.fromVersion)return Promise.reject("ugrade.fromVersion must be a number");const o={};return o[n.fromVersion]=n,r._versionUpgrades[t]=o,Promise.resolve()})()}isDatabase(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{const n=yield r._isDatabase(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}getDatabaseList(){var i=this;return(0,U.Z)(function*(){if(!i.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${i.storeName} is not opened`);try{const r=yield i._getDatabaseList();return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}checkConnectionsConsistency(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("dbNames"))return Promise.reject("Must provide a list of connection's name");const t=i.dbNames;try{const n=yield r._checkConnectionsConsistency(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}saveToStore(i){var r=this;return(0,U.Z)(function*(){if(!r.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${r.storeName} is not opened`);if(!Object.keys(i).includes("database"))return Promise.reject("Must provide a database name");const t=i.database;try{return yield r._saveToStore(t),Promise.resolve()}catch(n){return Promise.reject(n)}})()}componentWillLoad(){var i=this;return(0,U.Z)(function*(){i.isStore=yield i.openStore("jeepSqliteStore","databases"),i.parseAutoSave(null!=i.autoSave&&i.autoSave)})()}componentDidLoad(){this.isStore||console.log("jeep-sqlite isStore = false")}_createConnection(i,r){var e=this;return(0,U.Z)(function*(){let t={};const n=Object.keys(e._versionUpgrades);0!==n.length&&n.includes(i)&&(t=e._versionUpgrades[i]);try{const o=new Ei(i+"SQLite.db",r,t,e.store,e.innerAutoSave);return e._dbDict[i]=o,Promise.resolve()}catch(o){return Promise.reject(o.message)}})()}_closeConnection(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`CloseConnection: No available connection for ${i}`);const t=r._dbDict[i];try{if(t.isDBOpen())try{yield t.close()}catch(n){return Promise.reject(`CloseConnection: close ${i} failed ${n}`)}return delete r._dbDict[i],Promise.resolve()}catch(n){return Promise.reject(`CloseConnection: ${n.message}`)}})()}_open(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`Open: No available connection for ${i}`);const t=r._dbDict[i];try{return yield t.open(),Promise.resolve()}catch(n){return Promise.reject(`Open: ${n.message}`)}})()}_close(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`Close: No available connection for ${i}`);const t=r._dbDict[i];try{return yield t.close(),Promise.resolve()}catch(n){return Promise.reject(`Close: ${n.message}`)}})()}_saveToStore(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`SaveToStore: No available connection for ${i}`);const t=r._dbDict[i];try{return yield t.saveToStore(),Promise.resolve()}catch(n){return Promise.reject(`SaveToStore: ${n.message}`)}})()}_getVersion(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`Open: No available connection for ${i}`);const t=r._dbDict[i];try{const n=yield t.getVersion(),o={};return o.version=n,Promise.resolve(o)}catch(n){return Promise.reject(`Open: ${n.message}`)}})()}_execute(i,r,e){var t=this;return(0,U.Z)(function*(){if(!Object.keys(t._dbDict).includes(i))return Promise.reject(`Execute: No available connection for ${i}`);const o=t._dbDict[i];try{const l={changes:{changes:yield o.executeSQL(r,e)}};return Promise.resolve(l)}catch(a){return Promise.reject(`Execute: ${a.message}`)}})()}_executeSet(i,r,e){var t=this;return(0,U.Z)(function*(){if(!Object.keys(t._dbDict).includes(i))return Promise.reject(`ExecuteSet: No available connection for ${i}`);const o=t._dbDict[i];for(const a of r)if(!("statement"in a)||!("values"in a))return Promise.reject("ExecuteSet: Must provide a set as Array of {statement,values}");try{const a=yield o.execSet(r,e);return Promise.resolve({changes:{changes:a.changes,lastId:a.lastId}})}catch(a){return Promise.reject(`ExecuteSet: ${a.message}`)}})()}_run(i,r,e,t){var n=this;return(0,U.Z)(function*(){if(!Object.keys(n._dbDict).includes(i))return Promise.reject(`Run: No available connection for ${i}`);const a=n._dbDict[i];try{const l=yield a.runSQL(r,e,t);return Promise.resolve({changes:{changes:l.changes,lastId:l.lastId}})}catch(l){return Promise.reject(`Run: ${l.message}`)}})()}_query(i,r,e){var t=this;return(0,U.Z)(function*(){if(!Object.keys(t._dbDict).includes(i))return Promise.reject(`Query: No available connection for ${i}`);const o=t._dbDict[i];let a=[];try{return a=yield o.selectSQL(r,e),Promise.resolve({values:a})}catch(l){return Promise.reject(`Query failed: ${l.message}`)}})()}_getTableList(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`GetTableList: No available connection for ${i}`);const t=r._dbDict[i];let n=[];try{return n=yield t.getTableNames(),Promise.resolve({values:n})}catch(o){return Promise.reject(`GetTableList failed: ${o.message}`)}})()}_isDBExists(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`IsDBExists: No available connection for ${i}`);const t=r._dbDict[i];try{const o={result:yield t.isDBExists(i+"SQLite.db")};return Promise.resolve(o)}catch(n){return Promise.reject(`IsDBExists: ${n.message}`)}})()}_isDBOpen(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`IsDBOpen: No available connection for ${i}`);const t=r._dbDict[i];try{const o={result:yield t.isDBOpen(i+"SQLite.db")};return Promise.resolve(o)}catch(n){return Promise.reject(`IsDBOpen: ${n.message}`)}})()}_deleteDatabase(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`DeleteDatabase: No available connection for ${i}`);const t=r._dbDict[i];try{return yield t.deleteDB(i+"SQLite.db"),Promise.resolve()}catch(n){return Promise.reject(`DeleteDatabase: ${n.message}`)}})()}_isTableExists(i,r){var e=this;return(0,U.Z)(function*(){if(!Object.keys(e._dbDict).includes(i))return Promise.reject(`IsTableExists: No available connection for ${i}`);const n=e._dbDict[i];try{const a={result:yield n.isTable(r)};return Promise.resolve(a)}catch(o){return Promise.reject(`IsTableExists: ${o.message}`)}})()}_createSyncTable(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`CreateSyncTable: No available connection for ${i}`);const t=r._dbDict[i];try{const n=yield t.createSyncTable();return Promise.resolve({changes:{changes:n}})}catch(n){return Promise.reject(`CreateSyncTable: ${n.message}`)}})()}_getSyncDate(i){var r=this;return(0,U.Z)(function*(){if(!Object.keys(r._dbDict).includes(i))return Promise.reject(`GetSyncDate: No available connection for ${i}`);const t=r._dbDict[i];try{const n=yield t.getSyncDate();return Promise.resolve({syncDate:n})}catch(n){return Promise.reject(`GetSyncDate: ${n.message}`)}})()}_setSyncDate(i,r){var e=this;return(0,U.Z)(function*(){if(!Object.keys(e._dbDict).includes(i))return Promise.reject(`SetSyncDate: No available connection for ${i}`);const n=e._dbDict[i];try{const o=yield n.setSyncDate(r);return o.result?Promise.resolve():Promise.reject(`SetSyncDate: ${o.message}`)}catch(o){return Promise.reject(`SetSyncDate: ${o.message}`)}})()}_isJsonValid(i){return(0,U.Z)(function*(){const r=JSON.parse(i);return(yield pn(r))?Promise.resolve({result:!0}):Promise.reject("IsJsonValid: Stringify Json Object not Valid")})()}_importFromJson(i){var r=this;return(0,U.Z)(function*(){var e,t;const n=JSON.parse(i);if(!(yield pn(n)))return Promise.reject("ImportFromJson: Stringify Json Object not Valid");const a=n,l=`${a.database}SQLite.db`,d=null!==(e=a.version)&&void 0!==e?e:1,u=a.mode,b=null!==(t=a.overwrite)&&void 0!==t&&t,g=new Ei(l,d,{},r.store,r.innerAutoSave);try{b&&"full"===u&&Ur(l,r.store)&&(yield ot(l,r.store)),yield g.open();const P=yield g.getTableNames();if("full"===u&&P.length>0){const _=yield g.getVersion();if(d<_)return Promise.reject(`ImportFromJson: Cannot import a version lower than ${_}`);if(_===d)return Promise.resolve({changes:{changes:0}})}const p=yield g.importJson(a,r.importProgress);return yield g.close(),Promise.resolve({changes:{changes:p}})}catch(P){return Promise.reject(`ImportFromJson: ${P.message}`)}})()}_exportToJson(i,r){var e=this;return(0,U.Z)(function*(){if(!Object.keys(e._dbDict).includes(i))return Promise.reject(`ExportToJson: No available connection for ${i}`);const n=e._dbDict[i];try{const o=yield n.exportJson(r,e.exportProgress);return Object.keys(o).includes("message")?Promise.reject(`ExportToJson: ${o.message}`):Promise.resolve({export:o})}catch(o){return Promise.reject(`ExportToJson: ${o.message}`)}})()}_copyFromAssets(i){var r=this;return(0,U.Z)(function*(){const e=yield r.loadJSON("assets/databases/databases.json");if(null==e)return Promise.reject("CopyFromAssets: no databases.json file in assets/databases folder");if(r.databaseList=JSON.parse(e),!Object.keys(r.databaseList).includes("databaseList"))return Promise.reject("CopyFromAssets: no key databaseList in databases.json");try{for(const n of r.databaseList.databaseList)".db"===n.substring(n.length-3)&&(yield r.copyDatabase(`assets/databases/${n}`,i)),".zip"===n.substring(n.length-4)&&(yield r.unzipDatabase(`assets/databases/${n}`,i));return Promise.resolve()}catch(n){return Promise.reject(`CopyFromAssets: ${n.message}`)}})()}_isDatabase(i){var r=this;return(0,U.Z)(function*(){try{const t={result:yield Ur(i+"SQLite.db",r.store)};return Promise.resolve(t)}catch(e){return Promise.reject(`IsDatabase: ${e.message}`)}})()}_getDatabaseList(){var i=this;return(0,U.Z)(function*(){try{const e={values:yield Gs(i.store)};return Promise.resolve(e)}catch(r){return Promise.reject(`GetDatabaseList: ${r.message}`)}})()}_checkConnectionsConsistency(i){var r=this;return(0,U.Z)(function*(){const e={result:!1};try{let t=new Set(Object.keys(r._dbDict));const n=new Set(i);if(0===n.size)return yield r._resetDbDict(Object.keys(r._dbDict)),Promise.resolve(e);if(t.size<n.size)return yield r._resetDbDict(Object.keys(r._dbDict)),Promise.resolve(e);if(t.size>n.size)for(const o of t)Array.from(n.keys()).includes(o)||(yield r._closeConnection(o));return t=new Set(Object.keys(r._dbDict)),t.size===n.size&&0===(yield r.symmetricDifference(t,n)).size?(e.result=!0,Promise.resolve(e)):(yield r._resetDbDict(Object.keys(r._dbDict)),Promise.resolve(e))}catch(t){return Promise.reject(`CheckConnectionsConsistency: ${t.message}`)}})()}_resetDbDict(i){var r=this;return(0,U.Z)(function*(){try{for(const e of i)yield r._closeConnection(e)}catch(e){return Promise.reject(`ResetDbDict: ${e.message}`)}})()}symmetricDifference(i,r){return(0,U.Z)(function*(){let e=new Set(i);for(const t of r)e.has(t)?e.delete(t):e.add(t);return e})()}unzipDatabase(i,r){var e=this;return(0,U.Z)(function*(){return new Promise((t,n)=>{var o=new XMLHttpRequest;o.open("GET",i,!0),o.responseType="arraybuffer",o.onerror=()=>{n("unzipDatabase: failed")},o.onload=()=>{try{To.loadAsync(o.response).then(a=>{Object.keys(a.files).forEach(l=>{a.files[l].async("nodebuffer").then(function(){var d=(0,U.Z)(function*(u){const b=new Uint8Array(u),g=e.setPathSuffix(l),P=yield Ur(g,e.store);(!P||r)&&(r&&P&&(yield ot(g,e.store)),yield dt(g,b,e.store))});return function(u){return d.apply(this,arguments)}}())}),t()})}catch(a){n(`unzipDatabase Error: ${a}`)}},o.send()})})()}copyDatabase(i,r){var e=this;return(0,U.Z)(function*(){return new Promise((t,n)=>{var a,o=new XMLHttpRequest;o.open("GET",i,!0),o.responseType="arraybuffer",o.onerror=()=>{n("CopyDatabase: failed")},o.onload=()=>{a=new Uint8Array(o.response)},o.onloadend=(0,U.Z)(function*(){const l=e.setPathSuffix(i),d=yield Ur(l,e.store);(!d||r)&&(r&&d&&(yield ot(l,e.store)),yield dt(l,a,e.store)),t()}),o.send()})})()}loadJSON(i){return(0,U.Z)(function*(){return new Promise((r,e)=>{var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET",i,!0),t.onerror=()=>{e("LoadJSON: failed")},t.onreadystatechange=function(){404==t.status&&r(null),4==t.readyState&&200==t.status&&r(t.responseText)},t.send(null)})})()}openStore(i,r){var e=this;return(0,U.Z)(function*(){let t=!1;const n=e.setConfig(i,r);return e.store=xi.createInstance(n),null!=e.store&&(e.storeName=i,t=!0),t})()}setConfig(i,r){return{name:i,storeName:r,driver:[xi.INDEXEDDB],version:1}}setPathSuffix(i){let r=i.slice(i.lastIndexOf("/")+1);return".db"===i.substring(i.length-3)&&(i.includes("SQLite.db")||(r=i.slice(i.lastIndexOf("/")+1,-3)+"SQLite.db")),r}render(){}static get assetsDirs(){return["assets"]}static get watchers(){return{autoSave:["parseAutoSave"]}}};ki.style=":host{display:block}#fileElem{display:none}"}}]);