"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9512],{9512:(T,u,s)=>{s.r(u),s.d(u,{EssenErfassenPageModule:()=>V});var v=s(9808),r=s(3075),a=s(2159),c=s(4030),h=s(5861),e=s(2096),g=s(636),f=s(4323),E=s(535),I=s(1618),p=s(9285);function b(n,m){if(1&n&&(e.\u0275\u0275elementStart(0,"form",5)(1,"ion-card",6)(2,"ion-card-header"),e.\u0275\u0275element(3,"ion-img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content")(5,"ion-card-title",6),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-textarea",8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementStart(10,"ion-card-title",9),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"ion-textarea",10),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"ion-card-title",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ion-textarea",11),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementStart(20,"ion-card-title",9),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ion-textarea",12),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,9,"vormittag")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(9,11,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"mittag")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(14,15,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,17,"abend")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(19,19,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,21,"medikamente")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(24,23,"essen-erfassen-page.medikamente-placeholder"))}}function x(n,m){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",13),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onSubmit()}),e.\u0275\u0275elementStart(1,"ion-text",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"essen-erfassen-page.essen-speichern")))}const y=[{path:"",component:(()=>{class n{constructor(t,o,i,l,d,k,B,P){this.fb=t,this.sqliteService=o,this.detailService=i,this.databaseCrudService=l,this.activatedRoute=d,this.router=k,this.toastService=B,this.translateService=P,this.essen=[],this.vormittagEssen="",this.mittagEssen="",this.abendEssen="",this.medikamenteValue="",this.tagId=this.activatedRoute.snapshot.params.tagId}ngOnInit(){this.form=this.fb.group({vormittag:[""],mittag:[""],abend:[""],medikamente:[""]})}ngAfterViewInit(){var t=this;return(0,h.Z)(function*(){yield t.loadEssen()})()}loadEssen(){this.databaseCrudService.getEssenListbyTagId(this.tagId).then(t=>{var o,i,l,d;return t.values[0].vormittag&&(this.vormittagEssen=null===(o=t.values[0])||void 0===o?void 0:o.vormittag,console.log(this.vormittagEssen),this.form.patchValue({vormittag:this.vormittagEssen})),t.values[0].mittag&&(this.mittagEssen=null===(i=t.values[0])||void 0===i?void 0:i.mittag,console.log(this.mittagEssen),this.form.patchValue({mittag:this.mittagEssen})),t.values[0].abend&&(this.abendEssen=null===(l=t.values[0])||void 0===l?void 0:l.abend,console.log(this.abendEssen),this.form.patchValue({abend:this.abendEssen})),t.values[0].medikamenteValue&&(this.medikamenteValue=null===(d=t.values[0])||void 0===d?void 0:d.medikamenteValue,console.log(this.medikamenteValue),this.form.patchValue({medikamente:this.medikamenteValue})),this.vormittagEssen&&this.mittagEssen&&this.abendEssen&&this.medikamenteValue}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("essen-erfassen-page.error"))})}updateEssen(){console.log(this.form.value.vormittag),console.log(this.form.value.mittag),console.log(this.form.value.abend),console.log(this.form.value.medikamente),this.databaseCrudService.updateEssenNames(this.tagId,this.form.value.vormittag,this.form.value.mittag,this.form.value.abend,this.form.value.medikamente).then(t=>{var o,i,l,d;t.values&&(this.vormittagEssen=null===(o=t.values[0])||void 0===o?void 0:o.vormittag,this.mittagEssen=null===(i=t.values[0])||void 0===i?void 0:i.mittag,this.abendEssen=null===(l=t.values[0])||void 0===l?void 0:l.abend,this.medikamenteValue=null===(d=t.values[0])||void 0===d?void 0:d.medikamenteValue,this.form.patchValue({vormittag:this.vormittagEssen,mittag:this.mittagEssen,abend:this.abendEssen,medikamente:this.medikamenteValue})),this.toastService.showSuccessToast(this.translateService.instant("essen-erfassen-page.success"))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("essen-erfassen-page.error"))})}onSubmit(){var t=this;return(0,h.Z)(function*(){yield t.updateEssen(),yield t.loadEssen(),yield t.router.navigateByUrl("/tabs/tagebuch-timeline")})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(r.FormBuilder),e.\u0275\u0275directiveInject(g.Y),e.\u0275\u0275directiveInject(f.X),e.\u0275\u0275directiveInject(E.y),e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(I.L),e.\u0275\u0275directiveInject(p.sK))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-essen-erfassen"]],decls:13,vars:5,consts:[["slot","start"],[1,"vh-82"],[3,"formGroup",4,"ngIf"],[1,"ion-no-border"],["class","m-0 p-0 h-3 w-100 opacity-80","color","primary","expand","block","fill","clear","size","default",3,"click",4,"ngIf"],[3,"formGroup"],[1,"ion-flex-grow-1"],["src","assets/images/Lunch_break_Flatline.svg",1,"vh-25"],["formControlName","vormittag","id","vormittagEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],[1,"w-100"],["formControlName","mittag","id","mittagEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["formControlName","abend","id","abendEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["formControlName","medikamente","id","medikamente","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["color","primary","expand","block","fill","clear","size","default",1,"m-0","p-0","h-3","w-100","opacity-80",3,"click"],[1,"small","pt-button-text"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.\u0275\u0275element(3,"ion-back-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-content",1),e.\u0275\u0275template(8,b,25,25,"form",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-footer",3)(10,"ion-row")(11,"ion-col"),e.\u0275\u0275template(12,x,4,3,"ion-button",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"essen-erfassen")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",o.form))},directives:[a.IonHeader,a.IonToolbar,a.IonButtons,a.IonBackButton,a.IonBackButtonDelegate,a.IonTitle,a.IonContent,v.NgIf,r.\u0275NgNoValidate,r.NgControlStatusGroup,r.FormGroupDirective,a.IonCard,a.IonCardHeader,a.IonImg,a.IonCardContent,a.IonCardTitle,a.IonTextarea,a.TextValueAccessor,r.NgControlStatus,r.FormControlName,r.RequiredValidator,a.IonFooter,a.IonRow,a.IonCol,a.IonButton,a.IonText],pipes:[p.X$],styles:[""]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(y)],c.Bz]}),n})();var C=s(1511);let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[v.CommonModule,r.FormsModule,r.ReactiveFormsModule,a.IonicModule,S,p.aw,C.m]]}),n})()}}]);