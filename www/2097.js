(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2097],{2097:(Re,Te,_)=>{"use strict";_.r(Te),_.d(Te,{TagebuchTimelinePageModule:()=>ke});var de=_(6895),pe=_(4006),C=_(4881),S=_(2905),h=_(5861),me=_(7423);const ue=(0,me.fo)("Dialog",{web:()=>_.e(8897).then(_.bind(_,8897)).then(a=>new a.DialogWeb)});var _e=_(1158),v=_(6408),oe=_(6953),Y=_(4147);const Ce=(0,me.fo)("App",{web:()=>_.e(4477).then(_.bind(_,4477)).then(a=>new a.AppWeb)}),fe=(0,me.fo)("BackgroundTask",{web:()=>_.e(4644).then(_.bind(_,4644)).then(a=>new a.BackgroundTaskWeb)});var he=_(8583),e=_(6738),Ne=_(535),ve=_(1618),Ee=_(3028);let Le=(()=>{let a=class{constructor(){this._papa=Ee}parse(t,r){return this._papa.parse(t,r)}unparse(t,r){return this._papa.unparse(t,r)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=(0,e.\u0275\u0275defineInjectable)({factory:function(){return new a},token:a,providedIn:"root"}),a})();var be=_(8490),Ae=_(3795),we=_(4654),Q=_(3738);class y{constructor(){}transform(n){if(n)return n.split(",").join(", ")}}y.\u0275fac=function(n){return new(n||y)},y.\u0275pipe=e.\u0275\u0275definePipe({name:"commaBlankSeparator",type:y,pure:!0});const o=(0,me.fo)("LocalNotifications",{web:()=>_.e(7434).then(_.bind(_,7434)).then(a=>new a.LocalNotificationsWeb)});class i{constructor(n){this.translateService=n,this.dailyNotificationId=15,this.nextNotiInMillis=864e5,this.timeOFDay=20}restartNotifications(){o.removeAllDeliveredNotifications().then(()=>{console.log("NotiService.startNotifications delivered notis removed")}),o.cancel({notifications:[{id:this.dailyNotificationId}]}).then(()=>{console.log("NotiService.startNotifications existing notis cancelled")});var n=new Date((new Date).getTime()+this.nextNotiInMillis);n.setHours(this.timeOFDay,0,0);const t={allowWhileIdle:!0,at:n};console.log("NotiService.startNotifications nextNoti set to ",JSON.stringify(t)),o.requestPermissions().then(r=>{console.log("NotiService.startNotifications requestPermissions answer",JSON.stringify(r)),o.schedule({notifications:[{id:this.dailyNotificationId,title:this.translateService.instant("Long-Covid Tagebuch"),body:this.translateService.instant("Heute schon einen Eintrag erstellt?"),schedule:t}]}),console.log("NotiService.startNotifications notification scheduled ",JSON.stringify(t))})}}i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(be.sK))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});class l{transform(n){if(n){const t=_e(n);if(t instanceof _e)return`${t.format("L")} ${t.format("LT")}`}return n}timeOnly(n){if(n){const t=_e(n);if(t instanceof _e)return`${t.format("LT")}`}}}l.\u0275fac=function(n){return new(n||l)},l.\u0275pipe=e.\u0275\u0275definePipe({name:"dateTime",type:l,pure:!0});var s=_(998),d=_(4705);function f(a,n){1&a&&(e.\u0275\u0275elementStart(0,"ion-title",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function b(a,n){1&a&&(e.\u0275\u0275elementStart(0,"ion-title",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function F(a,n){1&a&&e.\u0275\u0275element(0,"ion-icon",34)}function D(a,n){1&a&&e.\u0275\u0275element(0,"ion-icon",35)}function p(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,F,1,0,"ion-icon",32),e.\u0275\u0275template(2,D,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext(3).$implicit,u=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===u.symptomNames&&null===u.symptomNamesCheckboxes||null===r.vormittag&&null===r.mittag&&null===r.abend))("ngIfElse",t)}}function N(a,n){1&a&&e.\u0275\u0275element(0,"ion-icon",34)}function g(a,n){1&a&&e.\u0275\u0275element(0,"ion-icon",35)}function G(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,N,1,0,"ion-icon",32),e.\u0275\u0275template(2,g,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext(3).$implicit,u=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!("null"===u.symptomNames&&"null"===u.symptomNamesCheckboxes||"null"===r.vormittag&&"null"===r.mittag&&"null"===r.abend))("ngIfElse",t)}}function V(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,p,4,2,"ng-container",31),e.\u0275\u0275template(2,G,4,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function c(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,V,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext().index,r=e.\u0275\u0275nextContext(2).index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r===t)}}function w(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,c,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function W(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,w,2,1,"ng-container",21),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.timelineTable.essen)}}function M(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,W,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function z(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function R(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.symptomNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function L(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,z,9,4,"ion-card",36),e.\u0275\u0275template(2,R,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function m(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function x(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275element(12,"br"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.symptomNamesCheckboxes,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function P(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,m,9,4,"ion-card",36),e.\u0275\u0275template(2,x,14,9,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function $(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,L,3,2,"ng-container",31),e.\u0275\u0275template(2,P,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function k(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function Z(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function A(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function E(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Z,9,4,"ion-card",36),e.\u0275\u0275template(2,A,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function te(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function J(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function X(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,te,9,4,"ion-card",36),e.\u0275\u0275template(2,J,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function q(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,E,3,2,"ng-container",31),e.\u0275\u0275template(2,X,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function j(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,q,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function O(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function B(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function re(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,O,9,4,"ion-card",36),e.\u0275\u0275template(2,B,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function I(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function ge(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function ee(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,I,9,4,"ion-card",36),e.\u0275\u0275template(2,ge,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function le(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,re,3,2,"ng-container",31),e.\u0275\u0275template(2,ee,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function ne(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,le,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function ie(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function ae(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function U(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ie,9,4,"ion-card",36),e.\u0275\u0275template(2,ae,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function Se(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function K(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&a){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",r.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function Be(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Se,9,4,"ion-card",36),e.\u0275\u0275template(2,K,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function Pe(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,U,3,2,"ng-container",31),e.\u0275\u0275template(2,Be,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function Fe(a,n){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Pe,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.id===t.tageid)}}function ze(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"ion-row",18)(1,"ion-col",19)(2,"ion-row",20),e.\u0275\u0275template(3,M,2,1,"ng-container",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"ion-row"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-col",22)(6,"ion-row")(7,"ion-title",23),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"dateOnly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-row",24),e.\u0275\u0275template(11,k,2,1,"ng-container",21),e.\u0275\u0275template(12,j,2,1,"ng-container",21),e.\u0275\u0275template(13,ne,2,1,"ng-container",21),e.\u0275\u0275template(14,Fe,2,1,"ng-container",21),e.\u0275\u0275elementStart(15,"ion-card",25)(16,"ion-card-content")(17,"ion-row",26)(18,"ion-col",27)(19,"ion-text",28),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"ion-col",29),e.\u0275\u0275element(23,"ion-icon",30),e.\u0275\u0275elementEnd()()()()()()()),2&a){const t=n.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",r.timelineTable.symptome),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,8,t.date)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",r.timelineTable.symptome),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.timelineTable.essen),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.timelineTable.tagesform),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.timelineTable.aktivitaeten),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","/health-data/",t.date,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(21,10,"health-data-erfassen")," ")}}function Ve(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-grid",14),e.\u0275\u0275template(2,ze,24,12,"ion-row",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-infinite-scroll",16),e.\u0275\u0275listener("ionInfinite",function(u){e.\u0275\u0275restoreView(t);const T=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(T.doInfinite(u))}),e.\u0275\u0275element(4,"ion-infinite-scroll-content",17),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.timelineTable.tage)}}function We(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.presentAlertBeforeStartingTimeline())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"tagebuch-timeline.app-starten")," "))}class Oe{constructor(n,t,r,u,T,H,ye,xe,De,Me,$e){this.router=n,this.databaseCrudService=t,this.toastService=r,this.alertController=u,this.papa=T,this.translateService=H,this.deviceService=ye,this.backupService=xe,this.dateOnlyPipe=De,this.commaBlankSeparatorPipe=Me,this.notiService=$e,this.isAllLoaded=!1,this.tage=[],this.symptome=[],this.essen=[],this.tagesform=[],this.aktivitaeten=[],this.export=null,this.txt="",this.detailsPagingNumber=0,this.tagePagingNumber=0,this.deviceInfo=null,this.version=Y.i8,this.clearTimelineTable(),this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){var n=this;this.routerSubscription=this.router.events.subscribe(t=>{t instanceof S.m2&&t.url.includes("tagebuch-timeline")&&(this.clearTimelineTable(),this.updateTimelineData())}),Ce.addListener("appStateChange",function(){var t=(0,h.Z)(function*({isActive:r}){if(r)return;const u=yield fe.beforeExit((0,h.Z)(function*(){yield n.backupService.checkIfBackupsFolderExistsAndCreateBackup(),yield n.backupService.deleteOldBackupsIfMoreThanWanted(),fe.finish({taskId:u})}))});return function(r){return t.apply(this,arguments)}}())}ionViewDidEnter(){this.notiService.restartNotifications()}ngOnDestroy(){var n,t;this.clearTimelineTable(),null===(n=this.routerSubscription)||void 0===n||n.unsubscribe(),null===(t=this.appStateChangeListener)||void 0===t||t.remove()}ngAfterViewInit(){var n=this;return(0,h.Z)(function*(){const t=function(){var r=(0,h.Z)(function*(u){yield ue.alert({title:n.translateService.instant("message-title"),message:u})});return function(T){return r.apply(this,arguments)}}();try{console.log(">>>> im Tagebuch-Timeline  this.startupProcess"),yield n.startupProcess()}catch(r){throw console.log(`$$$ runTest failed ${r.message}`),yield t(r.message),new Error(r.message)}n.clearTimelineTable(),n.updateTimelineData()})()}ionViewWillLeave(){var n=this;return(0,h.Z)(function*(){yield n.clearTimelineTable()})()}startupProcess(){var n=this;return(0,h.Z)(function*(){console.log(">>>> im Tagebuch-Timeline ");const t=yield n.databaseCrudService.openDatabaseConnectionAndReturnDatabaseBoolean();console.log("setupDone"),!1===t?(console.log("createDatabase"),yield n.databaseCrudService.createDatabaseFromJSON()):!0===t?(console.log("openDatabase"),yield n.databaseCrudService.upgradeDatabaseSchema(),yield n.databaseCrudService.openDatabaseConnectionAndReturnDatabaseBoolean(),yield n.databaseCrudService.openDatabase(),console.log("opened db version "+(yield n.databaseCrudService.getDatabaseVersion()))):(yield(0,he.g)(5e3),yield n.presentStartupProcessRetryAlert())})()}presentStartupProcessRetryAlert(){var n=this;return(0,h.Z)(function*(){yield(yield n.alertController.create({header:"Datenbank Erstellung fehlgeschlagen",message:"Willst du es nochmal probieren?",buttons:[{text:"Nochmal versuchen",cssClass:"ion-alert-primary",handler:()=>{n.startupProcess()}}]})).present()})()}doInfinite(n){var t=this;return(0,h.Z)(function*(){t.isAllLoaded||(t.detailsPagingNumber++,yield t.updateTimelineData()),n.target.complete()})()}updateTimelineData(){var n=this;return(0,h.Z)(function*(){yield n.loadTimelineData()})()}clearTimelineTable(){var n=this;return(0,h.Z)(function*(){n.isAllLoaded=!1,n.tagePagingNumber=0,n.detailsPagingNumber=0,n.tage=[],n.timelineTable={tage:[],symptome:[],essen:[],tagesform:[],aktivitaeten:[]}})()}loadTimelineData(){var n=this;return(0,h.Z)(function*(){const t=performance.now();n.detailsPagingNumber%4==0&&(yield n.loadTagesWithPaging()),yield n.loadFiveDays(),yield n.loadSymptome(),yield n.loadEssen(),yield n.loadTagesform(),yield n.loadAktivitaet();const r=performance.now();console.log("loadTimelineData took "+(r-t)+" milliseconds."),console.log(n.timelineTable)})()}loadDetails(n){var t=this;return(0,h.Z)(function*(){const r=performance.now();t.timelineTable.essen=yield t.databaseCrudService.essenRepository.findAllInRange(n);const u=performance.now();console.log("Time to load Essen: "+(u-r)),t.timelineTable.aktivitaeten=yield t.databaseCrudService.aktivitaetRepository.findAllInRange(n);const T=performance.now();console.log("Time to load Aktivitaet: "+(T-u)),t.timelineTable.symptome=yield t.databaseCrudService.symptomRepository.findAllInRange(n);const H=performance.now();console.log("Time to load Symptome: "+(H-T)),t.timelineTable.tagesform=yield t.databaseCrudService.tagesformRepository.findAllInRange(n);const ye=performance.now();console.log("Time to load Tagesform: "+(ye-H));const xe=performance.now();console.log("loadFiveDays: "+(xe-r)+" ms")})()}loadFiveDays(){var n=this;return(0,h.Z)(function*(){if(n.tage.length>0&&5*n.detailsPagingNumber+5<=n.tage.length){const t=n.tage.slice(5*n.detailsPagingNumber,5*n.detailsPagingNumber+5),r=t.map(u=>u.id);n.timelineTable.tage=n.timelineTable.tage.concat(t),yield n.loadDetails(r)}else{if(!(n.tage.length>0&&5*n.detailsPagingNumber+5>n.tage.length))return console.log("error with database or timelineTable is empty"),0;{const t=n.tage.slice(5*n.detailsPagingNumber,n.tage.length),r=t.map(u=>u.id);n.timelineTable.tage=n.timelineTable.tage.concat(t),yield n.loadDetails(r),n.isAllLoaded=!0}}})()}loadTagesWithPaging(){var n=this;return(0,h.Z)(function*(){const t=performance.now();yield n.databaseCrudService.getTagesInRnage(20*n.tagePagingNumber,20).then(r=>{if(r.values){n.tage=n.tage.concat(r.values.filter(T=>!T.date.startsWith("T")));const u=performance.now();console.log("Time to load Tage: "+(u-t)),n.tagePagingNumber++}}).catch(r=>{r&&console.log(r)})})()}loadTage(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getTageList().then(t=>{t.values&&(n.timelineTable.tage=t.values)}).catch(t=>{t&&console.log(t)})})()}loadSymptome(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getSymptomeList().then(t=>{t.values&&(n.timelineTable.symptome=t.values)}).catch(t=>{t&&console.error(t)})})()}loadEssen(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getEssenList().then(t=>{t&&(n.timelineTable.essen=t)}).catch(t=>{t&&console.log(t)})})()}loadTagesform(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getTagesformList().then(t=>{t.values&&(n.timelineTable.tagesform=t.values)}).catch(t=>{t&&console.log(t)})})()}loadAktivitaet(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getAktivitaetList().then(t=>{t.values&&(n.timelineTable.aktivitaeten=t.values)}).catch(t=>{t&&console.log(t)})})()}resetDatabase(){var n=this;return(0,h.Z)(function*(){yield n.clearTimelineTable();const t=(new Date).toISOString().split("T")[0];yield n.createNeuerTagNachWunsch(t)})()}startTimeline(){var n=this;return(0,h.Z)(function*(){yield n.resetDatabase(),yield n.toastService.showSuccessToast(n.translateService.instant("tagebuch-timeline.app-gestartet"))})()}presentAlertBeforeStartingTimeline(){var n=this;return(0,h.Z)(function*(){yield(yield n.alertController.create({header:"Timeline starten",message:"Willst du die Timeline starten? Eventuelle alte Eintr\xe4ge werden gel\xf6scht.",buttons:[{text:n.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:"Timeline starten",cssClass:"ion-alert-primary",handler:()=>{n.startTimeline()}}]})).present()})()}presentCreateDayAlert(){var n=this;return(0,h.Z)(function*(){var r;yield(yield n.alertController.create({header:n.translateService.instant("tagebuch-timeline.tag-erstellen-title"),message:n.translateService.instant("tagebuch-timeline.tag-erstellen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:n.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:n.translateService.instant("tagebuch-timeline.tag-erstellen"),cssClass:"ion-alert-primary",handler:(r=(0,h.Z)(function*(u){if(console.log("presentCreateDayAlert",u.date),u.date){const T=u.date+"T00:00:00+01:00";yield n.createNeuerTagNachWunsch(T);const H=_e().tz("Europe/Berlin",!0).format();console.log(H)}else n.toastService.showErrorToast(n.translateService.instant("tagebuch-timeline.error-adding-empty-day"))}),function(T){return r.apply(this,arguments)})}]})).present()})()}addingDayWithoutRefresh(n){var t=this;return(0,h.Z)(function*(){var r,u,T,H,ye,xe,De,Me;t.timelineTable.tage.push(n.values[0]),t.timelineTable.tage.sort((se,ce)=>new Date(ce.date).getTime()-new Date(se.date).getTime());const $e={id:null===(r=n.values[0])||void 0===r?void 0:r.id,tageid:null===(u=n.values[0])||void 0===u?void 0:u.id,lastModified:null},Ke={id:null===(T=n.values[0])||void 0===T?void 0:T.id,tageid:null===(H=n.values[0])||void 0===H?void 0:H.id,lastModified:null},He={id:null===(ye=n.values[0])||void 0===ye?void 0:ye.id,tageid:null===(xe=n.values[0])||void 0===xe?void 0:xe.id,lastModified:null},Je={id:null===(De=n.values[0])||void 0===De?void 0:De.id,tageid:null===(Me=n.values[0])||void 0===Me?void 0:Me.id,lastModified:null};t.timelineTable.essen.push($e),t.timelineTable.tagesform.push(Ke),t.timelineTable.aktivitaeten.push(He),t.timelineTable.symptome.push(Je),t.timelineTable.essen.sort((se,ce)=>new Date(ce.tageid).getTime()-new Date(se.tageid).getTime()),t.timelineTable.tagesform.sort((se,ce)=>new Date(ce.tageid).getTime()-new Date(se.tageid).getTime()),t.timelineTable.aktivitaeten.sort((se,ce)=>new Date(ce.tageid).getTime()-new Date(se.tageid).getTime()),t.timelineTable.symptome.sort((se,ce)=>new Date(ce.tageid).getTime()-new Date(se.tageid).getTime())})()}createNeuerTagNachWunsch(n){var t=this;return(0,h.Z)(function*(){const r=function(){var u=(0,h.Z)(function*(T){yield ue.alert({title:"Error Dialog",message:T})});return function(H){return u.apply(this,arguments)}}();try{yield t.databaseCrudService.postNeuerTagAnyDay(n).then(()=>{t.clearTimelineTable(),t.updateTimelineData()}).catch(u=>{u&&t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.tag-erstellen-fehler"))})}catch(u){yield r(u.message)}})()}presentDeleteDayAlert(){var n=this;return(0,h.Z)(function*(){yield(yield n.alertController.create({header:n.translateService.instant("tagebuch-timeline.tag-loeschen-title"),message:n.translateService.instant("tagebuch-timeline.tag-loeschen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:n.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:n.translateService.instant("tagebuch-timeline.tag-loeschen"),cssClass:"ion-alert-primary",handler:r=>{console.log(r.date),n.deleteTagNachWunsch(r.date)}}]})).present()})()}deleteTagNachWunsch(n){var t=this;return(0,h.Z)(function*(){const r=function(){var u=(0,h.Z)(function*(T){yield ue.alert({title:"Error Dialog",message:T})});return function(H){return u.apply(this,arguments)}}();try{yield t.databaseCrudService.deleteTagAnyDay(n).then(()=>{t.clearTimelineTable(),t.updateTimelineData()}).catch(u=>{u&&t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.tag-loeschen-fehler"))})}catch(u){yield r(u.message)}})()}shareJSON(){var n=this;return(0,h.Z)(function*(){yield n.databaseCrudService.getTablesCombined().then(t=>{t.values&&(n.timelineTableInnerJoin=t.values)}).catch(t=>{t&&console.log(t)}),yield n.presentExportSwitch()})()}presentExportSwitch(){var n=this;return(0,h.Z)(function*(){yield(yield n.alertController.create({header:n.translateService.instant("tagebuch-timeline.daten-exportieren-header"),message:n.translateService.instant("tagebuch-timeline.daten-exportieren-message"),inputs:[{name:n.translateService.instant("tagebuch-timeline.txt-datei"),type:"radio",label:n.translateService.instant("tagebuch-timeline.txt-datei"),value:"txt",checked:!0},{name:n.translateService.instant("tagebuch-timeline.csv-datei"),type:"radio",label:n.translateService.instant("tagebuch-timeline.csv-datei"),value:"csv"}],buttons:[{text:n.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:n.translateService.instant("tagebuch-timeline.exportieren"),handler:r=>{"txt"===r?(n.createExportDataTXT(n.timelineTableInnerJoin),n.createFileExportAndShare("LongCovid_Export.txt",n.txt,n.translateService.instant("tagebuch-timeline.teile-txt"))):"csv"===r?(n.createExportDataCSV(n.timelineTableInnerJoin),n.createFileExportAndShare("LongCovid_Export.csv",n.csv,n.translateService.instant("tagebuch-timeline.teile-csv"))):n.toastService.showErrorToast(n.translateService.instant("tagebuch-timeline.export-fehler"))}}]})).present()})()}createExportDataCSV(n){var t=this;return(0,h.Z)(function*(){const r=[],u=n.length;for(let T=0;T<u;T++)r.push(Object.values(n[T]));t.csv=t.papa.unparse({fields:Object.keys(n[n.length-1]),data:r})})()}createExportDataTXT(n){var t=this;return(0,h.Z)(function*(){t.txt="",n&&(console.log(n),n.forEach(r=>{const u=t.dateOnlyPipe.transform(r.date)+"\nSymptome_Checkboxen: "+t.commaBlankSeparatorPipe.transform(r.symptom_names_checkboxes)+"\nSymptome_Freitext: "+r.symptom_names+"\nHusten: "+r.husten_value+"\nFieber: "+r.fieber_value+"\xb0 Celsius\nFatigue: "+r.fatigue_value+"\nBrustschmerzen: "+r.brustschmerzen_value+"\nKopfschmerzen: "+r.kopfschmerzen_value+"\nGeschmacksverlust: "+r.geschmacksverlust_value+"\nNeurologische St\xf6rung: "+r.neurologische_stoerung_value+"\nMuskelschmerzen: "+r.muskelschmerzen_value+"\nHautausschlag: "+r.hautausschlag_value+"\nFr\xfchst\xfcck: "+r.vormittag+"\nMittag: "+r.mittag+"\nAbend: "+r.abend+"\nMedikamente: "+r.medikamente_value+"\nTagesform: "+r.tagesform_value+"\nErsch\xf6pfungsart: "+r.erschoepfungsart_value+"\nSchlaf: "+r.schlaf_value+"\nStimmung: "+r.stimmung_value+"\nAktivitaeten_Checkboxen: "+t.commaBlankSeparatorPipe.transform(r.aktivitaeten_names_checkboxes)+"\nAktivitaeten_Freitext: "+r.aktivitaeten_names+"\nSport: "+r.sport_value+"\nArbeit: "+r.arbeit_value+"\nHausarbeit: "+r.hausarbeit_value+"\nEntspannung: "+r.entspannung_value+"\n\n";t.txt+=u}))})()}createFileExportAndShare(n,t,r){var u=this;return(0,h.Z)(function*(){yield oe.fy.writeFile({directory:oe.tP.External,path:n,data:t,encoding:oe.ez.UTF16}).then(T=>{console.log(T),v.m.share({title:"PatientStrength Timeline",text:u.translateService.instant("tagebuch-timeline.erfassung-hinweis"),url:T.uri,dialogTitle:r}).catch(H=>{console.log("Share failed:",H)})},T=>{console.log("Error: ",T)})})()}createDatabaseExport(n){this.databaseCrudService.createDatabaseExport(n).then(t=>t).catch(t=>{t&&(console.log(t),this.toastService.showErrorToast(t.toString()))})}}Oe.\u0275fac=function(n){return new(n||Oe)(e.\u0275\u0275directiveInject(S.F0),e.\u0275\u0275directiveInject(Ne.y),e.\u0275\u0275directiveInject(ve.L),e.\u0275\u0275directiveInject(C.AlertController),e.\u0275\u0275directiveInject(Le),e.\u0275\u0275directiveInject(be.sK),e.\u0275\u0275directiveInject(Ae.x0),e.\u0275\u0275directiveInject(we.v),e.\u0275\u0275directiveInject(Q.m),e.\u0275\u0275directiveInject(y),e.\u0275\u0275directiveInject(i))},Oe.\u0275cmp=e.\u0275\u0275defineComponent({type:Oe,selectors:[["app-tagebuch-timeline"]],decls:16,vars:4,consts:[["id","ion-logo","slot","start","src","/assets/images/patient-strength_logo.png",1,"ml-2"],["slot","start","class","ion-padding-right-0",4,"ngIf"],["slot","start",4,"ngIf"],["slot","end"],["expand","block","fill","clear","routerLink","/analyse",1,"m-0","p-0"],["name","pulse",1,"ion-icon","ion-font-20"],["expand","block","fill","clear",1,"m-0","p-0",3,"click"],["name","share-social-outline",1,"ion-icon","ion-font-20"],["name","trash-bin",1,"ion-icon","ion-font-20"],["name","add-circle-outline",1,"ion-icon","ion-font-20"],["class","vh-100",4,"ngIf"],["slot","start",1,"ion-padding-right-0"],["slot","start"],[1,"vh-100"],[1,"pt-timeline","mt-1"],["class","w-100 pt-timelime-item",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","lines"],[1,"w-100","pt-timelime-item"],["size","2",1,"w-100"],[1,"pt-timelime-item-row"],[4,"ngFor","ngForOf"],["size","10",1,"w-100","pr-0"],[1,"pt-date-title"],[1,"pl-0"],[1,"pl-0","w-100","pt-timeline-card","ion-flex-grow-1",3,"routerLink"],[1,"mb-1","ion-align-items-center"],["size","10"],[1,"pt-bold"],["size","2",1,"ion-text-end"],["name","arrow-forward-outline",1,"ion-icon","ion-font-25","ion-vertical-align-middle"],[4,"ngIf"],["class","pt-timelime-item-icon pt-timelime-item-icon-checkmark","name","checkmark-outline",4,"ngIf","ngIfElse"],["helpIcon",""],["name","checkmark-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-checkmark"],["name","help-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-help"],["class","pl-0 w-100 pt-timeline-card ion-flex-grow-1",3,"routerLink",4,"ngIf"],[1,"mb-1"],["expand","block","fill","clear","size","default",1,"w-100","pt-circlebutton",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar"),e.\u0275\u0275element(2,"ion-img",0),e.\u0275\u0275template(3,f,3,3,"ion-title",1),e.\u0275\u0275template(4,b,3,3,"ion-title",2),e.\u0275\u0275elementStart(5,"ion-buttons",3)(6,"ion-button",4),e.\u0275\u0275element(7,"ion-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-button",6),e.\u0275\u0275listener("click",function(){return t.shareJSON()}),e.\u0275\u0275element(9,"ion-icon",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-button",6),e.\u0275\u0275listener("click",function(){return t.presentDeleteDayAlert()}),e.\u0275\u0275element(11,"ion-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ion-button",6),e.\u0275\u0275listener("click",function(){return t.presentCreateDayAlert()}),e.\u0275\u0275element(13,"ion-icon",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(14,Ve,5,1,"ion-content",10),e.\u0275\u0275template(15,We,4,3,"ion-content",10)),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",t.timelineTable.tage.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===t.timelineTable.tage.length))},dependencies:[de.NgForOf,de.NgIf,C.IonButton,C.IonButtons,C.IonCard,C.IonCardContent,C.IonCol,C.IonContent,C.IonGrid,C.IonHeader,C.IonIcon,C.IonImg,C.IonInfiniteScroll,C.IonInfiniteScrollContent,C.IonRow,C.IonText,C.IonTitle,C.IonToolbar,C.RouterLinkDelegate,S.rH,be.X$,Q.m,l,s.R,d.V,y],styles:['[_ngcontent-%COMP%]:root{--ion-color-primary: rgba(99, 194, 222, 1);--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: rgb(64, 165, 195);--ion-color-primary-tint: rgb(112, 217, 248);--ion-color-secondary: rgba(86, 180, 114, 1);--ion-color-secondary-rgb: 12, 209, 232;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: rgb(39, 165, 77);--ion-color-secondary-tint: rgb(101, 227, 139);--ion-color-tertiary: #7044ff;--ion-color-tertiary-rgb: 112, 68, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #633ce0;--ion-color-tertiary-tint: #7e57ff;--ion-color-success: rgb(86, 180, 114);--ion-color-success-rgb: 16, 220, 96;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #0ec254;--ion-color-success-tint: #28e070;--ion-color-warning: #ffce00;--ion-color-warning-rgb: 255, 206, 0;--ion-color-warning-contrast: #ffffff;--ion-color-warning-contrast-rgb: 255, 255, 255;--ion-color-warning-shade: #e0b500;--ion-color-warning-tint: #ffd31a;--ion-color-danger: rgb(219, 82, 82);--ion-color-danger-rgb: 245, 61, 61;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: rgb(176, 33, 33);--ion-color-danger-tint: rgb(252, 96, 96);--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 34, 34;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 244, 244;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-white: white;--ion-color-analyse-1: rgba(86, 180, 114, 1);--ion-color-analyse-2: rgba(119, 156, 106, 1);--ion-color-analyse-3: rgba(153, 131, 98, 1);--ion-color-analyse-4: rgba(186, 107, 90, 1);--ion-color-analyse-5: rgba(219, 82, 82, 1);--ion-color-analyse-null: #989aa2;--health-bar-color-3: rgb(86, 180, 114);--health-bar-color-2: rgb(231, 210, 27);--health-bar-color-1: rgb(219, 82, 82);--health-bar-color-0: rgba(255, 255, 255, 0);--ion-toolbar-background: var(--ion-color-white)}.health-bar-color-0[_ngcontent-%COMP%]{background-color:var(--health-bar-color-0)!important}.health-bar-color-1[_ngcontent-%COMP%]{background-color:var(--health-bar-color-1)!important;color:#fff!important}.health-bar-color-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]{background-color:var(--health-bar-color-2)!important;color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]{background-color:var(--health-bar-color-3)!important;color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-3)!important;color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-4)!important;color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-5)!important;color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}ion-content[_ngcontent-%COMP%]{animation:fade-in .5s cubic-bezier(.39,.575,.565,1) both}ion-icon[_ngcontent-%COMP%]{color:#999}.ion-padding-right-0[_ngcontent-%COMP%]{padding-right:0}.pt-timelime-item[_ngcontent-%COMP%]:before{content:"";position:relative;top:30px;bottom:0;width:10px;background:#a9d8e6;left:9.7%;margin-left:-10px}.pt-timelime-item-icon[_ngcontent-%COMP%]{width:25px;height:25px;background:white;border-radius:50%;box-shadow:0 0 0 7px #a9d8e6;text-align:center;padding:.5rem;position:absolute;margin:auto;left:6px}.pt-timelime-item-icon-help[_ngcontent-%COMP%]{color:#ffb94e}.pt-timelime-item-icon-checkmark[_ngcontent-%COMP%]{color:#49a263}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:51px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:10px solid transparent;border-left-color:#a9d8e6;top:17px;display:inline-block}.pt-timeline-card[_ngcontent-%COMP%]{margin:.3rem .3rem .3rem .4rem}.pt-date-title[_ngcontent-%COMP%]{color:#fff;padding-top:.3rem;padding-left:.4rem;position:relative}.pt-circlebutton[_ngcontent-%COMP%]{display:block;width:230px;height:230px;border:12px solid rgba(255,255,255,.5);border-radius:50%;color:#63c2de;text-align:center;text-decoration:none;background:rgba(255,255,255,.8);box-shadow:0 0 3px gray;margin:50% auto 0;font-weight:900}.pt-reset-button[_ngcontent-%COMP%]{color:#fff;background:#a9d8e6!important;margin:0 .85rem 1rem;border-radius:4px;width:93%}@media screen and (min-width: 700px){.pt-calendar[_ngcontent-%COMP%]{width:2rem;height:2rem}.pt-timelime-item[_ngcontent-%COMP%]:before{left:9.2%}.pt-timelime-item-icon[_ngcontent-%COMP%]{left:32%}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:83px}.pt-reset-button[_ngcontent-%COMP%]{width:96.7%}}']});const Ze=[{path:"",component:Oe}];class Ie{}Ie.\u0275fac=function(n){return new(n||Ie)},Ie.\u0275mod=e.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=e.\u0275\u0275defineInjector({imports:[S.Bz.forChild(Ze),S.Bz]});var je=_(1511),Ue=_(5339);class ke{}ke.\u0275fac=function(n){return new(n||ke)},ke.\u0275mod=e.\u0275\u0275defineNgModule({type:ke}),ke.\u0275inj=e.\u0275\u0275defineInjector({providers:[l,Q.m,s.R,d.V,Ue.M,y],imports:[de.CommonModule,pe.FormsModule,C.IonicModule,Ie,be.aw,je.m]})},1511:(Re,Te,_)=>{"use strict";_.d(Te,{m:()=>C});var de=_(6895),pe=_(6738);class C{}C.\u0275fac=function(h){return new(h||C)},C.\u0275mod=pe.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=pe.\u0275\u0275defineInjector({imports:[de.CommonModule]})},3028:function(Re,Te){var _,pe;_=function C(){"use strict";var S=typeof self<"u"?self:typeof window<"u"?window:void 0!==S?S:{},h=!S.document&&!!S.postMessage,me=S.IS_PAPA_WORKER||!1,ue={},_e=0,v={parse:function(o,i){var l=(i=i||{}).dynamicTyping||!1;if(y(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!y(i.transform)&&i.transform,i.worker&&v.WORKERS_SUPPORTED){var s=function(){if(!v.WORKERS_SUPPORTED)return!1;var F,D,f=(F=S.URL||S.webkitURL||null,D=C.toString(),v.BLOB_URL||(v.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))),b=new S.Worker(f);return b.onmessage=Le,b.id=_e++,ue[b.id]=b}();return s.userStep=i.step,s.userChunk=i.chunk,s.userComplete=i.complete,s.userError=i.error,i.step=y(i.step),i.chunk=y(i.chunk),i.complete=y(i.complete),i.error=y(i.error),delete i.worker,void s.postMessage({input:o,config:i,workerId:s.id})}var f,d=null;return"string"==typeof o?(o=65279===(f=o).charCodeAt(0)?f.slice(1):f,d=i.download?new Ce(i):new he(i)):!0===o.readable&&y(o.read)&&y(o.on)?d=new e(i):(S.File&&o instanceof File||o instanceof Object)&&(d=new fe(i)),d.stream(o)},unparse:function(o,i){var l=!1,s=!0,d=",",f="\r\n",b='"',F=b+b,D=!1,p=null,N=!1;!function(){if("object"==typeof i){if("string"!=typeof i.delimiter||v.BAD_DELIMITERS.filter(function(c){return-1!==i.delimiter.indexOf(c)}).length||(d=i.delimiter),("boolean"==typeof i.quotes||"function"==typeof i.quotes||Array.isArray(i.quotes))&&(l=i.quotes),"boolean"!=typeof i.skipEmptyLines&&"string"!=typeof i.skipEmptyLines||(D=i.skipEmptyLines),"string"==typeof i.newline&&(f=i.newline),"string"==typeof i.quoteChar&&(b=i.quoteChar),"boolean"==typeof i.header&&(s=i.header),Array.isArray(i.columns)){if(0===i.columns.length)throw new Error("Option columns is empty");p=i.columns}void 0!==i.escapeChar&&(F=i.escapeChar+b),("boolean"==typeof i.escapeFormulae||i.escapeFormulae instanceof RegExp)&&(N=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var g=new RegExp(ve(b),"g");if("string"==typeof o&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return G(null,o,D);if("object"==typeof o[0])return G(p||Object.keys(o[0]),o,D)}else if("object"==typeof o)return"string"==typeof o.data&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||p),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:"object"==typeof o.data[0]?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||"object"==typeof o.data[0]||(o.data=[o.data])),G(o.fields||[],o.data||[],D);throw new Error("Unable to serialize unrecognized input");function G(c,w,W){var M="";"string"==typeof c&&(c=JSON.parse(c)),"string"==typeof w&&(w=JSON.parse(w));var z=Array.isArray(c)&&0<c.length,R=!Array.isArray(w[0]);if(z&&s){for(var L=0;L<c.length;L++)0<L&&(M+=d),M+=V(c[L],L);0<w.length&&(M+=f)}for(var m=0;m<w.length;m++){var x=z?c.length:w[m].length,P=!1,$=z?0===Object.keys(w[m]).length:0===w[m].length;if(W&&!z&&(P="greedy"===W?""===w[m].join("").trim():1===w[m].length&&0===w[m][0].length),"greedy"===W&&z){for(var k=[],Z=0;Z<x;Z++)k.push(w[m][R?c[Z]:Z]);P=""===k.join("").trim()}if(!P){for(var E=0;E<x;E++)0<E&&!$&&(M+=d),M+=V(w[m][z&&R?c[E]:E],E);m<w.length-1&&(!W||0<x&&!$)&&(M+=f)}}return M}function V(c,w){if(null==c)return"";if(c.constructor===Date)return JSON.stringify(c).slice(1,25);var W=!1;N&&"string"==typeof c&&N.test(c)&&(c="'"+c,W=!0);var M=c.toString().replace(g,F);return(W=W||!0===l||"function"==typeof l&&l(c,w)||Array.isArray(l)&&l[w]||function(z,R){for(var L=0;L<R.length;L++)if(-1<z.indexOf(R[L]))return!0;return!1}(M,v.BAD_DELIMITERS)||-1<M.indexOf(d)||" "===M.charAt(0)||" "===M.charAt(M.length-1))?b+M+b:M}}};if(v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK="\ufeff",v.BAD_DELIMITERS=["\r","\n",'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!h&&!!S.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=Ee,v.ParserHandle=Ne,v.NetworkStreamer=Ce,v.FileStreamer=fe,v.StringStreamer=he,v.ReadableStreamStreamer=e,S.jQuery){var oe=S.jQuery;oe.fn.parse=function(o){var i=o.config||{},l=[];return this.each(function(f){if("INPUT"!==oe(this).prop("tagName").toUpperCase()||"file"!==oe(this).attr("type").toLowerCase()||!S.FileReader||!this.files||0===this.files.length)return!0;for(var b=0;b<this.files.length;b++)l.push({file:this.files[b],inputElem:this,instanceConfig:oe.extend({},i)})}),s(),this;function s(){if(0!==l.length){var b,F,D,p=l[0];if(y(o.before)){var N=o.before(p.file,p.inputElem);if("object"==typeof N){if("abort"===N.action)return"AbortError",b=p.file,F=p.inputElem,D=N.reason,void(y(o.error)&&o.error({name:"AbortError"},b,F,D));if("skip"===N.action)return void d();"object"==typeof N.config&&(p.instanceConfig=oe.extend(p.instanceConfig,N.config))}else if("skip"===N)return void d()}var g=p.instanceConfig.complete;p.instanceConfig.complete=function(G){y(g)&&g(G,p.file,p.inputElem),d()},v.parse(p.file,p.instanceConfig)}else y(o.complete)&&o.complete()}function d(){l.splice(0,1),s()}}}function Y(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(i){var l=we(i);l.chunkSize=parseInt(l.chunkSize),i.step||i.chunk||(l.chunkSize=null),this._handle=new Ne(l),(this._handle.streamer=this)._config=l}.call(this,o),this.parseChunk=function(i,l){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(i);void 0!==s&&(i=s)}this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+i;this._partialLine="";var f=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var b=f.meta.cursor;this._finished||(this._partialLine=d.substring(b-this._baseIndex),this._baseIndex=b),f&&f.data&&(this._rowCount+=f.data.length);var F=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(me)S.postMessage({results:f,workerId:v.WORKER_ID,finished:F});else if(y(this._config.chunk)&&!l){if(this._config.chunk(f,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);f=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(f.data),this._completeResults.errors=this._completeResults.errors.concat(f.errors),this._completeResults.meta=f.meta),this._completed||!F||!y(this._config.complete)||f&&f.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||f&&f.meta.paused||this._nextChunk(),f}this._halted=!0},this._sendError=function(i){y(this._config.error)?this._config.error(i):me&&this._config.error&&S.postMessage({workerId:v.WORKER_ID,error:i,finished:!1})}}function Ce(o){var i;(o=o||{}).chunkSize||(o.chunkSize=v.RemoteChunkSize),Y.call(this,o),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),h||(i.onload=Q(this._chunkLoaded,this),i.onerror=Q(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var l=this._config.downloadRequestHeaders;for(var s in l)i.setRequestHeader(s,l[s])}this._config.chunkSize&&i.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{i.send(this._config.downloadRequestBody)}catch(f){this._chunkError(f.message)}h&&0===i.status&&this._chunkError()}},this._chunkLoaded=function(){var s;4===i.readyState&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(s=i.getResponseHeader("Content-Range"))?-1:parseInt(s.substring(s.lastIndexOf("/")+1))),this.parseChunk(i.responseText)))},this._chunkError=function(l){this._sendError(new Error(i.statusText||l))}}function fe(o){var i,l;(o=o||{}).chunkSize||(o.chunkSize=v.LocalChunkSize),Y.call(this,o);var s=typeof FileReader<"u";this.stream=function(d){this._input=d,l=d.slice||d.webkitSlice||d.mozSlice,s?((i=new FileReader).onload=Q(this._chunkLoaded,this),i.onerror=Q(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input;if(this._config.chunkSize){var f=Math.min(this._start+this._config.chunkSize,this._input.size);d=l.call(d,this._start,f)}var b=i.readAsText(d,this._config.encoding);s||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(i.error)}}function he(o){var i;Y.call(this,o=o||{}),this.stream=function(l){return i=l,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var l,s=this._config.chunkSize;return s?(l=i.substring(0,s),i=i.substring(s)):(l=i,i=""),this._finished=!i,this.parseChunk(l)}}}function e(o){Y.call(this,o=o||{});var i=[],l=!0,s=!1;this.pause=function(){Y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&1===i.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):l=!0},this._streamData=Q(function(d){try{i.push("string"==typeof d?d:d.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(f){this._streamError(f)}},this),this._streamError=Q(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=Q(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ne(o){var i,l,s,d=Math.pow(2,53),f=-d,b=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,p=0,N=0,g=!1,G=!1,V=[],c={data:[],errors:[],meta:{}};if(y(o.step)){var w=o.step;o.step=function(m){if(c=m,z())M();else{if(M(),0===c.data.length)return;p+=m.data.length,o.preview&&p>o.preview?l.abort():(c.data=c.data[0],w(c,D))}}}function W(m){return"greedy"===o.skipEmptyLines?""===m.join("").trim():1===m.length&&0===m[0].length}function M(){return c&&s&&(L("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),s=!1),o.skipEmptyLines&&(c.data=c.data.filter(function(m){return!W(m)})),z()&&function(){if(c)if(Array.isArray(c.data[0])){for(var x=0;z()&&x<c.data.length;x++)c.data[x].forEach(m);c.data.splice(0,1)}else c.data.forEach(m);function m(P,$){y(o.transformHeader)&&(P=o.transformHeader(P,$)),V.push(P)}}(),function(){if(!c||!o.header&&!o.dynamicTyping&&!o.transform)return c;function m(P,$){var k,Z=o.header?{}:[];for(k=0;k<P.length;k++){var A=k,E=P[k];o.header&&(A=k>=V.length?"__parsed_extra":V[k]),o.transform&&(E=o.transform(E,A)),E=R(A,E),"__parsed_extra"===A?(Z[A]=Z[A]||[],Z[A].push(E)):Z[A]=E}return o.header&&(k>V.length?L("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+k,N+$):k<V.length&&L("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+k,N+$)),Z}var x=1;return!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(m),x=c.data.length):c.data=m(c.data,0),o.header&&c.meta&&(c.meta.fields=V),N+=x,c}()}function z(){return o.header&&0===V.length}function R(m,x){return P=m,o.dynamicTypingFunction&&void 0===o.dynamicTyping[P]&&(o.dynamicTyping[P]=o.dynamicTypingFunction(P)),!0===(o.dynamicTyping[P]||o.dynamicTyping)?"true"===x||"TRUE"===x||"false"!==x&&"FALSE"!==x&&(function($){if(b.test($)){var k=parseFloat($);if(f<k&&k<d)return!0}return!1}(x)?parseFloat(x):F.test(x)?new Date(x):""===x?null:x):x;var P}function L(m,x,P,$){var k={type:m,code:x,message:P};void 0!==$&&(k.row=$),c.errors.push(k)}this.parse=function(m,x,P){if(o.newline||(o.newline=function(A,E){A=A.substring(0,1048576);var te=new RegExp(ve(E)+"([^]*?)"+ve(E),"gm"),J=(A=A.replace(te,"")).split("\r"),X=A.split("\n");if(1===J.length||1<X.length&&X[0].length<J[0].length)return"\n";for(var j=0,O=0;O<J.length;O++)"\n"===J[O][0]&&j++;return j>=J.length/2?"\r\n":"\r"}(m,o.quoteChar||'"')),s=!1,o.delimiter)y(o.delimiter)&&(o.delimiter=o.delimiter(m),c.meta.delimiter=o.delimiter);else{var k=function(A,E,te,J,X){var q,j,O,B;X=X||[",","\t","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var re=0;re<X.length;re++){var I=X[re],ge=0,ee=0,le=0;O=void 0;for(var ne=new Ee({comments:J,delimiter:I,newline:E,preview:10}).parse(A),ie=0;ie<ne.data.length;ie++)if(te&&W(ne.data[ie]))le++;else{var ae=ne.data[ie].length;ee+=ae,void 0!==O?0<ae&&(ge+=Math.abs(ae-O),O=ae):O=ae}0<ne.data.length&&(ee/=ne.data.length-le),(void 0===j||ge<=j)&&(void 0===B||B<ee)&&1.99<ee&&(j=ge,q=I,B=ee)}return{successful:!!(o.delimiter=q),bestDelimiter:q}}(m,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);k.successful?o.delimiter=k.bestDelimiter:(s=!0,o.delimiter=v.DefaultDelimiter),c.meta.delimiter=o.delimiter}var Z=we(o);return o.preview&&o.header&&Z.preview++,i=m,l=new Ee(Z),c=l.parse(i,x,P),M(),g?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,l.abort(),i=y(o.chunk)?"":i.substring(l.getCharIndex())},this.resume=function(){D.streamer._halted?(g=!1,D.streamer.parseChunk(i,!0)):setTimeout(D.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,l.abort(),c.meta.aborted=!0,y(o.complete)&&o.complete(c),i=""}}function ve(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ee(o){var i,l=(o=o||{}).delimiter,s=o.newline,d=o.comments,f=o.step,b=o.preview,F=o.fastMode,D=i=null==o.quoteChar?'"':o.quoteChar;if(void 0!==o.escapeChar&&(D=o.escapeChar),("string"!=typeof l||-1<v.BAD_DELIMITERS.indexOf(l))&&(l=","),d===l)throw new Error("Comment character same as delimiter");!0===d?d="#":("string"!=typeof d||-1<v.BAD_DELIMITERS.indexOf(d))&&(d=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var p=0,N=!1;this.parse=function(g,G,V){if("string"!=typeof g)throw new Error("Input must be a string");var c=g.length,w=l.length,W=s.length,M=d.length,z=y(f),R=[],L=[],m=[],x=p=0;if(!g)return U();if(o.header){var P=g.split(s)[0].split(l),$=[],k={},Z=!1;for(var A in P){var E=P[A];y(o.transformHeader)&&(E=o.transformHeader(E,A));var te=E,J=k[E]||0;0<J&&(Z=!0,te=E+"_"+J),k[E]=J+1,$.push(te)}if(Z){var X=g.split(s);X[0]=$.join(l),g=X.join(s)}}if(F||!1!==F&&-1===g.indexOf(i)){for(var q=g.split(s),j=0;j<q.length;j++){if(p+=(m=q[j]).length,j!==q.length-1)p+=s.length;else if(V)return U();if(!d||m.substring(0,M)!==d){if(z){if(R=[],le(m.split(l)),Se(),N)return U()}else le(m.split(l));if(b&&b<=j)return R=R.slice(0,b),U(!0)}}return U()}for(var O=g.indexOf(l,p),B=g.indexOf(s,p),re=new RegExp(ve(D)+ve(i),"g"),I=g.indexOf(i,p);;)if(g[p]!==i)if(d&&0===m.length&&g.substring(p,p+M)===d){if(-1===B)return U();B=g.indexOf(s,p=B+W),O=g.indexOf(l,p)}else if(-1!==O&&(O<B||-1===B))m.push(g.substring(p,O)),O=g.indexOf(l,p=O+w);else{if(-1===B)break;if(m.push(g.substring(p,B)),ae(B+W),z&&(Se(),N))return U();if(b&&R.length>=b)return U(!0)}else for(I=p,p++;;){if(-1===(I=g.indexOf(i,I+1)))return V||L.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:p}),ie();if(I===c-1)return ie(g.substring(p,I).replace(re,i));if(i!==D||g[I+1]!==D){if(i===D||0===I||g[I-1]!==D){-1!==O&&O<I+1&&(O=g.indexOf(l,I+1)),-1!==B&&B<I+1&&(B=g.indexOf(s,I+1));var ge=ne(-1===B?O:Math.min(O,B));if(g.substr(I+1+ge,w)===l){m.push(g.substring(p,I).replace(re,i)),g[p=I+1+ge+w]!==i&&(I=g.indexOf(i,p)),O=g.indexOf(l,p),B=g.indexOf(s,p);break}var ee=ne(B);if(g.substring(I+1+ee,I+1+ee+W)===s){if(m.push(g.substring(p,I).replace(re,i)),ae(I+1+ee+W),O=g.indexOf(l,p),I=g.indexOf(i,p),z&&(Se(),N))return U();if(b&&R.length>=b)return U(!0);break}L.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:p}),I++}}else I++}return ie();function le(K){R.push(K),x=p}function ne(K){var Be=0;if(-1!==K){var Pe=g.substring(I+1,K);Pe&&""===Pe.trim()&&(Be=Pe.length)}return Be}function ie(K){return V||(void 0===K&&(K=g.substring(p)),m.push(K),p=c,le(m),z&&Se()),U()}function ae(K){p=K,le(m),m=[],B=g.indexOf(s,p)}function U(K){return{data:R,errors:L,meta:{delimiter:l,linebreak:s,aborted:N,truncated:!!K,cursor:x+(G||0)}}}function Se(){f(U()),R=[],L=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return p}}function Le(o){var i=o.data,l=ue[i.workerId],s=!1;if(i.error)l.userError(i.error,i.file);else if(i.results&&i.results.data){var d={abort:function(){s=!0,be(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Ae,resume:Ae};if(y(l.userStep)){for(var f=0;f<i.results.data.length&&(l.userStep({data:i.results.data[f],errors:i.results.errors,meta:i.results.meta},d),!s);f++);delete i.results}else y(l.userChunk)&&(l.userChunk(i.results,d,i.file),delete i.results)}i.finished&&!s&&be(i.workerId,i.results)}function be(o,i){var l=ue[o];y(l.userComplete)&&l.userComplete(i),l.terminate(),delete ue[o]}function Ae(){throw new Error("Not implemented.")}function we(o){if("object"!=typeof o||null===o)return o;var i=Array.isArray(o)?[]:{};for(var l in o)i[l]=we(o[l]);return i}function Q(o,i){return function(){o.apply(i,arguments)}}function y(o){return"function"==typeof o}return me&&(S.onmessage=function(o){var i=o.data;if(void 0===v.WORKER_ID&&i&&(v.WORKER_ID=i.workerId),"string"==typeof i.input)S.postMessage({workerId:v.WORKER_ID,results:v.parse(i.input,i.config),finished:!0});else if(S.File&&i.input instanceof File||i.input instanceof Object){var l=v.parse(i.input,i.config);l&&S.postMessage({workerId:v.WORKER_ID,results:l,finished:!0})}}),(Ce.prototype=Object.create(Y.prototype)).constructor=Ce,(fe.prototype=Object.create(Y.prototype)).constructor=fe,(he.prototype=Object.create(he.prototype)).constructor=he,(e.prototype=Object.create(Y.prototype)).constructor=e,v},void 0!==(pe=_.apply(Te,[]))&&(Re.exports=pe)}}]);