"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2511],{2511:(V,p,o)=>{o.r(p),o.d(p,{TagesformErfassenPageModule:()=>B});var c=o(6895),r=o(4006),a=o(4881),i=o(2905),u=o(5861),e=o(6738),x=o(636),C=o(4323),I=o(535),S=o(1618),f=o(8490),h=o(998),v=o(4705);const d=function(n,m){return{ptRed:n,ptGreen:m}};function E(n,m){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",4)(1,"ion-card",5)(2,"ion-card-header"),e.\u0275\u0275element(3,"ion-img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content")(5,"ion-list"),e.\u0275\u0275elementContainerStart(6),e.\u0275\u0275elementStart(7,"ion-item")(8,"ion-label",7),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-text",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"ion-text",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"ion-range",10),e.\u0275\u0275listener("ionChange",function(l){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onSelectionChange(l,"tagesformValue"))}),e.\u0275\u0275element(19,"ion-icon",11)(20,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(21),e.\u0275\u0275elementStart(22,"ion-item")(23,"ion-label",7),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ion-text",13),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"ion-text",9),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"ion-range",14),e.\u0275\u0275listener("ionChange",function(l){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onSelectionChange(l,"erschoepfungsartValue"))}),e.\u0275\u0275element(34,"ion-img",15)(35,"ion-img",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(36),e.\u0275\u0275elementStart(37,"ion-item")(38,"ion-label",7),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"ion-text",8),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"translate"),e.\u0275\u0275pipe(44,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"ion-text",9),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"ion-range",17),e.\u0275\u0275listener("ionChange",function(l){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onSelectionChange(l,"schlafValue"))}),e.\u0275\u0275element(49,"ion-icon",11)(50,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(51),e.\u0275\u0275elementStart(52,"ion-item")(53,"ion-label",7),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"ion-text",8),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275pipe(59,"tagesformPipe"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"ion-text",9),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"ion-range",18),e.\u0275\u0275listener("ionChange",function(l){e.\u0275\u0275restoreView(t);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onSelectionChange(l,"stimmungValue"))}),e.\u0275\u0275element(64,"ion-icon",11)(65,"ion-icon",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,20,"tagesform-erfassen-page.tagesform")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(52,d,t.tagesformValue>3,t.tagesformValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,22,e.\u0275\u0275pipeBind1(14,24,t.tagesformValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,26,"tagesform-erfassen-page.tagesform-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t.tagesformValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,28,"tagesform-erfassen-page.erschoepfungsart")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,30,e.\u0275\u0275pipeBind1(29,32,t.erschoepfungsartValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,34,"tagesform-erfassen-page.erschoepfungsart-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t.erschoepfungsartValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(40,36,"tagesform-erfassen-page.schlaf")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(55,d,t.schlafValue>3,t.schlafValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,38,e.\u0275\u0275pipeBind1(44,40,t.schlafValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,42,"tagesform-erfassen-page.schlaf-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t.schlafValue),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(55,44,"tagesform-erfassen-page.stimmung")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(58,d,t.stimmungValue>3,t.stimmungValue<3)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,46,e.\u0275\u0275pipeBind1(59,48,t.stimmungValue))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(62,50,"tagesform-erfassen-page.stimmung-beschreibung")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t.stimmungValue)}}function T(n,m){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onSubmit())}),e.\u0275\u0275elementStart(1,"ion-text",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,1,"tagesform-erfassen-page.tagesform-speichern")," "))}const y=[{path:"",component:(()=>{class n{constructor(t,s,l,g,M,_,F,N){this.fb=t,this.sqliteService=s,this.detailService=l,this.databaseCrudService=g,this.activatedRoute=M,this.router=_,this.toastService=F,this.translateService=N,this.tagesformValue=null,this.erschoepfungsartValue=null,this.schlafValue=null,this.stimmungValue=null,this.tagId=this.activatedRoute.snapshot.params.tagId}ngOnInit(){this.form=this.fb.group({tagesform:[],erschoepfungsart:[],schlaf:[],stimmung:[]})}ngAfterViewInit(){var t=this;return(0,u.Z)(function*(){yield t.loadTagesform()})()}loadTagesform(){this.databaseCrudService.getTagesformListbyTagId(this.tagId).then(t=>{t.values&&(console.log(t),this.tagesformValue=t.values[0].tagesformValue,this.erschoepfungsartValue=t.values[0].erschoepfungsartValue,this.schlafValue=t.values[0].schlafValue,this.stimmungValue=t.values[0].stimmungValue,this.form.patchValue({erschoepfungsart:this.erschoepfungsartValue,tagesform:this.tagesformValue,schlaf:this.schlafValue,stimmung:this.stimmungValue}))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("tagesform-erfassen-page.error"))})}updateTagesform(){console.log(this.form.value.tagesform),console.log(this.form.value.erschoepfungsart),console.log(this.form),console.log(this.tagesformValue),console.log(this.erschoepfungsartValue),this.databaseCrudService.updateTagesformNames(this.tagId,this.form.value.tagesform,this.form.value.erschoepfungsart,this.form.value.schlaf,this.form.value.stimmung).then(t=>{console.log(t),t.values&&(console.log(t.values[0].tagesformValue),console.log(t.values[0].erschoepfungsartValue),this.tagesformValue=t.values[0].tagesformValue,this.erschoepfungsartValue=t.values[0].erschoepfungsartValue,this.schlafValue=t.values[0].schlafValue,this.stimmungValue=t.values[0].stimmungValue,this.form.patchValue({erschoepfungsart:this.erschoepfungsartValue,tagesform:this.tagesformValue,schlaf:this.schlafValue,stimmung:this.stimmungValue})),this.toastService.showSuccessToast(this.translateService.instant("tagesform-erfassen-page.success"))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("tagesform-erfassen-page.error"))})}onSelectionChange(t,s){"tagesformValue"===s?this.tagesformValue=t.detail.value:"erschoepfungsartValue"===s?this.erschoepfungsartValue=t.detail.value:"schlafValue"===s?this.schlafValue=t.detail.value:"stimmungValue"===s&&(this.stimmungValue=t.detail.value)}onSubmit(){var t=this;return(0,u.Z)(function*(){yield t.updateTagesform(),yield t.loadTagesform(),yield t.router.navigateByUrl("/tabs/tagebuch-timeline")})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(r.UntypedFormBuilder),e.\u0275\u0275directiveInject(x.Y),e.\u0275\u0275directiveInject(C.X),e.\u0275\u0275directiveInject(I.y),e.\u0275\u0275directiveInject(i.gz),e.\u0275\u0275directiveInject(i.F0),e.\u0275\u0275directiveInject(S.L),e.\u0275\u0275directiveInject(f.sK))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-tagesform-erfassen"]],decls:13,vars:5,consts:[["slot","start"],[3,"formGroup",4,"ngIf"],[1,"ion-no-border"],["class","m-0 p-0 h-3 w-100 opacity-80","color","primary","expand","block","fill","clear","size","default",3,"click",4,"ngIf"],[3,"formGroup"],[1,"ion-flex-grow-1"],["src","assets/images/Smiley_Flatline.svg",1,"vh-25"],[1,"pt-font-12"],[1,"ion-text-end","pt-font-12","pt-bold",3,"ngClass"],[1,"pt-note-block","pt-padding-left-16"],["min","1","max","5","step","1","formControlName","tagesform","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","color","secondary","name","happy"],["slot","end","color","danger","name","sad"],[1,"ion-text-end","pt-font-12","pt-bold"],["min","1","max","5","step","1","formControlName","erschoepfungsart","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["slot","start","src","assets/icon/brain-solid.svg",1,"ion-img-icon"],["slot","end","src","assets/icon/hand-paper-solid.svg",1,"ion-img-icon"],["min","1","max","5","step","1","formControlName","schlaf","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["min","1","max","5","step","1","formControlName","stimmung","pin","","ticks","","snaps","",1,"pt-range-padding",3,"value","ionChange"],["color","primary","expand","block","fill","clear","size","default",1,"m-0","p-0","h-3","w-100","opacity-80",3,"click"],[1,"small","pt-button-text"]],template:function(t,s){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.\u0275\u0275element(3,"ion-back-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-content"),e.\u0275\u0275template(8,E,66,61,"form",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-footer",2)(10,"ion-row")(11,"ion-col"),e.\u0275\u0275template(12,T,4,3,"ion-button",3),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"tagesform-erfassen")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",s.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",s.form))},dependencies:[c.NgClass,c.NgIf,r.\u0275NgNoValidate,r.NgControlStatus,r.NgControlStatusGroup,a.IonBackButton,a.IonButton,a.IonButtons,a.IonCard,a.IonCardContent,a.IonCardHeader,a.IonCol,a.IonContent,a.IonFooter,a.IonHeader,a.IonIcon,a.IonImg,a.IonItem,a.IonLabel,a.IonList,a.IonRange,a.IonRow,a.IonText,a.IonTitle,a.IonToolbar,a.SelectValueAccessor,a.IonBackButtonDelegate,r.FormGroupDirective,r.FormControlName,f.X$,h.R,v.V],styles:[".ion-img-icon[_ngcontent-%COMP%]{width:24px;height:24px}.pt-padding-left-16[_ngcontent-%COMP%]{padding-left:16px}.pt-note-block[_ngcontent-%COMP%]{font-size:10px;color:#d3d3d3;display:block}.pt-font-16[_ngcontent-%COMP%]{font-size:16px}.pt-range-padding[_ngcontent-%COMP%]{padding-top:0;padding-bottom:30px!important}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[i.Bz.forChild(y),i.Bz]}),n})();var b=o(1511);let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[h.R,v.V],imports:[c.CommonModule,r.FormsModule,a.IonicModule,P,f.aw,r.ReactiveFormsModule,b.m]}),n})()},1511:(V,p,o)=>{o.d(p,{m:()=>a});var c=o(6895),r=o(6738);let a=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=r.\u0275\u0275defineInjector({imports:[c.CommonModule]}),i})()}}]);