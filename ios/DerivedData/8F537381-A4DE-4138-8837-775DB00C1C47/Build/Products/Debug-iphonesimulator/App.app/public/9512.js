"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9512],{9512:(g,p,o)=>{o.r(p),o.d(p,{EssenErfassenPageModule:()=>M});var u=o(6895),s=o(4006),a=o(4881),r=o(2905),h=o(5861),e=o(6738),f=o(636),E=o(4323),I=o(535),b=o(1618),v=o(8490);function x(n,c){if(1&n&&(e.\u0275\u0275elementStart(0,"form",5)(1,"ion-card",6)(2,"ion-card-header"),e.\u0275\u0275element(3,"ion-img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-card-content")(5,"ion-card-title",6),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"ion-textarea",8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementStart(10,"ion-card-title",9),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"ion-textarea",10),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"ion-card-title",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"ion-textarea",11),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementStart(20,"ion-card-title",9),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"ion-textarea",12),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,9,"vormittag")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(9,11,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"mittag")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(14,15,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,17,"abend")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(19,19,"essen-erfassen-page.textarea-placeholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,21,"medikamente")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(24,23,"essen-erfassen-page.medikamente-placeholder"))}}function y(n,c){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onSubmit())}),e.\u0275\u0275elementStart(1,"ion-text",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"essen-erfassen-page.essen-speichern")))}const S=[{path:"",component:(()=>{class n{constructor(t,i,l,d,m,V,k,P){this.fb=t,this.sqliteService=i,this.detailService=l,this.databaseCrudService=d,this.activatedRoute=m,this.router=V,this.toastService=k,this.translateService=P,this.essen=[],this.vormittagEssen="",this.mittagEssen="",this.abendEssen="",this.medikamenteValue="",this.tagId=this.activatedRoute.snapshot.params.tagId}ngOnInit(){this.form=this.fb.group({vormittag:[""],mittag:[""],abend:[""],medikamente:[""]})}ngAfterViewInit(){var t=this;return(0,h.Z)(function*(){yield t.loadEssen()})()}loadEssen(){this.databaseCrudService.getEssenListbyTagId(this.tagId).then(t=>{var i,l,d,m;return t.values[0].vormittag&&(this.vormittagEssen=null===(i=t.values[0])||void 0===i?void 0:i.vormittag,console.log(this.vormittagEssen),this.form.patchValue({vormittag:this.vormittagEssen})),t.values[0].mittag&&(this.mittagEssen=null===(l=t.values[0])||void 0===l?void 0:l.mittag,console.log(this.mittagEssen),this.form.patchValue({mittag:this.mittagEssen})),t.values[0].abend&&(this.abendEssen=null===(d=t.values[0])||void 0===d?void 0:d.abend,console.log(this.abendEssen),this.form.patchValue({abend:this.abendEssen})),t.values[0].medikamenteValue&&(this.medikamenteValue=null===(m=t.values[0])||void 0===m?void 0:m.medikamenteValue,console.log(this.medikamenteValue),this.form.patchValue({medikamente:this.medikamenteValue})),this.vormittagEssen&&this.mittagEssen&&this.abendEssen&&this.medikamenteValue}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("essen-erfassen-page.error"))})}updateEssen(){console.log(this.form.value.vormittag),console.log(this.form.value.mittag),console.log(this.form.value.abend),console.log(this.form.value.medikamente),this.databaseCrudService.updateEssenNames(this.tagId,this.form.value.vormittag,this.form.value.mittag,this.form.value.abend,this.form.value.medikamente).then(t=>{var i,l,d,m;t.values&&(this.vormittagEssen=null===(i=t.values[0])||void 0===i?void 0:i.vormittag,this.mittagEssen=null===(l=t.values[0])||void 0===l?void 0:l.mittag,this.abendEssen=null===(d=t.values[0])||void 0===d?void 0:d.abend,this.medikamenteValue=null===(m=t.values[0])||void 0===m?void 0:m.medikamenteValue,this.form.patchValue({vormittag:this.vormittagEssen,mittag:this.mittagEssen,abend:this.abendEssen,medikamente:this.medikamenteValue})),this.toastService.showSuccessToast(this.translateService.instant("essen-erfassen-page.success"))}).catch(t=>{console.log(t),this.toastService.showErrorToast(this.translateService.instant("essen-erfassen-page.error"))})}onSubmit(){var t=this;return(0,h.Z)(function*(){yield t.updateEssen(),yield t.loadEssen(),yield t.router.navigateByUrl("/tabs/tagebuch-timeline")})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(s.UntypedFormBuilder),e.\u0275\u0275directiveInject(f.Y),e.\u0275\u0275directiveInject(E.X),e.\u0275\u0275directiveInject(I.y),e.\u0275\u0275directiveInject(r.gz),e.\u0275\u0275directiveInject(r.F0),e.\u0275\u0275directiveInject(b.L),e.\u0275\u0275directiveInject(v.sK))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-essen-erfassen"]],decls:13,vars:5,consts:[["slot","start"],[1,"vh-82"],[3,"formGroup",4,"ngIf"],[1,"ion-no-border"],["class","m-0 p-0 h-3 w-100 opacity-80","color","primary","expand","block","fill","clear","size","default",3,"click",4,"ngIf"],[3,"formGroup"],[1,"ion-flex-grow-1"],["src","assets/images/Lunch_break_Flatline.svg",1,"vh-25"],["formControlName","vormittag","id","vormittagEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],[1,"w-100"],["formControlName","mittag","id","mittagEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["formControlName","abend","id","abendEssen","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["formControlName","medikamente","id","medikamente","required","","type","text",1,"w-100","ion-border","mb-2",3,"placeholder"],["color","primary","expand","block","fill","clear","size","default",1,"m-0","p-0","h-3","w-100","opacity-80",3,"click"],[1,"small","pt-button-text"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.\u0275\u0275element(3,"ion-back-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-content",1),e.\u0275\u0275template(8,x,25,25,"form",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"ion-footer",3)(10,"ion-row")(11,"ion-col"),e.\u0275\u0275template(12,y,4,3,"ion-button",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"essen-erfassen")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.form))},dependencies:[u.NgIf,s.\u0275NgNoValidate,s.NgControlStatus,s.NgControlStatusGroup,s.RequiredValidator,s.FormGroupDirective,s.FormControlName,a.IonBackButton,a.IonButton,a.IonButtons,a.IonCard,a.IonCardContent,a.IonCardHeader,a.IonCardTitle,a.IonCol,a.IonContent,a.IonFooter,a.IonHeader,a.IonImg,a.IonRow,a.IonText,a.IonTextarea,a.IonTitle,a.IonToolbar,a.TextValueAccessor,a.IonBackButtonDelegate,v.X$]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[r.Bz.forChild(S),r.Bz]}),n})();var B=o(1511);let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.CommonModule,s.FormsModule,s.ReactiveFormsModule,a.IonicModule,C,v.aw,B.m]}),n})()},1511:(g,p,o)=>{o.d(p,{m:()=>a});var u=o(6895),s=o(6738);let a=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=s.\u0275\u0275defineInjector({imports:[u.CommonModule]}),r})()}}]);