(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2097],{2097:(Oe,xe,_)=>{"use strict";_.r(xe),_.d(xe,{TagebuchTimelinePageModule:()=>ze});var me=_(6895),ue=_(4006),D=_(4881),x=_(2905),h=_(5861),ae=_(7423);const ge=(0,ae.fo)("Dialog",{web:()=>_.e(8897).then(_.bind(_,8897)).then(n=>new n.DialogWeb)});var fe=_(1158),v=_(6408),ce=_(6953),te=_(4147);const Te=(0,ae.fo)("App",{web:()=>_.e(4477).then(_.bind(_,4477)).then(n=>new n.AppWeb)}),he=(0,ae.fo)("BackgroundTask",{web:()=>_.e(4644).then(_.bind(_,4644)).then(n=>new n.BackgroundTaskWeb)});var ve=_(8583),e=_(6738),Ee=_(535),be=_(1618),Se=_(3028);let De=(()=>{let n=class{constructor(){this._papa=Se}parse(t,i){return this._papa.parse(t,i)}unparse(t,i){return this._papa.unparse(t,i)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.\u0275\u0275defineInjectable)({factory:function(){return new n},token:n,providedIn:"root"}),n})();var ye=_(8490),we=_(3795),Ie=_(4654),X=_(3738);let C=(()=>{class n{constructor(){}transform(t){if(t)return t.split(",").join(", ")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.\u0275\u0275definePipe({name:"commaBlankSeparator",type:n,pure:!0}),n})();const o=(0,ae.fo)("LocalNotifications",{web:()=>_.e(7434).then(_.bind(_,7434)).then(n=>new n.LocalNotificationsWeb)});let a=(()=>{class n{constructor(t){this.translateService=t,this.dailyNotificationId=15,this.nextNotiInMillis=864e5,this.timeOFDay=20}restartNotifications(){o.removeAllDeliveredNotifications().then(()=>{console.log("NotiService.startNotifications delivered notis removed")}),o.cancel({notifications:[{id:this.dailyNotificationId}]}).then(()=>{console.log("NotiService.startNotifications existing notis cancelled")});var t=new Date((new Date).getTime()+this.nextNotiInMillis);t.setHours(this.timeOFDay,0,0);const i={allowWhileIdle:!0,at:t};console.log("NotiService.startNotifications nextNoti set to ",JSON.stringify(i)),o.requestPermissions().then(l=>{console.log("NotiService.startNotifications requestPermissions answer",JSON.stringify(l)),o.schedule({notifications:[{id:this.dailyNotificationId,title:this.translateService.instant("Long-Covid Tagebuch"),body:this.translateService.instant("Heute schon einen Eintrag erstellt?"),schedule:i}]}),console.log("NotiService.startNotifications notification scheduled ",JSON.stringify(i))})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(ye.sK))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r=(()=>{class n{transform(t){if(t){const i=fe(t);if(i instanceof fe)return`${i.format("L")} ${i.format("LT")}`}return t}timeOnly(t){if(t){const i=fe(t);if(i instanceof fe)return`${i.format("LT")}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.\u0275\u0275definePipe({name:"dateTime",type:n,pure:!0}),n})();var c=_(998),p=_(4705);function f(n,s){1&n&&(e.\u0275\u0275elementStart(0,"ion-title",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function y(n,s){1&n&&(e.\u0275\u0275elementStart(0,"ion-title",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"timeline")))}function z(n,s){1&n&&e.\u0275\u0275element(0,"ion-icon",34)}function M(n,s){1&n&&e.\u0275\u0275element(0,"ion-icon",35)}function m(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,z,1,0,"ion-icon",32),e.\u0275\u0275template(2,M,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(3).$implicit,l=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===l.symptomNames&&null===l.symptomNamesCheckboxes||null===i.vormittag&&null===i.mittag&&null===i.abend))("ngIfElse",t)}}function A(n,s){1&n&&e.\u0275\u0275element(0,"ion-icon",34)}function g(n,s){1&n&&e.\u0275\u0275element(0,"ion-icon",35)}function Y(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,A,1,0,"ion-icon",32),e.\u0275\u0275template(2,g,1,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(3).$implicit,l=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!("null"===l.symptomNames&&"null"===l.symptomNamesCheckboxes||"null"===i.vormittag&&"null"===i.mittag&&"null"===i.abend))("ngIfElse",t)}}function W(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,m,4,2,"ng-container",31),e.\u0275\u0275template(2,Y,4,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function d(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,W,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().index,i=e.\u0275\u0275nextContext(2).index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i===t)}}function w(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,d,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function Z(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,w,2,1,"ng-container",21),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.timelineTable.essen)}}function N(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Z,2,1,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function V(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function L(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.symptomNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function F(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,V,9,4,"ion-card",36),e.\u0275\u0275template(2,L,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function u(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"symptome-erfassen")," ")}}function T(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275element(12,"br"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/symptome-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"symptome")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.symptomNamesCheckboxes,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.symptomNames," ")}}function P(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,u,9,4,"ion-card",36),e.\u0275\u0275template(2,T,14,9,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.symptomNames&&null===t.symptomNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.symptomNames&&null===t.symptomNamesCheckboxes))}}function $(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,F,3,2,"ng-container",31),e.\u0275\u0275template(2,P,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function I(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function j(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function B(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function k(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,j,9,4,"ion-card",36),e.\u0275\u0275template(2,B,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function oe(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"essen-erfassen"))}}function J(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/essen-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"essen")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"vormittag"),": ",t.vormittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(16,17,"mittag"),": ",t.mittag,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(19,19,"abend"),": ",t.abend,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(22,21,"medikamente"),": ",t.medikamenteValue," ")}}function q(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,oe,9,4,"ion-card",36),e.\u0275\u0275template(2,J,23,23,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.vormittag&&null===t.mittag&&null===t.abend&&null===t.medikamenteValue))}}function ne(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,k,3,2,"ng-container",31),e.\u0275\u0275template(2,q,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function U(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ne,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function O(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function R(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function de(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,O,9,4,"ion-card",36),e.\u0275\u0275template(2,R,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function S(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"tagesform-erfassen")," ")}}function _e(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col")(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275pipe(20,"erschoepfungsartPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"tagesformPipe"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275pipe(30,"tagesformPipe"),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/tagesform-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"tagesform")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,13,t.lastModified),") "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(13,15,"tagesform-erfassen-page.tagesform"),": ",e.\u0275\u0275pipeBind1(14,17,e.\u0275\u0275pipeBind1(15,19,t.tagesformValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(18,21,"tagesform-erfassen-page.erschoepfungsart"),": ",e.\u0275\u0275pipeBind1(19,23,e.\u0275\u0275pipeBind1(20,25,t.erschoepfungsartValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(23,27,"tagesform-erfassen-page.schlaf"),": ",e.\u0275\u0275pipeBind1(24,29,e.\u0275\u0275pipeBind1(25,31,t.schlafValue)),""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(28,33,"tagesform-erfassen-page.stimmung"),": ",e.\u0275\u0275pipeBind1(29,35,e.\u0275\u0275pipeBind1(30,37,t.stimmungValue)),"")}}function ie(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,S,9,4,"ion-card",36),e.\u0275\u0275template(2,_e,31,39,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.tagesformValue&&null===t.erschoepfungsartValue&&null===t.schlafValue&&null===t.stimmungValue))}}function pe(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,de,3,2,"ng-container",31),e.\u0275\u0275template(2,ie,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function re(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,pe,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function le(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function se(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function K(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,le,9,4,"ion-card",36),e.\u0275\u0275template(2,se,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function Ce(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",26)(3,"ion-col",27)(4,"ion-text",28),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",29),e.\u0275\u0275element(8,"ion-icon",30),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",t.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,2,"aktivitaet-erfassen")," ")}}function H(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row",37)(3,"ion-col")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"dateTime"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-row")(10,"ion-col"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"commaBlankSeparator"),e.\u0275\u0275element(13,"br"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("routerLink","/aktivitaeten-erfassen/",i.id,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"aktivitaet")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(8,7,t.lastModified),") "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,9,t.aktivitaetenNamesCheckboxes),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.aktivitaetenNames," ")}}function Pe(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ce,9,4,"ion-card",36),e.\u0275\u0275template(2,H,15,11,"ion-card",36),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null===t.aktivitaetenNames&&null===t.aktivitaetenNamesCheckboxes))}}function ke(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,K,3,2,"ng-container",31),e.\u0275\u0275template(2,Pe,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Android"===t.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===t.deviceInfo.os||"Windows"===t.deviceInfo.os)}}function Me(n,s){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ke,3,2,"ng-container",31),e.\u0275\u0275elementContainerEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.id===t.tageid)}}function Ne(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-row",18)(1,"ion-col",19)(2,"ion-row",20),e.\u0275\u0275template(3,N,2,1,"ng-container",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"ion-row"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-col",22)(6,"ion-row")(7,"ion-title",23),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"dateOnly"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-row",24),e.\u0275\u0275template(11,I,2,1,"ng-container",21),e.\u0275\u0275template(12,U,2,1,"ng-container",21),e.\u0275\u0275template(13,re,2,1,"ng-container",21),e.\u0275\u0275template(14,Me,2,1,"ng-container",21),e.\u0275\u0275elementStart(15,"ion-card",25)(16,"ion-card-content")(17,"ion-row",26)(18,"ion-col",27)(19,"ion-text",28),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"ion-col",29),e.\u0275\u0275element(23,"ion-icon",30),e.\u0275\u0275elementEnd()()()()()()()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.timelineTable.symptome),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,8,t.date)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.timelineTable.symptome),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.timelineTable.essen),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.timelineTable.tagesform),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.timelineTable.aktivitaeten),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("routerLink","/health-data/",t.date,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(21,10,"health-data-erfassen")," ")}}function Ae(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-grid",14),e.\u0275\u0275template(2,Ne,24,12,"ion-row",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-infinite-scroll",16),e.\u0275\u0275listener("ionInfinite",function(l){e.\u0275\u0275restoreView(t);const b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.doInfinite(l))}),e.\u0275\u0275element(4,"ion-infinite-scroll-content",17),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.timelineTable.tage)}}function Be(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-content",13)(1,"ion-button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.presentAlertBeforeStartingTimeline())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"tagebuch-timeline.app-starten")," "))}const Re=[{path:"",component:(()=>{class n{constructor(t,i,l,b,E,ee,Q,G,Ve,We,Ze){this.router=t,this.databaseCrudService=i,this.toastService=l,this.alertController=b,this.papa=E,this.translateService=ee,this.deviceService=Q,this.backupService=G,this.dateOnlyPipe=Ve,this.commaBlankSeparatorPipe=We,this.notiService=Ze,this.isAllLoaded=!1,this.tage=[],this.symptome=[],this.essen=[],this.tagesform=[],this.aktivitaeten=[],this.export=null,this.txt="",this.detailsPagingNumber=0,this.tagePagingNumber=0,this.deviceInfo=null,this.version=te.i8,this.clearTimelineTable(),this.deviceInfo=this.deviceService.getDeviceInfo()}ngOnInit(){var t=this;this.routerSubscription=this.router.events.subscribe(i=>{i instanceof x.m2&&i.url.includes("tagebuch-timeline")&&(this.clearTimelineTable(),this.updateTimelineData())}),Te.addListener("appStateChange",function(){var i=(0,h.Z)(function*({isActive:l}){if(l)return;const b=yield he.beforeExit((0,h.Z)(function*(){yield t.backupService.checkIfBackupsFolderExistsAndCreateBackup(),yield t.backupService.deleteOldBackupsIfMoreThanWanted(),he.finish({taskId:b})}))});return function(l){return i.apply(this,arguments)}}())}ionViewDidEnter(){this.notiService.restartNotifications()}ngOnDestroy(){var t,i;this.clearTimelineTable(),null===(t=this.routerSubscription)||void 0===t||t.unsubscribe(),null===(i=this.appStateChangeListener)||void 0===i||i.remove()}ngAfterViewInit(){var t=this;return(0,h.Z)(function*(){const i=function(){var l=(0,h.Z)(function*(b){yield ge.alert({title:t.translateService.instant("message-title"),message:b})});return function(E){return l.apply(this,arguments)}}();try{console.log(">>>> im Tagebuch-Timeline  this.startupProcess"),yield t.startupProcess()}catch(l){throw console.log(`$$$ runTest failed ${l.message}`),yield i(l.message),new Error(l.message)}t.clearTimelineTable(),t.updateTimelineData()})()}ionViewWillLeave(){var t=this;return(0,h.Z)(function*(){yield t.clearTimelineTable()})()}startupProcess(){var t=this;return(0,h.Z)(function*(){console.log(">>>> im Tagebuch-Timeline ");const i=yield t.databaseCrudService.openDatabaseConnectionAndReturnDatabaseBoolean();console.log("setupDone"),!1===i?(console.log("createDatabase"),yield t.databaseCrudService.createDatabaseFromJSON()):!0===i?(console.log("openDatabase"),yield t.databaseCrudService.upgradeDatabaseSchema(),yield t.databaseCrudService.openDatabaseConnectionAndReturnDatabaseBoolean(),yield t.databaseCrudService.openDatabase(),console.log("opened db version "+(yield t.databaseCrudService.getDatabaseVersion()))):(yield(0,ve.g)(5e3),yield t.presentStartupProcessRetryAlert())})()}presentStartupProcessRetryAlert(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({header:"Datenbank Erstellung fehlgeschlagen",message:"Willst du es nochmal probieren?",buttons:[{text:"Nochmal versuchen",cssClass:"ion-alert-primary",handler:()=>{t.startupProcess()}}]})).present()})()}doInfinite(t){var i=this;return(0,h.Z)(function*(){i.isAllLoaded||(i.detailsPagingNumber++,yield i.updateTimelineData()),t.target.complete()})()}updateTimelineData(){var t=this;return(0,h.Z)(function*(){yield t.loadTimelineData()})()}clearTimelineTable(){var t=this;return(0,h.Z)(function*(){t.isAllLoaded=!1,t.tagePagingNumber=0,t.detailsPagingNumber=0,t.tage=[],t.timelineTable={tage:[],symptome:[],essen:[],tagesform:[],aktivitaeten:[]}})()}loadTimelineData(){var t=this;return(0,h.Z)(function*(){const i=performance.now();t.detailsPagingNumber%4==0&&(yield t.loadTagesWithPaging()),yield t.loadFiveDays(),yield t.loadSymptome(),yield t.loadEssen(),yield t.loadTagesform(),yield t.loadAktivitaet();const l=performance.now();console.log("loadTimelineData took "+(l-i)+" milliseconds."),console.log(t.timelineTable)})()}loadDetails(t){var i=this;return(0,h.Z)(function*(){const l=performance.now();i.timelineTable.essen=yield i.databaseCrudService.essenRepository.findAllInRange(t);const b=performance.now();console.log("Time to load Essen: "+(b-l)),i.timelineTable.aktivitaeten=yield i.databaseCrudService.aktivitaetRepository.findAllInRange(t);const E=performance.now();console.log("Time to load Aktivitaet: "+(E-b)),i.timelineTable.symptome=yield i.databaseCrudService.symptomRepository.findAllInRange(t);const ee=performance.now();console.log("Time to load Symptome: "+(ee-E)),i.timelineTable.tagesform=yield i.databaseCrudService.tagesformRepository.findAllInRange(t);const Q=performance.now();console.log("Time to load Tagesform: "+(Q-ee));const G=performance.now();console.log("loadFiveDays: "+(G-l)+" ms")})()}loadFiveDays(){var t=this;return(0,h.Z)(function*(){if(t.tage.length>0&&5*t.detailsPagingNumber+5<=t.tage.length){const i=t.tage.slice(5*t.detailsPagingNumber,5*t.detailsPagingNumber+5),l=i.map(b=>b.id);t.timelineTable.tage=t.timelineTable.tage.concat(i),yield t.loadDetails(l)}else{if(!(t.tage.length>0&&5*t.detailsPagingNumber+5>t.tage.length))return console.log("error with database or timelineTable is empty"),0;{const i=t.tage.slice(5*t.detailsPagingNumber,t.tage.length),l=i.map(b=>b.id);t.timelineTable.tage=t.timelineTable.tage.concat(i),yield t.loadDetails(l),t.isAllLoaded=!0}}})()}loadTagesWithPaging(){var t=this;return(0,h.Z)(function*(){const i=performance.now();yield t.databaseCrudService.getTagesInRnage(20*t.tagePagingNumber,20).then(l=>{if(l.values){t.tage=t.tage.concat(l.values.filter(E=>!E.date.startsWith("T")));const b=performance.now();console.log("Time to load Tage: "+(b-i)),t.tagePagingNumber++}}).catch(l=>{l&&console.log(l)})})()}loadTage(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getTageList().then(i=>{i.values&&(t.timelineTable.tage=i.values)}).catch(i=>{i&&console.log(i)})})()}loadSymptome(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getSymptomeList().then(i=>{i.values&&(t.timelineTable.symptome=i.values)}).catch(i=>{i&&console.error(i)})})()}loadEssen(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getEssenList().then(i=>{i&&(t.timelineTable.essen=i)}).catch(i=>{i&&console.log(i)})})()}loadTagesform(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getTagesformList().then(i=>{i.values&&(t.timelineTable.tagesform=i.values)}).catch(i=>{i&&console.log(i)})})()}loadAktivitaet(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getAktivitaetList().then(i=>{i.values&&(t.timelineTable.aktivitaeten=i.values)}).catch(i=>{i&&console.log(i)})})()}resetDatabase(){var t=this;return(0,h.Z)(function*(){yield t.clearTimelineTable();const i=(new Date).toISOString().split("T")[0];yield t.createNeuerTagNachWunsch(i)})()}startTimeline(){var t=this;return(0,h.Z)(function*(){yield t.resetDatabase(),yield t.toastService.showSuccessToast(t.translateService.instant("tagebuch-timeline.app-gestartet"))})()}presentAlertBeforeStartingTimeline(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({header:"Timeline starten",message:"Willst du die Timeline starten? Eventuelle alte Eintr\xe4ge werden gel\xf6scht.",buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:"Timeline starten",cssClass:"ion-alert-primary",handler:()=>{t.startTimeline()}}]})).present()})()}presentCreateDayAlert(){var t=this;return(0,h.Z)(function*(){var l;yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.tag-erstellen-title"),message:t.translateService.instant("tagebuch-timeline.tag-erstellen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.tag-erstellen"),cssClass:"ion-alert-primary",handler:(l=(0,h.Z)(function*(b){if(console.log("presentCreateDayAlert",b.date),b.date){const E=b.date+"T00:00:00+01:00";yield t.createNeuerTagNachWunsch(E);const ee=fe().tz("Europe/Berlin",!0).format();console.log(ee)}else t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.error-adding-empty-day"))}),function(E){return l.apply(this,arguments)})}]})).present()})()}addingDayWithoutRefresh(t){var i=this;return(0,h.Z)(function*(){i.timelineTable.tage.push(t.values[0]),i.timelineTable.tage.sort((Q,G)=>new Date(G.date).getTime()-new Date(Q.date).getTime());const b={id:t.values[0].id,tageid:t.values[0].id,lastModified:null},E={id:t.values[0].id,tageid:t.values[0].id,lastModified:null},ee={id:t.values[0].id,tageid:t.values[0].id,lastModified:null};i.timelineTable.essen.push({id:t.values[0].id,tageid:t.values[0].id,lastModified:null}),i.timelineTable.tagesform.push(b),i.timelineTable.aktivitaeten.push(E),i.timelineTable.symptome.push(ee),i.timelineTable.essen.sort((Q,G)=>new Date(G.tageid).getTime()-new Date(Q.tageid).getTime()),i.timelineTable.tagesform.sort((Q,G)=>new Date(G.tageid).getTime()-new Date(Q.tageid).getTime()),i.timelineTable.aktivitaeten.sort((Q,G)=>new Date(G.tageid).getTime()-new Date(Q.tageid).getTime()),i.timelineTable.symptome.sort((Q,G)=>new Date(G.tageid).getTime()-new Date(Q.tageid).getTime())})()}createNeuerTagNachWunsch(t){var i=this;return(0,h.Z)(function*(){const l=function(){var b=(0,h.Z)(function*(E){yield ge.alert({title:"Error Dialog",message:E})});return function(ee){return b.apply(this,arguments)}}();try{yield i.databaseCrudService.postNeuerTagAnyDay(t).then(()=>{i.clearTimelineTable(),i.updateTimelineData()}).catch(b=>{b&&i.toastService.showErrorToast(i.translateService.instant("tagebuch-timeline.tag-erstellen-fehler"))})}catch(b){yield l(b.message)}})()}presentDeleteDayAlert(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.tag-loeschen-title"),message:t.translateService.instant("tagebuch-timeline.tag-loeschen-message"),inputs:[{type:"date",name:"date"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.tag-loeschen"),cssClass:"ion-alert-primary",handler:l=>{console.log(l.date),t.deleteTagNachWunsch(l.date)}}]})).present()})()}deleteTagNachWunsch(t){var i=this;return(0,h.Z)(function*(){const l=function(){var b=(0,h.Z)(function*(E){yield ge.alert({title:"Error Dialog",message:E})});return function(ee){return b.apply(this,arguments)}}();try{yield i.databaseCrudService.deleteTagAnyDay(t).then(()=>{i.clearTimelineTable(),i.updateTimelineData()}).catch(b=>{b&&i.toastService.showErrorToast(i.translateService.instant("tagebuch-timeline.tag-loeschen-fehler"))})}catch(b){yield l(b.message)}})()}shareJSON(){var t=this;return(0,h.Z)(function*(){yield t.databaseCrudService.getTablesCombined().then(i=>{i.values&&(t.timelineTableInnerJoin=i.values)}).catch(i=>{i&&console.log(i)}),yield t.presentExportSwitch()})()}presentExportSwitch(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({header:t.translateService.instant("tagebuch-timeline.daten-exportieren-header"),message:t.translateService.instant("tagebuch-timeline.daten-exportieren-message"),inputs:[{name:t.translateService.instant("tagebuch-timeline.txt-datei"),type:"radio",label:t.translateService.instant("tagebuch-timeline.txt-datei"),value:"txt",checked:!0},{name:t.translateService.instant("tagebuch-timeline.csv-datei"),type:"radio",label:t.translateService.instant("tagebuch-timeline.csv-datei"),value:"csv"}],buttons:[{text:t.translateService.instant("tagebuch-timeline.back"),role:"cancel",cssClass:"ion-alert-grey",handler:()=>{}},{text:t.translateService.instant("tagebuch-timeline.exportieren"),handler:l=>{"txt"===l?(t.createExportDataTXT(t.timelineTableInnerJoin),t.createFileExportAndShare("LongCovid_Export.txt",t.txt,t.translateService.instant("tagebuch-timeline.teile-txt"))):"csv"===l?(t.createExportDataCSV(t.timelineTableInnerJoin),t.createFileExportAndShare("LongCovid_Export.csv",t.csv,t.translateService.instant("tagebuch-timeline.teile-csv"))):t.toastService.showErrorToast(t.translateService.instant("tagebuch-timeline.export-fehler"))}}]})).present()})()}createExportDataCSV(t){var i=this;return(0,h.Z)(function*(){const l=[],b=t.length;for(let E=0;E<b;E++)l.push(Object.values(t[E]));i.csv=i.papa.unparse({fields:Object.keys(t[t.length-1]),data:l})})()}createExportDataTXT(t){var i=this;return(0,h.Z)(function*(){i.txt="",t&&(console.log(t),t.forEach(l=>{const b=i.dateOnlyPipe.transform(l.date)+"\nSymptome_Checkboxen: "+i.commaBlankSeparatorPipe.transform(l.symptom_names_checkboxes)+"\nSymptome_Freitext: "+l.symptom_names+"\nHusten: "+l.husten_value+"\nFieber: "+l.fieber_value+"\xb0 Celsius\nFatigue: "+l.fatigue_value+"\nBrustschmerzen: "+l.brustschmerzen_value+"\nKopfschmerzen: "+l.kopfschmerzen_value+"\nGeschmacksverlust: "+l.geschmacksverlust_value+"\nNeurologische St\xf6rung: "+l.neurologische_stoerung_value+"\nMuskelschmerzen: "+l.muskelschmerzen_value+"\nHautausschlag: "+l.hautausschlag_value+"\nFr\xfchst\xfcck: "+l.vormittag+"\nMittag: "+l.mittag+"\nAbend: "+l.abend+"\nMedikamente: "+l.medikamente_value+"\nTagesform: "+l.tagesform_value+"\nErsch\xf6pfungsart: "+l.erschoepfungsart_value+"\nSchlaf: "+l.schlaf_value+"\nStimmung: "+l.stimmung_value+"\nAktivitaeten_Checkboxen: "+i.commaBlankSeparatorPipe.transform(l.aktivitaeten_names_checkboxes)+"\nAktivitaeten_Freitext: "+l.aktivitaeten_names+"\nSport: "+l.sport_value+"\nArbeit: "+l.arbeit_value+"\nHausarbeit: "+l.hausarbeit_value+"\nEntspannung: "+l.entspannung_value+"\n\n";i.txt+=b}))})()}createFileExportAndShare(t,i,l){var b=this;return(0,h.Z)(function*(){yield ce.fy.writeFile({directory:ce.tP.External,path:t,data:i,encoding:ce.ez.UTF16}).then(E=>{console.log(E),v.m.share({title:"PatientStrength Timeline",text:b.translateService.instant("tagebuch-timeline.erfassung-hinweis"),url:E.uri,dialogTitle:l}).catch(ee=>{console.log("Share failed:",ee)})},E=>{console.log("Error: ",E)})})()}createDatabaseExport(t){this.databaseCrudService.createDatabaseExport(t).then(i=>i).catch(i=>{i&&(console.log(i),this.toastService.showErrorToast(i.toString()))})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(x.F0),e.\u0275\u0275directiveInject(Ee.y),e.\u0275\u0275directiveInject(be.L),e.\u0275\u0275directiveInject(D.AlertController),e.\u0275\u0275directiveInject(De),e.\u0275\u0275directiveInject(ye.sK),e.\u0275\u0275directiveInject(we.x0),e.\u0275\u0275directiveInject(Ie.v),e.\u0275\u0275directiveInject(X.m),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(a))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-tagebuch-timeline"]],decls:16,vars:4,consts:[["id","ion-logo","slot","start","src","/assets/images/patient-strength_logo.png",1,"ml-2"],["slot","start","class","ion-padding-right-0",4,"ngIf"],["slot","start",4,"ngIf"],["slot","end"],["expand","block","fill","clear","routerLink","/analyse",1,"m-0","p-0"],["name","pulse",1,"ion-icon","ion-font-20"],["expand","block","fill","clear",1,"m-0","p-0",3,"click"],["name","share-social-outline",1,"ion-icon","ion-font-20"],["name","trash-bin",1,"ion-icon","ion-font-20"],["name","add-circle-outline",1,"ion-icon","ion-font-20"],["class","vh-100",4,"ngIf"],["slot","start",1,"ion-padding-right-0"],["slot","start"],[1,"vh-100"],[1,"pt-timeline","mt-1"],["class","w-100 pt-timelime-item",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","lines"],[1,"w-100","pt-timelime-item"],["size","2",1,"w-100"],[1,"pt-timelime-item-row"],[4,"ngFor","ngForOf"],["size","10",1,"w-100","pr-0"],[1,"pt-date-title"],[1,"pl-0"],[1,"pl-0","w-100","pt-timeline-card","ion-flex-grow-1",3,"routerLink"],[1,"mb-1","ion-align-items-center"],["size","10"],[1,"pt-bold"],["size","2",1,"ion-text-end"],["name","arrow-forward-outline",1,"ion-icon","ion-font-25","ion-vertical-align-middle"],[4,"ngIf"],["class","pt-timelime-item-icon pt-timelime-item-icon-checkmark","name","checkmark-outline",4,"ngIf","ngIfElse"],["helpIcon",""],["name","checkmark-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-checkmark"],["name","help-outline",1,"pt-timelime-item-icon","pt-timelime-item-icon-help"],["class","pl-0 w-100 pt-timeline-card ion-flex-grow-1",3,"routerLink",4,"ngIf"],[1,"mb-1"],["expand","block","fill","clear","size","default",1,"w-100","pt-circlebutton",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar"),e.\u0275\u0275element(2,"ion-img",0),e.\u0275\u0275template(3,f,3,3,"ion-title",1),e.\u0275\u0275template(4,y,3,3,"ion-title",2),e.\u0275\u0275elementStart(5,"ion-buttons",3)(6,"ion-button",4),e.\u0275\u0275element(7,"ion-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-button",6),e.\u0275\u0275listener("click",function(){return i.shareJSON()}),e.\u0275\u0275element(9,"ion-icon",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-button",6),e.\u0275\u0275listener("click",function(){return i.presentDeleteDayAlert()}),e.\u0275\u0275element(11,"ion-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ion-button",6),e.\u0275\u0275listener("click",function(){return i.presentCreateDayAlert()}),e.\u0275\u0275element(13,"ion-icon",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(14,Ae,5,1,"ion-content",10),e.\u0275\u0275template(15,Be,4,3,"ion-content",10)),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Android"===i.deviceInfo.os),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","iOS"===i.deviceInfo.os||"Windows"===i.deviceInfo.os),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",i.timelineTable.tage.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===i.timelineTable.tage.length))},dependencies:[me.NgForOf,me.NgIf,D.IonButton,D.IonButtons,D.IonCard,D.IonCardContent,D.IonCol,D.IonContent,D.IonGrid,D.IonHeader,D.IonIcon,D.IonImg,D.IonInfiniteScroll,D.IonInfiniteScrollContent,D.IonRow,D.IonText,D.IonTitle,D.IonToolbar,D.RouterLinkDelegate,x.rH,ye.X$,X.m,r,c.R,p.V,C],styles:['[_ngcontent-%COMP%]:root{--ion-color-primary: rgba(99, 194, 222, 1);--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: rgb(64, 165, 195);--ion-color-primary-tint: rgb(112, 217, 248);--ion-color-secondary: rgba(86, 180, 114, 1);--ion-color-secondary-rgb: 12, 209, 232;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: rgb(39, 165, 77);--ion-color-secondary-tint: rgb(101, 227, 139);--ion-color-tertiary: #7044ff;--ion-color-tertiary-rgb: 112, 68, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #633ce0;--ion-color-tertiary-tint: #7e57ff;--ion-color-success: rgb(86, 180, 114);--ion-color-success-rgb: 16, 220, 96;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #0ec254;--ion-color-success-tint: #28e070;--ion-color-warning: #ffce00;--ion-color-warning-rgb: 255, 206, 0;--ion-color-warning-contrast: #ffffff;--ion-color-warning-contrast-rgb: 255, 255, 255;--ion-color-warning-shade: #e0b500;--ion-color-warning-tint: #ffd31a;--ion-color-danger: rgb(219, 82, 82);--ion-color-danger-rgb: 245, 61, 61;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: rgb(176, 33, 33);--ion-color-danger-tint: rgb(252, 96, 96);--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 34, 34;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152, 154, 162;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 244, 244;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-white: white;--ion-color-analyse-1: rgba(86, 180, 114, 1);--ion-color-analyse-2: rgba(119, 156, 106, 1);--ion-color-analyse-3: rgba(153, 131, 98, 1);--ion-color-analyse-4: rgba(186, 107, 90, 1);--ion-color-analyse-5: rgba(219, 82, 82, 1);--ion-color-analyse-null: #989aa2;--health-bar-color-3: rgb(86, 180, 114);--health-bar-color-2: rgb(231, 210, 27);--health-bar-color-1: rgb(219, 82, 82);--health-bar-color-0: rgba(255, 255, 255, 0);--ion-toolbar-background: var(--ion-color-white)}.health-bar-color-0[_ngcontent-%COMP%]{background-color:var(--health-bar-color-0)!important}.health-bar-color-1[_ngcontent-%COMP%]{background-color:var(--health-bar-color-1)!important;color:#fff!important}.health-bar-color-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]{background-color:var(--health-bar-color-2)!important;color:#fff!important}.health-bar-color-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]{background-color:var(--health-bar-color-3)!important;color:#fff!important}.health-bar-color-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-2)!important;color:#fff!important}.ion-color-analyse-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-3)!important;color:#fff!important}.ion-color-analyse-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-4)!important;color:#fff!important}.ion-color-analyse-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-5)!important;color:#fff!important}.ion-color-analyse-5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-null[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]{background-color:var(--ion-color-analyse-null)!important;color:#fff!important}.ion-color-analyse-NaN[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff!important}ion-content[_ngcontent-%COMP%]{animation:fade-in .5s cubic-bezier(.39,.575,.565,1) both}ion-icon[_ngcontent-%COMP%]{color:#999}.ion-padding-right-0[_ngcontent-%COMP%]{padding-right:0}.pt-timelime-item[_ngcontent-%COMP%]:before{content:"";position:relative;top:30px;bottom:0;width:10px;background:#a9d8e6;left:9.7%;margin-left:-10px}.pt-timelime-item-icon[_ngcontent-%COMP%]{width:25px;height:25px;background:white;border-radius:50%;box-shadow:0 0 0 7px #a9d8e6;text-align:center;padding:.5rem;position:absolute;margin:auto;left:6px}.pt-timelime-item-icon-help[_ngcontent-%COMP%]{color:#ffb94e}.pt-timelime-item-icon-checkmark[_ngcontent-%COMP%]{color:#49a263}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:51px;content:" ";height:0;width:0;position:absolute;pointer-events:none;border:10px solid transparent;border-left-color:#a9d8e6;top:17px;display:inline-block}.pt-timeline-card[_ngcontent-%COMP%]{margin:.3rem .3rem .3rem .4rem}.pt-date-title[_ngcontent-%COMP%]{color:#fff;padding-top:.3rem;padding-left:.4rem;position:relative}.pt-circlebutton[_ngcontent-%COMP%]{display:block;width:230px;height:230px;border:12px solid rgba(255,255,255,.5);border-radius:50%;color:#63c2de;text-align:center;text-decoration:none;background:rgba(255,255,255,.8);box-shadow:0 0 3px gray;margin:50% auto 0;font-weight:900}.pt-reset-button[_ngcontent-%COMP%]{color:#fff;background:#a9d8e6!important;margin:0 .85rem 1rem;border-radius:4px;width:93%}@media screen and (min-width: 700px){.pt-calendar[_ngcontent-%COMP%]{width:2rem;height:2rem}.pt-timelime-item[_ngcontent-%COMP%]:before{left:9.2%}.pt-timelime-item-icon[_ngcontent-%COMP%]{left:32%}.pt-timelime-item-row[_ngcontent-%COMP%]:after{left:83px}.pt-reset-button[_ngcontent-%COMP%]{width:96.7%}}']}),n})()}];let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[x.Bz.forChild(Re),x.Bz]}),n})();var Fe=_(1511),$e=_(5339);let ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[r,X.m,c.R,p.V,$e.M,C],imports:[me.CommonModule,ue.FormsModule,D.IonicModule,Le,ye.aw,Fe.m]}),n})()},1511:(Oe,xe,_)=>{"use strict";_.d(xe,{m:()=>D});var me=_(6895),ue=_(6738);let D=(()=>{class x{}return x.\u0275fac=function(ae){return new(ae||x)},x.\u0275mod=ue.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=ue.\u0275\u0275defineInjector({imports:[me.CommonModule]}),x})()},3028:function(Oe,xe){var _,ue;_=function D(){"use strict";var x=typeof self<"u"?self:typeof window<"u"?window:void 0!==x?x:{},h=!x.document&&!!x.postMessage,ae=x.IS_PAPA_WORKER||!1,ge={},fe=0,v={parse:function(o,a){var r=(a=a||{}).dynamicTyping||!1;if(C(r)&&(a.dynamicTypingFunction=r,r={}),a.dynamicTyping=r,a.transform=!!C(a.transform)&&a.transform,a.worker&&v.WORKERS_SUPPORTED){var c=function(){if(!v.WORKERS_SUPPORTED)return!1;var z,M,f=(z=x.URL||x.webkitURL||null,M=D.toString(),v.BLOB_URL||(v.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))),y=new x.Worker(f);return y.onmessage=De,y.id=fe++,ge[y.id]=y}();return c.userStep=a.step,c.userChunk=a.chunk,c.userComplete=a.complete,c.userError=a.error,a.step=C(a.step),a.chunk=C(a.chunk),a.complete=C(a.complete),a.error=C(a.error),delete a.worker,void c.postMessage({input:o,config:a,workerId:c.id})}var f,p=null;return"string"==typeof o?(o=65279===(f=o).charCodeAt(0)?f.slice(1):f,p=a.download?new Te(a):new ve(a)):!0===o.readable&&C(o.read)&&C(o.on)?p=new e(a):(x.File&&o instanceof File||o instanceof Object)&&(p=new he(a)),p.stream(o)},unparse:function(o,a){var r=!1,c=!0,p=",",f="\r\n",y='"',z=y+y,M=!1,m=null,A=!1;!function(){if("object"==typeof a){if("string"!=typeof a.delimiter||v.BAD_DELIMITERS.filter(function(d){return-1!==a.delimiter.indexOf(d)}).length||(p=a.delimiter),("boolean"==typeof a.quotes||"function"==typeof a.quotes||Array.isArray(a.quotes))&&(r=a.quotes),"boolean"!=typeof a.skipEmptyLines&&"string"!=typeof a.skipEmptyLines||(M=a.skipEmptyLines),"string"==typeof a.newline&&(f=a.newline),"string"==typeof a.quoteChar&&(y=a.quoteChar),"boolean"==typeof a.header&&(c=a.header),Array.isArray(a.columns)){if(0===a.columns.length)throw new Error("Option columns is empty");m=a.columns}void 0!==a.escapeChar&&(z=a.escapeChar+y),("boolean"==typeof a.escapeFormulae||a.escapeFormulae instanceof RegExp)&&(A=a.escapeFormulae instanceof RegExp?a.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var g=new RegExp(be(y),"g");if("string"==typeof o&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return Y(null,o,M);if("object"==typeof o[0])return Y(m||Object.keys(o[0]),o,M)}else if("object"==typeof o)return"string"==typeof o.data&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||m),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:"object"==typeof o.data[0]?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||"object"==typeof o.data[0]||(o.data=[o.data])),Y(o.fields||[],o.data||[],M);throw new Error("Unable to serialize unrecognized input");function Y(d,w,Z){var N="";"string"==typeof d&&(d=JSON.parse(d)),"string"==typeof w&&(w=JSON.parse(w));var V=Array.isArray(d)&&0<d.length,L=!Array.isArray(w[0]);if(V&&c){for(var F=0;F<d.length;F++)0<F&&(N+=p),N+=W(d[F],F);0<w.length&&(N+=f)}for(var u=0;u<w.length;u++){var T=V?d.length:w[u].length,P=!1,$=V?0===Object.keys(w[u]).length:0===w[u].length;if(Z&&!V&&(P="greedy"===Z?""===w[u].join("").trim():1===w[u].length&&0===w[u][0].length),"greedy"===Z&&V){for(var I=[],j=0;j<T;j++)I.push(w[u][L?d[j]:j]);P=""===I.join("").trim()}if(!P){for(var k=0;k<T;k++)0<k&&!$&&(N+=p),N+=W(w[u][V&&L?d[k]:k],k);u<w.length-1&&(!Z||0<T&&!$)&&(N+=f)}}return N}function W(d,w){if(null==d)return"";if(d.constructor===Date)return JSON.stringify(d).slice(1,25);var Z=!1;A&&"string"==typeof d&&A.test(d)&&(d="'"+d,Z=!0);var N=d.toString().replace(g,z);return(Z=Z||!0===r||"function"==typeof r&&r(d,w)||Array.isArray(r)&&r[w]||function(V,L){for(var F=0;F<L.length;F++)if(-1<V.indexOf(L[F]))return!0;return!1}(N,v.BAD_DELIMITERS)||-1<N.indexOf(p)||" "===N.charAt(0)||" "===N.charAt(N.length-1))?y+N+y:N}}};if(v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK="\ufeff",v.BAD_DELIMITERS=["\r","\n",'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!h&&!!x.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=Se,v.ParserHandle=Ee,v.NetworkStreamer=Te,v.FileStreamer=he,v.StringStreamer=ve,v.ReadableStreamStreamer=e,x.jQuery){var ce=x.jQuery;ce.fn.parse=function(o){var a=o.config||{},r=[];return this.each(function(f){if("INPUT"!==ce(this).prop("tagName").toUpperCase()||"file"!==ce(this).attr("type").toLowerCase()||!x.FileReader||!this.files||0===this.files.length)return!0;for(var y=0;y<this.files.length;y++)r.push({file:this.files[y],inputElem:this,instanceConfig:ce.extend({},a)})}),c(),this;function c(){if(0!==r.length){var y,z,M,m=r[0];if(C(o.before)){var A=o.before(m.file,m.inputElem);if("object"==typeof A){if("abort"===A.action)return"AbortError",y=m.file,z=m.inputElem,M=A.reason,void(C(o.error)&&o.error({name:"AbortError"},y,z,M));if("skip"===A.action)return void p();"object"==typeof A.config&&(m.instanceConfig=ce.extend(m.instanceConfig,A.config))}else if("skip"===A)return void p()}var g=m.instanceConfig.complete;m.instanceConfig.complete=function(Y){C(g)&&g(Y,m.file,m.inputElem),p()},v.parse(m.file,m.instanceConfig)}else C(o.complete)&&o.complete()}function p(){r.splice(0,1),c()}}}function te(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var r=Ie(a);r.chunkSize=parseInt(r.chunkSize),a.step||a.chunk||(r.chunkSize=null),this._handle=new Ee(r),(this._handle.streamer=this)._config=r}.call(this,o),this.parseChunk=function(a,r){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var c=this._config.beforeFirstChunk(a);void 0!==c&&(a=c)}this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+a;this._partialLine="";var f=this._handle.parse(p,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var y=f.meta.cursor;this._finished||(this._partialLine=p.substring(y-this._baseIndex),this._baseIndex=y),f&&f.data&&(this._rowCount+=f.data.length);var z=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(ae)x.postMessage({results:f,workerId:v.WORKER_ID,finished:z});else if(C(this._config.chunk)&&!r){if(this._config.chunk(f,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);f=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(f.data),this._completeResults.errors=this._completeResults.errors.concat(f.errors),this._completeResults.meta=f.meta),this._completed||!z||!C(this._config.complete)||f&&f.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||f&&f.meta.paused||this._nextChunk(),f}this._halted=!0},this._sendError=function(a){C(this._config.error)?this._config.error(a):ae&&this._config.error&&x.postMessage({workerId:v.WORKER_ID,error:a,finished:!1})}}function Te(o){var a;(o=o||{}).chunkSize||(o.chunkSize=v.RemoteChunkSize),te.call(this,o),this._nextChunk=h?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),h||(a.onload=X(this._chunkLoaded,this),a.onerror=X(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!h),this._config.downloadRequestHeaders){var r=this._config.downloadRequestHeaders;for(var c in r)a.setRequestHeader(c,r[c])}this._config.chunkSize&&a.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{a.send(this._config.downloadRequestBody)}catch(f){this._chunkError(f.message)}h&&0===a.status&&this._chunkError()}},this._chunkLoaded=function(){var c;4===a.readyState&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(c=a.getResponseHeader("Content-Range"))?-1:parseInt(c.substring(c.lastIndexOf("/")+1))),this.parseChunk(a.responseText)))},this._chunkError=function(r){this._sendError(new Error(a.statusText||r))}}function he(o){var a,r;(o=o||{}).chunkSize||(o.chunkSize=v.LocalChunkSize),te.call(this,o);var c=typeof FileReader<"u";this.stream=function(p){this._input=p,r=p.slice||p.webkitSlice||p.mozSlice,c?((a=new FileReader).onload=X(this._chunkLoaded,this),a.onerror=X(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var p=this._input;if(this._config.chunkSize){var f=Math.min(this._start+this._config.chunkSize,this._input.size);p=r.call(p,this._start,f)}var y=a.readAsText(p,this._config.encoding);c||this._chunkLoaded({target:{result:y}})},this._chunkLoaded=function(p){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(p.target.result)},this._chunkError=function(){this._sendError(a.error)}}function ve(o){var a;te.call(this,o=o||{}),this.stream=function(r){return a=r,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var r,c=this._config.chunkSize;return c?(r=a.substring(0,c),a=a.substring(c)):(r=a,a=""),this._finished=!a,this.parseChunk(r)}}}function e(o){te.call(this,o=o||{});var a=[],r=!0,c=!1;this.pause=function(){te.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){te.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(p){this._input=p,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){c&&1===a.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):r=!0},this._streamData=X(function(p){try{a.push("string"==typeof p?p:p.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(f){this._streamError(f)}},this),this._streamError=X(function(p){this._streamCleanUp(),this._sendError(p)},this),this._streamEnd=X(function(){this._streamCleanUp(),c=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ee(o){var a,r,c,p=Math.pow(2,53),f=-p,y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,m=0,A=0,g=!1,Y=!1,W=[],d={data:[],errors:[],meta:{}};if(C(o.step)){var w=o.step;o.step=function(u){if(d=u,V())N();else{if(N(),0===d.data.length)return;m+=u.data.length,o.preview&&m>o.preview?r.abort():(d.data=d.data[0],w(d,M))}}}function Z(u){return"greedy"===o.skipEmptyLines?""===u.join("").trim():1===u.length&&0===u[0].length}function N(){return d&&c&&(F("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),c=!1),o.skipEmptyLines&&(d.data=d.data.filter(function(u){return!Z(u)})),V()&&function(){if(d)if(Array.isArray(d.data[0])){for(var T=0;V()&&T<d.data.length;T++)d.data[T].forEach(u);d.data.splice(0,1)}else d.data.forEach(u);function u(P,$){C(o.transformHeader)&&(P=o.transformHeader(P,$)),W.push(P)}}(),function(){if(!d||!o.header&&!o.dynamicTyping&&!o.transform)return d;function u(P,$){var I,j=o.header?{}:[];for(I=0;I<P.length;I++){var B=I,k=P[I];o.header&&(B=I>=W.length?"__parsed_extra":W[I]),o.transform&&(k=o.transform(k,B)),k=L(B,k),"__parsed_extra"===B?(j[B]=j[B]||[],j[B].push(k)):j[B]=k}return o.header&&(I>W.length?F("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+I,A+$):I<W.length&&F("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+I,A+$)),j}var T=1;return!d.data.length||Array.isArray(d.data[0])?(d.data=d.data.map(u),T=d.data.length):d.data=u(d.data,0),o.header&&d.meta&&(d.meta.fields=W),A+=T,d}()}function V(){return o.header&&0===W.length}function L(u,T){return P=u,o.dynamicTypingFunction&&void 0===o.dynamicTyping[P]&&(o.dynamicTyping[P]=o.dynamicTypingFunction(P)),!0===(o.dynamicTyping[P]||o.dynamicTyping)?"true"===T||"TRUE"===T||"false"!==T&&"FALSE"!==T&&(function($){if(y.test($)){var I=parseFloat($);if(f<I&&I<p)return!0}return!1}(T)?parseFloat(T):z.test(T)?new Date(T):""===T?null:T):T;var P}function F(u,T,P,$){var I={type:u,code:T,message:P};void 0!==$&&(I.row=$),d.errors.push(I)}this.parse=function(u,T,P){if(o.newline||(o.newline=function(B,k){B=B.substring(0,1048576);var oe=new RegExp(be(k)+"([^]*?)"+be(k),"gm"),J=(B=B.replace(oe,"")).split("\r"),q=B.split("\n");if(1===J.length||1<q.length&&q[0].length<J[0].length)return"\n";for(var U=0,O=0;O<J.length;O++)"\n"===J[O][0]&&U++;return U>=J.length/2?"\r\n":"\r"}(u,o.quoteChar||'"')),c=!1,o.delimiter)C(o.delimiter)&&(o.delimiter=o.delimiter(u),d.meta.delimiter=o.delimiter);else{var I=function(B,k,oe,J,q){var ne,U,O,R;q=q||[",","\t","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var de=0;de<q.length;de++){var S=q[de],_e=0,ie=0,pe=0;O=void 0;for(var re=new Se({comments:J,delimiter:S,newline:k,preview:10}).parse(B),le=0;le<re.data.length;le++)if(oe&&Z(re.data[le]))pe++;else{var se=re.data[le].length;ie+=se,void 0!==O?0<se&&(_e+=Math.abs(se-O),O=se):O=se}0<re.data.length&&(ie/=re.data.length-pe),(void 0===U||_e<=U)&&(void 0===R||R<ie)&&1.99<ie&&(U=_e,ne=S,R=ie)}return{successful:!!(o.delimiter=ne),bestDelimiter:ne}}(u,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess);I.successful?o.delimiter=I.bestDelimiter:(c=!0,o.delimiter=v.DefaultDelimiter),d.meta.delimiter=o.delimiter}var j=Ie(o);return o.preview&&o.header&&j.preview++,a=u,r=new Se(j),d=r.parse(a,T,P),N(),g?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return g},this.pause=function(){g=!0,r.abort(),a=C(o.chunk)?"":a.substring(r.getCharIndex())},this.resume=function(){M.streamer._halted?(g=!1,M.streamer.parseChunk(a,!0)):setTimeout(M.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,r.abort(),d.meta.aborted=!0,C(o.complete)&&o.complete(d),a=""}}function be(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Se(o){var a,r=(o=o||{}).delimiter,c=o.newline,p=o.comments,f=o.step,y=o.preview,z=o.fastMode,M=a=null==o.quoteChar?'"':o.quoteChar;if(void 0!==o.escapeChar&&(M=o.escapeChar),("string"!=typeof r||-1<v.BAD_DELIMITERS.indexOf(r))&&(r=","),p===r)throw new Error("Comment character same as delimiter");!0===p?p="#":("string"!=typeof p||-1<v.BAD_DELIMITERS.indexOf(p))&&(p=!1),"\n"!==c&&"\r"!==c&&"\r\n"!==c&&(c="\n");var m=0,A=!1;this.parse=function(g,Y,W){if("string"!=typeof g)throw new Error("Input must be a string");var d=g.length,w=r.length,Z=c.length,N=p.length,V=C(f),L=[],F=[],u=[],T=m=0;if(!g)return K();if(o.header){var P=g.split(c)[0].split(r),$=[],I={},j=!1;for(var B in P){var k=P[B];C(o.transformHeader)&&(k=o.transformHeader(k,B));var oe=k,J=I[k]||0;0<J&&(j=!0,oe=k+"_"+J),I[k]=J+1,$.push(oe)}if(j){var q=g.split(c);q[0]=$.join(r),g=q.join(c)}}if(z||!1!==z&&-1===g.indexOf(a)){for(var ne=g.split(c),U=0;U<ne.length;U++){if(m+=(u=ne[U]).length,U!==ne.length-1)m+=c.length;else if(W)return K();if(!p||u.substring(0,N)!==p){if(V){if(L=[],pe(u.split(r)),Ce(),A)return K()}else pe(u.split(r));if(y&&y<=U)return L=L.slice(0,y),K(!0)}}return K()}for(var O=g.indexOf(r,m),R=g.indexOf(c,m),de=new RegExp(be(M)+be(a),"g"),S=g.indexOf(a,m);;)if(g[m]!==a)if(p&&0===u.length&&g.substring(m,m+N)===p){if(-1===R)return K();R=g.indexOf(c,m=R+Z),O=g.indexOf(r,m)}else if(-1!==O&&(O<R||-1===R))u.push(g.substring(m,O)),O=g.indexOf(r,m=O+w);else{if(-1===R)break;if(u.push(g.substring(m,R)),se(R+Z),V&&(Ce(),A))return K();if(y&&L.length>=y)return K(!0)}else for(S=m,m++;;){if(-1===(S=g.indexOf(a,S+1)))return W||F.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:L.length,index:m}),le();if(S===d-1)return le(g.substring(m,S).replace(de,a));if(a!==M||g[S+1]!==M){if(a===M||0===S||g[S-1]!==M){-1!==O&&O<S+1&&(O=g.indexOf(r,S+1)),-1!==R&&R<S+1&&(R=g.indexOf(c,S+1));var _e=re(-1===R?O:Math.min(O,R));if(g.substr(S+1+_e,w)===r){u.push(g.substring(m,S).replace(de,a)),g[m=S+1+_e+w]!==a&&(S=g.indexOf(a,m)),O=g.indexOf(r,m),R=g.indexOf(c,m);break}var ie=re(R);if(g.substring(S+1+ie,S+1+ie+Z)===c){if(u.push(g.substring(m,S).replace(de,a)),se(S+1+ie+Z),O=g.indexOf(r,m),S=g.indexOf(a,m),V&&(Ce(),A))return K();if(y&&L.length>=y)return K(!0);break}F.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:L.length,index:m}),S++}}else S++}return le();function pe(H){L.push(H),T=m}function re(H){var Pe=0;if(-1!==H){var ke=g.substring(S+1,H);ke&&""===ke.trim()&&(Pe=ke.length)}return Pe}function le(H){return W||(void 0===H&&(H=g.substring(m)),u.push(H),m=d,pe(u),V&&Ce()),K()}function se(H){m=H,pe(u),u=[],R=g.indexOf(c,m)}function K(H){return{data:L,errors:F,meta:{delimiter:r,linebreak:c,aborted:A,truncated:!!H,cursor:T+(Y||0)}}}function Ce(){f(K()),L=[],F=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return m}}function De(o){var a=o.data,r=ge[a.workerId],c=!1;if(a.error)r.userError(a.error,a.file);else if(a.results&&a.results.data){var p={abort:function(){c=!0,ye(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:we,resume:we};if(C(r.userStep)){for(var f=0;f<a.results.data.length&&(r.userStep({data:a.results.data[f],errors:a.results.errors,meta:a.results.meta},p),!c);f++);delete a.results}else C(r.userChunk)&&(r.userChunk(a.results,p,a.file),delete a.results)}a.finished&&!c&&ye(a.workerId,a.results)}function ye(o,a){var r=ge[o];C(r.userComplete)&&r.userComplete(a),r.terminate(),delete ge[o]}function we(){throw new Error("Not implemented.")}function Ie(o){if("object"!=typeof o||null===o)return o;var a=Array.isArray(o)?[]:{};for(var r in o)a[r]=Ie(o[r]);return a}function X(o,a){return function(){o.apply(a,arguments)}}function C(o){return"function"==typeof o}return ae&&(x.onmessage=function(o){var a=o.data;if(void 0===v.WORKER_ID&&a&&(v.WORKER_ID=a.workerId),"string"==typeof a.input)x.postMessage({workerId:v.WORKER_ID,results:v.parse(a.input,a.config),finished:!0});else if(x.File&&a.input instanceof File||a.input instanceof Object){var r=v.parse(a.input,a.config);r&&x.postMessage({workerId:v.WORKER_ID,results:r,finished:!0})}}),(Te.prototype=Object.create(te.prototype)).constructor=Te,(he.prototype=Object.create(te.prototype)).constructor=he,(ve.prototype=Object.create(ve.prototype)).constructor=ve,(e.prototype=Object.create(te.prototype)).constructor=e,v},void 0!==(ue=_.apply(xe,[]))&&(Oe.exports=ue)}}]);