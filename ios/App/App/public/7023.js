"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7023],{7023:(ra,gn,Er)=>{Er.r(gn),Er.d(gn,{jeep_sqlite:()=>vi});var z=Er(5861),xr=Er(8757);const ur=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function vn(){throw new Error("setTimeout has not been defined")}function bn(){throw new Error("clearTimeout has not been defined")}var Ot=vn,jt=bn;function wn(n){if(Ot===setTimeout)return setTimeout(n,0);if((Ot===vn||!Ot)&&setTimeout)return Ot=setTimeout,setTimeout(n,0);try{return Ot(n,0)}catch{try{return Ot.call(null,n,0)}catch{return Ot.call(this,n,0)}}}"function"==typeof ur.setTimeout&&(Ot=setTimeout),"function"==typeof ur.clearTimeout&&(jt=clearTimeout);var Lt,bt=[],Xt=!1,Sr=-1;function Ri(){!Xt||!Lt||(Xt=!1,Lt.length?bt=Lt.concat(bt):Sr=-1,bt.length&&En())}function En(){if(!Xt){var n=wn(Ri);Xt=!0;for(var t=bt.length;t;){for(Lt=bt,bt=[];++Sr<t;)Lt&&Lt[Sr].run();Sr=-1,t=bt.length}Lt=null,Xt=!1,function Ai(n){if(jt===clearTimeout)return clearTimeout(n);if((jt===bn||!jt)&&clearTimeout)return jt=clearTimeout,clearTimeout(n);try{jt(n)}catch{try{return jt.call(null,n)}catch{return jt.call(this,n)}}}(n)}}function xn(n,t){this.fun=n,this.array=t}function $t(){}xn.prototype.run=function(){this.fun.apply(null,this.array)};var Mi=$t,Ui=$t,Zi=$t,qi=$t,Wi=$t,Gi=$t,Hi=$t,er=ur.performance||{},Ji=er.now||er.mozNow||er.msNow||er.oNow||er.webkitNow||function(){return(new Date).getTime()},es=new Date,wt={nextTick:function Ii(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];bt.push(new xn(n,t)),1===bt.length&&!Xt&&wn(En)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Mi,addListener:Ui,once:Zi,off:qi,removeListener:Wi,removeAllListeners:Gi,emit:Hi,binding:function Vi(n){throw new Error("process.binding is not supported")},cwd:function Yi(){return"/"},chdir:function Ki(n){throw new Error("process.chdir is not supported")},umask:function Qi(){return 0},hrtime:function Xi(n){var t=.001*Ji.call(er),e=Math.floor(t),r=Math.floor(t%1*1e9);return n&&(e-=n[0],(r-=n[1])<0&&(e--,r+=1e9)),[e,r]},platform:"browser",release:{},config:{},uptime:function ts(){return(new Date-es)/1e3}},pt=[],at=[],ns=typeof Uint8Array<"u"?Uint8Array:Array,Qr=!1;function Sn(){Qr=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=n.length;t<e;++t)pt[t]=n[t],at[n.charCodeAt(t)]=t;at["-".charCodeAt(0)]=62,at["_".charCodeAt(0)]=63}function ss(n){return pt[n>>18&63]+pt[n>>12&63]+pt[n>>6&63]+pt[63&n]}function os(n,t,e){for(var i=[],s=t;s<e;s+=3)i.push(ss((n[s]<<16)+(n[s+1]<<8)+n[s+2]));return i.join("")}function kr(n,t,e,r,i){var s,a,c=8*i-r-1,f=(1<<c)-1,u=f>>1,v=-7,m=e?i-1:0,w=e?-1:1,y=n[t+m];for(m+=w,s=y&(1<<-v)-1,y>>=-v,v+=c;v>0;s=256*s+n[t+m],m+=w,v-=8);for(a=s&(1<<-v)-1,s>>=-v,v+=r;v>0;a=256*a+n[t+m],m+=w,v-=8);if(0===s)s=1-u;else{if(s===f)return a?NaN:1/0*(y?-1:1);a+=Math.pow(2,r),s-=u}return(y?-1:1)*a*Math.pow(2,s-r)}function Pn(n,t,e,r,i,s){var a,c,f,u=8*s-i-1,v=(1<<u)-1,m=v>>1,w=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:s-1,S=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=v):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),(t+=a+m>=1?w/f:w*Math.pow(2,1-m))*f>=2&&(a++,f/=2),a+m>=v?(c=0,a=v):a+m>=1?(c=(t*f-1)*Math.pow(2,i),a+=m):(c=t*Math.pow(2,m-1)*Math.pow(2,i),a=0));i>=8;n[e+y]=255&c,y+=S,c/=256,i-=8);for(a=a<<i|c,u+=i;u>0;n[e+y]=255&a,y+=S,a/=256,u-=8);n[e+y-S]|=128*g}var as={}.toString,Dn=Array.isArray||function(n){return"[object Array]"==as.call(n)};function Jr(){return ie.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Et(n,t){if(Jr()<t)throw new RangeError("Invalid typed array length");return ie.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=ie.prototype:(null===n&&(n=new ie(t)),n.length=t),n}function ie(n,t,e){if(!(ie.TYPED_ARRAY_SUPPORT||this instanceof ie))return new ie(n,t,e);if("number"==typeof n){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Xr(this,n)}return Tn(this,n,t,e)}function Tn(n,t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?function fs(n,t,e,r){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),ie.TYPED_ARRAY_SUPPORT?(n=t).__proto__=ie.prototype:n=en(n,t),n}(n,t,e,r):"string"==typeof t?function ls(n,t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!ie.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Rn(t,e),i=(n=Et(n,r)).write(t,e);return i!==r&&(n=n.slice(0,i)),n}(n,t,e):function hs(n,t){if(yt(t)){var e=0|tn(t.length);return 0===(n=Et(n,e)).length||t.copy(n,0,0,e),n}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function Is(n){return n!=n}(t.length)?Et(n,0):en(n,t);if("Buffer"===t.type&&Dn(t.data))return en(n,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(n,t)}function An(n){if("number"!=typeof n)throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function Xr(n,t){if(An(t),n=Et(n,t<0?0:0|tn(t)),!ie.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)n[e]=0;return n}function en(n,t){var e=t.length<0?0:0|tn(t.length);n=Et(n,e);for(var r=0;r<e;r+=1)n[r]=255&t[r];return n}function tn(n){if(n>=Jr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jr().toString(16)+" bytes");return 0|n}function yt(n){return!(null==n||!n._isBuffer)}function Rn(n,t){if(yt(n))return n.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!=typeof n&&(n=""+n);var e=n.length;if(0===e)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Tr(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return $n(n).length;default:if(r)return Tr(n).length;t=(""+t).toLowerCase(),r=!0}}function ds(n,t,e){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===e||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(t>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return xs(this,t,e);case"utf8":case"utf-8":return Nn(this,t,e);case"ascii":return ws(this,t,e);case"latin1":case"binary":return Es(this,t,e);case"base64":return vs(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ss(this,t,e);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function zt(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function In(n,t,e,r,i){if(0===n.length)return-1;if("string"==typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:n.length-1),e<0&&(e=n.length+e),e>=n.length){if(i)return-1;e=n.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof t&&(t=ie.from(t,r)),yt(t))return 0===t.length?-1:On(n,t,e,r,i);if("number"==typeof t)return t&=255,ie.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(n,t,e):Uint8Array.prototype.lastIndexOf.call(n,t,e):On(n,[t],e,r,i);throw new TypeError("val must be string, number or Buffer")}function On(n,t,e,r,i){var u,s=1,a=n.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(n.length<2||t.length<2)return-1;s=2,a/=2,c/=2,e/=2}function f(y,S){return 1===s?y[S]:y.readUInt16BE(S*s)}if(i){var v=-1;for(u=e;u<a;u++)if(f(n,u)===f(t,-1===v?0:u-v)){if(-1===v&&(v=u),u-v+1===c)return v*s}else-1!==v&&(u-=u-v),v=-1}else for(e+c>a&&(e=a-c),u=e;u>=0;u--){for(var m=!0,w=0;w<c;w++)if(f(n,u+w)!==f(t,w)){m=!1;break}if(m)return u}return-1}function ms(n,t,e,r){e=Number(e)||0;var i=n.length-e;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;n[e+a]=c}return a}function ps(n,t,e,r){return Ar(Tr(t,n.length-e),n,e,r)}function jn(n,t,e,r){return Ar(function As(n){for(var t=[],e=0;e<n.length;++e)t.push(255&n.charCodeAt(e));return t}(t),n,e,r)}function ys(n,t,e,r){return jn(n,t,e,r)}function _s(n,t,e,r){return Ar($n(t),n,e,r)}function gs(n,t,e,r){return Ar(function Rs(n,t){for(var e,r,s=[],a=0;a<n.length&&!((t-=2)<0);++a)r=(e=n.charCodeAt(a))>>8,s.push(e%256),s.push(r);return s}(t,n.length-e),n,e,r)}function vs(n,t,e){return function kn(n){Qr||Sn();for(var t,e=n.length,r=e%3,i="",s=[],a=16383,c=0,f=e-r;c<f;c+=a)s.push(os(n,c,c+a>f?f:c+a));return 1===r?(i+=pt[(t=n[e-1])>>2],i+=pt[t<<4&63],i+="=="):2===r&&(i+=pt[(t=(n[e-2]<<8)+n[e-1])>>10],i+=pt[t>>4&63],i+=pt[t<<2&63],i+="="),s.push(i),s.join("")}(0===t&&e===n.length?n:n.slice(t,e))}function Nn(n,t,e){e=Math.min(n.length,e);for(var r=[],i=t;i<e;){var f,u,v,m,s=n[i],a=null,c=s>239?4:s>223?3:s>191?2:1;if(i+c<=e)switch(c){case 1:s<128&&(a=s);break;case 2:128==(192&(f=n[i+1]))&&(m=(31&s)<<6|63&f)>127&&(a=m);break;case 3:u=n[i+2],128==(192&(f=n[i+1]))&&128==(192&u)&&(m=(15&s)<<12|(63&f)<<6|63&u)>2047&&(m<55296||m>57343)&&(a=m);break;case 4:u=n[i+2],v=n[i+3],128==(192&(f=n[i+1]))&&128==(192&u)&&128==(192&v)&&(m=(15&s)<<18|(63&f)<<12|(63&u)<<6|63&v)>65535&&m<1114112&&(a=m)}null===a?(a=65533,c=1):a>65535&&(r.push((a-=65536)>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=c}return function bs(n){var t=n.length;if(t<=4096)return String.fromCharCode.apply(String,n);for(var e="",r=0;r<t;)e+=String.fromCharCode.apply(String,n.slice(r,r+=4096));return e}(r)}function ws(n,t,e){var r="";e=Math.min(n.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(127&n[i]);return r}function Es(n,t,e){var r="";e=Math.min(n.length,e);for(var i=t;i<e;++i)r+=String.fromCharCode(n[i]);return r}function xs(n,t,e){var r=n.length;(!t||t<0)&&(t=0),(!e||e<0||e>r)&&(e=r);for(var i="",s=t;s<e;++s)i+=Ts(n[s]);return i}function Ss(n,t,e){for(var r=n.slice(t,e),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function Ke(n,t,e){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>e)throw new RangeError("Trying to access beyond buffer length")}function it(n,t,e,r,i,s){if(!yt(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(e+r>n.length)throw new RangeError("Index out of range")}function Pr(n,t,e,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(n.length-e,2);i<s;++i)n[e+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Dr(n,t,e,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(n.length-e,4);i<s;++i)n[e+i]=t>>>8*(r?i:3-i)&255}function Bn(n,t,e,r,i,s){if(e+r>n.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Fn(n,t,e,r,i){return i||Bn(n,0,e,4),Pn(n,t,e,r,23,4),e+4}function Ln(n,t,e,r,i){return i||Bn(n,0,e,8),Pn(n,t,e,r,52,8),e+8}ie.TYPED_ARRAY_SUPPORT=void 0===ur.TYPED_ARRAY_SUPPORT||ur.TYPED_ARRAY_SUPPORT,ie.poolSize=8192,ie._augment=function(n){return n.__proto__=ie.prototype,n},ie.from=function(n,t,e){return Tn(null,n,t,e)},ie.TYPED_ARRAY_SUPPORT&&(ie.prototype.__proto__=Uint8Array.prototype,ie.__proto__=Uint8Array),ie.alloc=function(n,t,e){return function cs(n,t,e,r){return An(t),t<=0?Et(n,t):void 0!==e?"string"==typeof r?Et(n,t).fill(e,r):Et(n,t).fill(e):Et(n,t)}(null,n,t,e)},ie.allocUnsafe=function(n){return Xr(null,n)},ie.allocUnsafeSlow=function(n){return Xr(null,n)},ie.isBuffer=function Os(n){return null!=n&&(!!n._isBuffer||zn(n)||function js(n){return"function"==typeof n.readFloatLE&&"function"==typeof n.slice&&zn(n.slice(0,0))}(n))},ie.compare=function(t,e){if(!yt(t)||!yt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,s=0,a=Math.min(r,i);s<a;++s)if(t[s]!==e[s]){r=t[s],i=e[s];break}return r<i?-1:i<r?1:0},ie.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ie.concat=function(t,e){if(!Dn(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return ie.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=ie.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){var a=t[r];if(!yt(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,s),s+=a.length}return i},ie.byteLength=Rn,ie.prototype._isBuffer=!0,ie.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)zt(this,e,e+1);return this},ie.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)zt(this,e,e+3),zt(this,e+1,e+2);return this},ie.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)zt(this,e,e+7),zt(this,e+1,e+6),zt(this,e+2,e+5),zt(this,e+3,e+4);return this},ie.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Nn(this,0,t):ds.apply(this,arguments)},ie.prototype.equals=function(t){if(!yt(t))throw new TypeError("Argument must be a Buffer");return this===t||0===ie.compare(this,t)},ie.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},ie.prototype.compare=function(t,e,r,i,s){if(!yt(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),e<0||r>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&e>=r)return 0;if(i>=s)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(s>>>=0)-(i>>>=0),c=(r>>>=0)-(e>>>=0),f=Math.min(a,c),u=this.slice(i,s),v=t.slice(e,r),m=0;m<f;++m)if(u[m]!==v[m]){a=u[m],c=v[m];break}return a<c?-1:c<a?1:0},ie.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},ie.prototype.indexOf=function(t,e,r){return In(this,t,e,r,!0)},ie.prototype.lastIndexOf=function(t,e,r){return In(this,t,e,r,!1)},ie.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var s=this.length-e;if((void 0===r||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return ms(this,t,e,r);case"utf8":case"utf-8":return ps(this,t,e,r);case"ascii":return jn(this,t,e,r);case"latin1":case"binary":return ys(this,t,e,r);case"base64":return _s(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gs(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ie.prototype.slice=function(t,e){var i,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),ie.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=ie.prototype;else{var s=e-t;i=new ie(s,void 0);for(var a=0;a<s;++a)i[a]=this[a+t]}return i},ie.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||Ke(t,e,this.length);for(var i=this[t],s=1,a=0;++a<e&&(s*=256);)i+=this[t+a]*s;return i},ie.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||Ke(t,e,this.length);for(var i=this[t+--e],s=1;e>0&&(s*=256);)i+=this[t+--e]*s;return i},ie.prototype.readUInt8=function(t,e){return e||Ke(t,1,this.length),this[t]},ie.prototype.readUInt16LE=function(t,e){return e||Ke(t,2,this.length),this[t]|this[t+1]<<8},ie.prototype.readUInt16BE=function(t,e){return e||Ke(t,2,this.length),this[t]<<8|this[t+1]},ie.prototype.readUInt32LE=function(t,e){return e||Ke(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ie.prototype.readUInt32BE=function(t,e){return e||Ke(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ie.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||Ke(t,e,this.length);for(var i=this[t],s=1,a=0;++a<e&&(s*=256);)i+=this[t+a]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*e)),i},ie.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||Ke(t,e,this.length);for(var i=e,s=1,a=this[t+--i];i>0&&(s*=256);)a+=this[t+--i]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*e)),a},ie.prototype.readInt8=function(t,e){return e||Ke(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ie.prototype.readInt16LE=function(t,e){e||Ke(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},ie.prototype.readInt16BE=function(t,e){e||Ke(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},ie.prototype.readInt32LE=function(t,e){return e||Ke(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ie.prototype.readInt32BE=function(t,e){return e||Ke(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ie.prototype.readFloatLE=function(t,e){return e||Ke(t,4,this.length),kr(this,t,!0,23,4)},ie.prototype.readFloatBE=function(t,e){return e||Ke(t,4,this.length),kr(this,t,!1,23,4)},ie.prototype.readDoubleLE=function(t,e){return e||Ke(t,8,this.length),kr(this,t,!0,52,8)},ie.prototype.readDoubleBE=function(t,e){return e||Ke(t,8,this.length),kr(this,t,!1,52,8)},ie.prototype.writeUIntLE=function(t,e,r,i){t=+t,e|=0,r|=0,i||it(this,t,e,r,Math.pow(2,8*r)-1,0);var a=1,c=0;for(this[e]=255&t;++c<r&&(a*=256);)this[e+c]=t/a&255;return e+r},ie.prototype.writeUIntBE=function(t,e,r,i){t=+t,e|=0,r|=0,i||it(this,t,e,r,Math.pow(2,8*r)-1,0);var a=r-1,c=1;for(this[e+a]=255&t;--a>=0&&(c*=256);)this[e+a]=t/c&255;return e+r},ie.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,1,255,0),ie.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ie.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,2,65535,0),ie.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Pr(this,t,e,!0),e+2},ie.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,2,65535,0),ie.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Pr(this,t,e,!1),e+2},ie.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,4,4294967295,0),ie.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Dr(this,t,e,!0),e+4},ie.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,4,4294967295,0),ie.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Dr(this,t,e,!1),e+4},ie.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var s=Math.pow(2,8*r-1);it(this,t,e,r,s-1,-s)}var a=0,c=1,f=0;for(this[e]=255&t;++a<r&&(c*=256);)t<0&&0===f&&0!==this[e+a-1]&&(f=1),this[e+a]=(t/c>>0)-f&255;return e+r},ie.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var s=Math.pow(2,8*r-1);it(this,t,e,r,s-1,-s)}var a=r-1,c=1,f=0;for(this[e+a]=255&t;--a>=0&&(c*=256);)t<0&&0===f&&0!==this[e+a+1]&&(f=1),this[e+a]=(t/c>>0)-f&255;return e+r},ie.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,1,127,-128),ie.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},ie.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,2,32767,-32768),ie.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Pr(this,t,e,!0),e+2},ie.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,2,32767,-32768),ie.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Pr(this,t,e,!1),e+2},ie.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,4,2147483647,-2147483648),ie.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Dr(this,t,e,!0),e+4},ie.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||it(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),ie.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Dr(this,t,e,!1),e+4},ie.prototype.writeFloatLE=function(t,e,r){return Fn(this,t,e,!0,r)},ie.prototype.writeFloatBE=function(t,e,r){return Fn(this,t,e,!1,r)},ie.prototype.writeDoubleLE=function(t,e,r){return Ln(this,t,e,!0,r)},ie.prototype.writeDoubleBE=function(t,e,r){return Ln(this,t,e,!1,r)},ie.prototype.copy=function(t,e,r,i){if(r||(r=0),!i&&0!==i&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var a,s=i-r;if(this===t&&r<e&&e<i)for(a=s-1;a>=0;--a)t[a+e]=this[a+r];else if(s<1e3||!ie.TYPED_ARRAY_SUPPORT)for(a=0;a<s;++a)t[a+e]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},ie.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var s=t.charCodeAt(0);s<256&&(t=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!ie.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var c=yt(t)?t:Tr(new ie(t,i).toString()),f=c.length;for(a=0;a<r-e;++a)this[a+e]=c[a%f]}return this};var ks=/[^+\/0-9A-Za-z-_]/g;function Ts(n){return n<16?"0"+n.toString(16):n.toString(16)}function Tr(n,t){t=t||1/0;for(var e,r=n.length,i=null,s=[],a=0;a<r;++a){if((e=n.charCodeAt(a))>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&s.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;s.push(e)}else if(e<2048){if((t-=2)<0)break;s.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;s.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return s}function $n(n){return function is(n){Qr||Sn();var t,e,r,i,s,a,c=n.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=new ns(3*c/4-(s="="===n[c-2]?2:"="===n[c-1]?1:0)),r=s>0?c-4:c;var f=0;for(t=0,e=0;t<r;t+=4,e+=3)i=at[n.charCodeAt(t)]<<18|at[n.charCodeAt(t+1)]<<12|at[n.charCodeAt(t+2)]<<6|at[n.charCodeAt(t+3)],a[f++]=i>>16&255,a[f++]=i>>8&255,a[f++]=255&i;return 2===s?(i=at[n.charCodeAt(t)]<<2|at[n.charCodeAt(t+1)]>>4,a[f++]=255&i):1===s&&(i=at[n.charCodeAt(t)]<<10|at[n.charCodeAt(t+1)]<<4|at[n.charCodeAt(t+2)]>>2,a[f++]=i>>8&255,a[f++]=255&i),a}(function Ps(n){if((n=function Ds(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(n).replace(ks,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(n))}function Ar(n,t,e,r){for(var i=0;i<r&&!(i+e>=t.length||i>=n.length);++i)t[i+e]=n[i];return i}function zn(n){return!!n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(n,t,e){return n(e={path:t,exports:{},require:function(r,i){return xt()}},e.exports),e.exports}function Mn(n){if(n.__esModule)return n;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}),t}function xt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function Un(n,t){for(var e=0,r=n.length-1;r>=0;r--){var i=n[r];"."===i?n.splice(r,1):".."===i?(n.splice(r,1),e++):e&&(n.splice(r,1),e--)}if(t)for(;e--;e)n.unshift("..");return n}var Ns=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,nn=function(n){return Ns.exec(n).slice(1)};function Rr(){for(var n="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var r=e>=0?arguments[e]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(n=r+"/"+n,t="/"===r.charAt(0))}return(t?"/":"")+(n=Un(an(n.split("/"),function(i){return!!i}),!t).join("/"))||"."}function sn(n){var t=on(n),e="/"===Bs(n,-1);return!(n=Un(an(n.split("/"),function(r){return!!r}),!t).join("/"))&&!t&&(n="."),n&&e&&(n+="/"),(t?"/":"")+n}function on(n){return"/"===n.charAt(0)}function Zn(){var n=Array.prototype.slice.call(arguments,0);return sn(an(n,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function qn(n,t){function e(u){for(var v=0;v<u.length&&""===u[v];v++);for(var m=u.length-1;m>=0&&""===u[m];m--);return v>m?[]:u.slice(v,m-v+1)}n=Rr(n).substr(1),t=Rr(t).substr(1);for(var r=e(n.split("/")),i=e(t.split("/")),s=Math.min(r.length,i.length),a=s,c=0;c<s;c++)if(r[c]!==i[c]){a=c;break}var f=[];for(c=a;c<r.length;c++)f.push("..");return(f=f.concat(i.slice(a))).join("/")}function Hn(n){var t=nn(n),e=t[0],r=t[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."}function Vn(n,t){var e=nn(n)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e}function Yn(n){return nn(n)[3]}function an(n,t){if(n.filter)return n.filter(t);for(var e=[],r=0;r<n.length;r++)t(n[r],r,n)&&e.push(n[r]);return e}var Bs=function(n,t,e){return n.substr(t,e)};const Fs=Object.freeze({__proto__:null,resolve:Rr,normalize:sn,isAbsolute:on,join:Zn,relative:qn,sep:"/",delimiter:":",dirname:Hn,basename:Vn,extname:Yn,default:{extname:Yn,basename:Vn,dirname:Hn,sep:"/",delimiter:":",relative:qn,join:Zn,isAbsolute:on,normalize:sn,resolve:Rr}}),Ls=Object.freeze({__proto__:null,default:{}}),Kn=Mn(Fs),Qn=Mn(Ls);var $s=rn(function(n,t){var e=void 0,r=function(i){return e||(e=new Promise(function(s,a){var u,c=typeof i<"u"?i:{},f=c.onAbort;c.onAbort=function(o){a(new Error(o)),f&&f(o)},c.postRun=c.postRun||[],c.postRun.push(function(){s(c)}),n=void 0,u||(u=typeof c<"u"?c:{}),u.onRuntimeInitialized=function(){function o(U,ae){switch(typeof ae){case"boolean":Xo(U,ae?1:0);break;case"number":Ko(U,ae);break;case"string":Qo(U,ae,-1,-1);break;case"object":if(null===ae)Di(U);else if(null!=ae.length){var Ee=_r(ae);Jo(U,Ee,ae.length,-1),Vr(Ee)}else Kr(U,"Wrong API use : tried to return a value of an unknown type ("+ae+").",-1);break;default:Di(U)}}function l(U,ae){for(var Ee=[],De=0;De<U;De+=1){var Oe=ne(ae+4*De,"i32"),ze=Wo(Oe);if(1===ze||2===ze)Oe=Yo(Oe);else if(3===ze)Oe=Ho(Oe);else if(4===ze){Oe=Go(ze=Oe),ze=Vo(ze);for(var vt=new Uint8Array(Oe),ot=0;ot<Oe;ot+=1)vt[ot]=te[ze+ot];Oe=vt}else Oe=null;Ee.push(Oe)}return Ee}function d(U,ae){this.La=U,this.db=ae,this.Ja=1,this.fb=[]}function x(U,ae){if(this.db=ae,ae=X(U)+1,this.Ya=Qt(ae),null===this.Ya)throw Error("Unable to allocate memory for the SQL string");p(U,Se,this.Ya,ae),this.eb=this.Ya,this.Ua=this.ib=null}function I(U){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=U){var ae=this.filename,Ee="/",De=ae;if(Ee&&(Ee="string"==typeof Ee?Ee:Ht(Ee),De=ae?_e(Ee+"/"+ae):Ee),ae=ar(!0,!0),De=nr(De,4095&(void 0!==ae?ae:438)|32768,0),U){if("string"==typeof U){Ee=Array(U.length);for(var Oe=0,ze=U.length;Oe<ze;++Oe)Ee[Oe]=U.charCodeAt(Oe);U=Ee}sr(De,146|ae),Ee=lt(De,577),Yt(Ee,U,0,U.length,0),or(Ee),sr(De,ae)}}this.handleError(Te(this.filename,Y)),this.db=ne(Y,"i32"),ea(this.db),this.Za={},this.Na={}}var Y=Ft(4),re=u.cwrap,Te=re("sqlite3_open","number",["string","number"]),Le=re("sqlite3_close_v2","number",["number"]),Ce=re("sqlite3_exec","number",["number","string","number","number","number"]),Ve=re("sqlite3_changes","number",["number"]),It=re("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ei=re("sqlite3_sql","string",["number"]),To=re("sqlite3_normalized_sql","string",["number"]),xi=re("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ao=re("sqlite3_bind_text","number",["number","number","number","number","number"]),Si=re("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ro=re("sqlite3_bind_double","number",["number","number","number"]),Io=re("sqlite3_bind_int","number",["number","number","number"]),Oo=re("sqlite3_bind_parameter_index","number",["number","string"]),jo=re("sqlite3_step","number",["number"]),No=re("sqlite3_errmsg","string",["number"]),Co=re("sqlite3_column_count","number",["number"]),Bo=re("sqlite3_data_count","number",["number"]),Fo=re("sqlite3_column_double","number",["number","number"]),ki=re("sqlite3_column_text","string",["number","number"]),Lo=re("sqlite3_column_blob","number",["number","number"]),$o=re("sqlite3_column_bytes","number",["number","number"]),zo=re("sqlite3_column_type","number",["number","number"]),Mo=re("sqlite3_column_name","string",["number","number"]),Uo=re("sqlite3_reset","number",["number"]),Zo=re("sqlite3_clear_bindings","number",["number"]),qo=re("sqlite3_finalize","number",["number"]),Pi=re("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Wo=re("sqlite3_value_type","number",["number"]),Go=re("sqlite3_value_bytes","number",["number"]),Ho=re("sqlite3_value_text","string",["number"]),Vo=re("sqlite3_value_blob","number",["number"]),Yo=re("sqlite3_value_double","number",["number"]),Ko=re("sqlite3_result_double","",["number","number"]),Di=re("sqlite3_result_null","",["number"]),Qo=re("sqlite3_result_text","",["number","string","number","number"]),Jo=re("sqlite3_result_blob","",["number","number","number","number"]),Xo=re("sqlite3_result_int","",["number","number"]),Kr=re("sqlite3_result_error","",["number","string","number"]),Ti=re("sqlite3_aggregate_context","number",["number","number"]),ea=re("RegisterExtensionFunctions","number",["number"]);d.prototype.bind=function(U){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(U)?this.xb(U):null==U||"object"!=typeof U||this.yb(U)},d.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var U=jo(this.La);switch(U){case 100:return!0;case 101:return!1;default:throw this.db.handleError(U)}},d.prototype.sb=function(U){return null==U&&(U=this.Ja,this.Ja+=1),Fo(this.La,U)},d.prototype.Cb=function(U){if(null==U&&(U=this.Ja,this.Ja+=1),U=ki(this.La,U),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(U)},d.prototype.Db=function(U){return null==U&&(U=this.Ja,this.Ja+=1),ki(this.La,U)},d.prototype.getBlob=function(U){null==U&&(U=this.Ja,this.Ja+=1);var ae=$o(this.La,U);U=Lo(this.La,U);for(var Ee=new Uint8Array(ae),De=0;De<ae;De+=1)Ee[De]=te[U+De];return Ee},d.prototype.get=function(U,ae){ae=ae||{},null!=U&&this.bind(U)&&this.step(),U=[];for(var Ee=Bo(this.La),De=0;De<Ee;De+=1)switch(zo(this.La,De)){case 1:var Oe=ae.useBigInt?this.Cb(De):this.sb(De);U.push(Oe);break;case 2:U.push(this.sb(De));break;case 3:U.push(this.Db(De));break;case 4:U.push(this.getBlob(De));break;default:U.push(null)}return U},d.prototype.getColumnNames=function(){for(var U=[],ae=Co(this.La),Ee=0;Ee<ae;Ee+=1)U.push(Mo(this.La,Ee));return U},d.prototype.getAsObject=function(U,ae){U=this.get(U,ae),ae=this.getColumnNames();for(var Ee={},De=0;De<ae.length;De+=1)Ee[ae[De]]=U[De];return Ee},d.prototype.getSQL=function(){return Ei(this.La)},d.prototype.getNormalizedSQL=function(){return To(this.La)},d.prototype.run=function(U){return null!=U&&this.bind(U),this.step(),this.reset()},d.prototype.nb=function(U,ae){null==ae&&(ae=this.Ja,this.Ja+=1);var Ee=_r(U=Qe(U));this.fb.push(Ee),this.db.handleError(Ao(this.La,ae,Ee,U.length-1,0))},d.prototype.wb=function(U,ae){null==ae&&(ae=this.Ja,this.Ja+=1);var Ee=_r(U);this.fb.push(Ee),this.db.handleError(Si(this.La,ae,Ee,U.length,0))},d.prototype.mb=function(U,ae){null==ae&&(ae=this.Ja,this.Ja+=1),this.db.handleError((U===(0|U)?Io:Ro)(this.La,ae,U))},d.prototype.zb=function(U){null==U&&(U=this.Ja,this.Ja+=1),Si(this.La,U,0,0,0)},d.prototype.ob=function(U,ae){switch(null==ae&&(ae=this.Ja,this.Ja+=1),typeof U){case"string":return void this.nb(U,ae);case"number":return void this.mb(U,ae);case"bigint":return void this.nb(U.toString(),ae);case"boolean":return void this.mb(U+0,ae);case"object":if(null===U)return void this.zb(ae);if(null!=U.length)return void this.wb(U,ae)}throw"Wrong API use : tried to bind a value of an unknown type ("+U+")."},d.prototype.yb=function(U){var ae=this;return Object.keys(U).forEach(function(Ee){var De=Oo(ae.La,Ee);0!==De&&ae.ob(U[Ee],De)}),!0},d.prototype.xb=function(U){for(var ae=0;ae<U.length;ae+=1)this.ob(U[ae],ae+1);return!0},d.prototype.reset=function(){return this.freemem(),0===Zo(this.La)&&0===Uo(this.La)},d.prototype.freemem=function(){for(var U;void 0!==(U=this.fb.pop());)Vr(U)},d.prototype.free=function(){this.freemem();var U=0===qo(this.La);return delete this.db.Za[this.La],this.La=0,U},x.prototype.next=function(){if(null===this.Ya)return{done:!0};if(null!==this.Ua&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var U=vr(),ae=Ft(4);Z(Y),Z(ae);try{this.db.handleError(xi(this.db.db,this.eb,-1,Y,ae)),this.eb=ne(ae,"i32");var Ee=ne(Y,"i32");return 0===Ee?(this.gb(),{done:!0}):(this.Ua=new d(Ee,this.db),this.db.Za[Ee]=this.Ua,{value:this.Ua,done:!1})}catch(De){throw this.ib=W(this.eb),this.gb(),De}finally{br(U)}},x.prototype.gb=function(){Vr(this.Ya),this.Ya=null},x.prototype.getRemainingSQL=function(){return null!==this.ib?this.ib:W(this.eb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(x.prototype[Symbol.iterator]=function(){return this}),I.prototype.run=function(U,ae){if(!this.db)throw"Database closed";if(ae){U=this.prepare(U,ae);try{U.step()}finally{U.free()}}else this.handleError(Ce(this.db,U,0,0,Y));return this},I.prototype.exec=function(U,ae,Ee){if(!this.db)throw"Database closed";var De=vr(),Oe=null;try{var ze=X(U)+1,vt=Ft(ze);p(U,te,vt,ze);var ot=vt,ft=Ft(4);for(U=[];0!==ne(ot,"i8");){Z(Y),Z(ft),this.handleError(xi(this.db,ot,-1,Y,ft));var ht=ne(Y,"i32");if(ot=ne(ft,"i32"),0!==ht){for(ze=null,Oe=new d(ht,this),null!=ae&&Oe.bind(ae);Oe.step();)null===ze&&(ze={columns:Oe.getColumnNames(),values:[]},U.push(ze)),ze.values.push(Oe.get(null,Ee));Oe.free()}}return U}catch(wr){throw Oe&&Oe.free(),wr}finally{br(De)}},I.prototype.each=function(U,ae,Ee,De,Oe){"function"==typeof ae&&(De=Ee,Ee=ae,ae=void 0),U=this.prepare(U,ae);try{for(;U.step();)Ee(U.getAsObject(null,Oe))}finally{U.free()}if("function"==typeof De)return De()},I.prototype.prepare=function(U,ae){if(Z(Y),this.handleError(It(this.db,U,-1,Y,0)),0===(U=ne(Y,"i32")))throw"Nothing to prepare";var Ee=new d(U,this);return null!=ae&&Ee.bind(ae),this.Za[U]=Ee},I.prototype.iterateStatements=function(U){return new x(U,this)},I.prototype.export=function(){Object.values(this.Za).forEach(function(ae){ae.free()}),Object.values(this.Na).forEach(Rt),this.Na={},this.handleError(Le(this.db));var U=pr(this.filename);return this.handleError(Te(this.filename,Y)),this.db=ne(Y,"i32"),U},I.prototype.close=function(){null!==this.db&&(Object.values(this.Za).forEach(function(U){U.free()}),Object.values(this.Na).forEach(Rt),this.Na={},this.handleError(Le(this.db)),Mr("/"+this.filename),this.db=null)},I.prototype.handleError=function(U){if(0===U)return null;throw U=No(this.db),Error(U)},I.prototype.getRowsModified=function(){return Ve(this.db)},I.prototype.create_function=function(U,ae){Object.prototype.hasOwnProperty.call(this.Na,U)&&(Rt(this.Na[U]),delete this.Na[U]);var Ee=At(function(De,Oe,ze){Oe=l(Oe,ze);try{var vt=ae.apply(null,Oe)}catch(ot){return void Kr(De,ot,-1)}o(De,vt)},"viii");return this.Na[U]=Ee,this.handleError(Pi(this.db,U,ae.length,1,0,Ee,0,0,0)),this},I.prototype.create_aggregate=function(U,ae){var Ee=ae.init||function(){return null},De=ae.finalize||function(ft){return ft},Oe=ae.step;if(!Oe)throw"An aggregate function must have a step function in "+U;var ze={};Object.hasOwnProperty.call(this.Na,U)&&(Rt(this.Na[U]),delete this.Na[U]),ae=U+"__finalize",Object.hasOwnProperty.call(this.Na,ae)&&(Rt(this.Na[ae]),delete this.Na[ae]);var vt=At(function(ft,ht,wr){var Jt=Ti(ft,1);Object.hasOwnProperty.call(ze,Jt)||(ze[Jt]=Ee()),ht=l(ht,wr),ht=[ze[Jt]].concat(ht);try{ze[Jt]=Oe.apply(null,ht)}catch(ta){delete ze[Jt],Kr(ft,ta,-1)}},"viii"),ot=At(function(ft){var ht=Ti(ft,1);try{var wr=De(ze[ht])}catch(Jt){return delete ze[ht],void Kr(ft,Jt,-1)}o(ft,wr),delete ze[ht]},"vi");return this.Na[U]=vt,this.Na[ae]=ot,this.handleError(Pi(this.db,U,Oe.length-1,1,0,0,vt,ot,0)),this},u.Database=I};var P,E,D,N,L,A,v=Object.assign({},u),m="./this.program",w="object"==typeof window,y="function"==typeof importScripts,S="object"==typeof wt&&"object"==typeof wt.versions&&"string"==typeof wt.versions.node,g="";S?(g=y?Kn.dirname(g)+"/":"/Volumes/Development_Lacie/Development/new/jeep-sqlite/node_modules/sql.js/dist/",A=()=>{L||(N=Qn,L=Kn)},P=function(o,l){return A(),o=L.normalize(o),N.readFileSync(o,l?void 0:"utf8")},D=o=>((o=P(o,!0)).buffer||(o=new Uint8Array(o)),o),E=(o,l,d)=>{A(),o=L.normalize(o),N.readFile(o,function(x,I){x?d(x):l(I.buffer)})},1<wt.argv.length&&(m=wt.argv[1].replace(/\\/g,"/")),wt.argv.slice(2),n.exports=u,u.inspect=function(){return"[Emscripten Module object]"}):(w||y)&&(y?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",P=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.send(null),l.responseText},y&&(D=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),E=(o,l,d)=>{var x=new XMLHttpRequest;x.open("GET",o,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?l(x.response):d()},x.onerror=d,x.send(null)});var Q,H=u.print||console.log.bind(console),M=u.printErr||console.warn.bind(console);Object.assign(u,v),v=null,u.thisProgram&&(m=u.thisProgram),u.wasmBinary&&(Q=u.wasmBinary),"object"!=typeof WebAssembly&&He("no native wasm support detected");var G,ke,te,Se,ce,fe,$,q,xe,ue=!1,ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(o,l,d){var x=l+d;for(d=l;o[d]&&!(d>=x);)++d;if(16<d-l&&o.buffer&&ve)return ve.decode(o.subarray(l,d));for(x="";l<d;){var I=o[l++];if(128&I){var Y=63&o[l++];if(192==(224&I))x+=String.fromCharCode((31&I)<<6|Y);else{var re=63&o[l++];65536>(I=224==(240&I)?(15&I)<<12|Y<<6|re:(7&I)<<18|Y<<12|re<<6|63&o[l++])?x+=String.fromCharCode(I):(I-=65536,x+=String.fromCharCode(55296|I>>10,56320|1023&I))}}else x+=String.fromCharCode(I)}return x}function W(o,l){return o?R(Se,o,l):""}function p(o,l,d,x){if(!(0<x))return 0;var I=d;x=d+x-1;for(var Y=0;Y<o.length;++Y){var re=o.charCodeAt(Y);if(55296<=re&&57343>=re&&(re=65536+((1023&re)<<10)|1023&o.charCodeAt(++Y)),127>=re){if(d>=x)break;l[d++]=re}else{if(2047>=re){if(d+1>=x)break;l[d++]=192|re>>6}else{if(65535>=re){if(d+2>=x)break;l[d++]=224|re>>12}else{if(d+3>=x)break;l[d++]=240|re>>18,l[d++]=128|re>>12&63}l[d++]=128|re>>6&63}l[d++]=128|63&re}}return l[d]=0,d-I}function X(o){for(var l=0,d=0;d<o.length;++d){var x=o.charCodeAt(d);127>=x?l++:2047>=x?l+=2:55296<=x&&57343>=x?(l+=4,++d):l+=3}return l}function ge(){var o=G.buffer;ke=o,u.HEAP8=te=new Int8Array(o),u.HEAP16=ce=new Int16Array(o),u.HEAP32=fe=new Int32Array(o),u.HEAPU8=Se=new Uint8Array(o),u.HEAPU16=new Uint16Array(o),u.HEAPU32=$=new Uint32Array(o),u.HEAPF32=q=new Float32Array(o),u.HEAPF64=xe=new Float64Array(o)}var pe,Ze=[],Ge=[],Ie=[];function je(){var o=u.preRun.shift();Ze.unshift(o)}var h,b,j,Ue=0,Me=null;function He(o){throw u.onAbort&&u.onAbort(o),M(o="Aborted("+o+")"),ue=!0,new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info.")}function Xe(){return h.startsWith("data:application/octet-stream;base64,")}if(h="sql-wasm.wasm",!Xe()){var K=h;h=u.locateFile?u.locateFile(K,g):g+K}function V(){var o=h;try{if(o==h&&Q)return new Uint8Array(Q);if(D)return D(o);throw"both async and sync fetching of the wasm failed"}catch(l){He(l)}}function se(o){for(;0<o.length;)o.shift()(u)}function ne(o,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":return te[o>>0];case"i16":return ce[o>>1];case"i32":case"i64":return fe[o>>2];case"float":return q[o>>2];case"double":return xe[o>>3];case"*":return $[o>>2];default:He("invalid type for getValue: "+l)}return null}function Z(o){var l="i32";switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":te[o>>0]=0;break;case"i16":ce[o>>1]=0;break;case"i32":fe[o>>2]=0;break;case"i64":j=[0,(b=0,1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[o>>2]=j[0],fe[o+4>>2]=j[1];break;case"float":q[o>>2]=0;break;case"double":xe[o>>3]=0;break;case"*":$[o>>2]=0;break;default:He("invalid type for setValue: "+l)}}var he=(o,l)=>{for(var d=0,x=o.length-1;0<=x;x--){var I=o[x];"."===I?o.splice(x,1):".."===I?(o.splice(x,1),d++):d&&(o.splice(x,1),d--)}if(l)for(;d;d--)o.unshift("..");return o},_e=o=>{var l="/"===o.charAt(0),d="/"===o.substr(-1);return(o=he(o.split("/").filter(x=>!!x),!l).join("/"))||l||(o="."),o&&d&&(o+="/"),(l?"/":"")+o},me=o=>{var l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(o).slice(1);return o=l[0],l=l[1],o||l?(l&&(l=l.substr(0,l.length-1)),o+l):"."},we=o=>{if("/"===o)return"/";var l=(o=(o=_e(o)).replace(/\/$/,"")).lastIndexOf("/");return-1===l?o:o.substr(l+1)};function Ae(){for(var o="",l=!1,d=arguments.length-1;-1<=d&&!l;d--){if("string"!=typeof(l=0<=d?arguments[d]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!l)return"";o=l+"/"+o,l="/"===l.charAt(0)}return(l?"/":"")+(o=he(o.split("/").filter(x=>!!x),!l).join("/"))||"."}function Qe(o,l){var d=Array(X(o)+1);return o=p(o,d,0,d.length),l&&(d.length=o),d}var dt=[];function et(o,l){dt[o]={input:[],output:[],Xa:l},hr(o,_t)}var Gr,yr,O,k,_t={open:function(o){var l=dt[o.node.rdev];if(!l)throw new ee(43);o.tty=l,o.seekable=!1},close:function(o){o.tty.Xa.fsync(o.tty)},fsync:function(o){o.tty.Xa.fsync(o.tty)},read:function(o,l,d,x){if(!o.tty||!o.tty.Xa.tb)throw new ee(60);for(var I=0,Y=0;Y<x;Y++){try{var re=o.tty.Xa.tb(o.tty)}catch{throw new ee(29)}if(void 0===re&&0===I)throw new ee(6);if(null==re)break;I++,l[d+Y]=re}return I&&(o.node.timestamp=Date.now()),I},write:function(o,l,d,x){if(!o.tty||!o.tty.Xa.jb)throw new ee(60);try{for(var I=0;I<x;I++)o.tty.Xa.jb(o.tty,l[d+I])}catch{throw new ee(29)}return x&&(o.node.timestamp=Date.now()),I}},qe={tb:function(o){if(!o.input.length){var l=null;if(S){var d=ie.alloc(256),x=0;try{x=N.readSync(wt.stdin.fd,d,0,256,-1)}catch(I){if(!I.toString().includes("EOF"))throw I;x=0}l=0<x?d.slice(0,x).toString("utf-8"):null}else typeof window<"u"&&"function"==typeof window.prompt?null!==(l=window.prompt("Input: "))&&(l+="\n"):"function"==typeof readline&&null!==(l=readline())&&(l+="\n");if(!l)return null;o.input=Qe(l,!0)}return o.input.shift()},jb:function(o,l){null===l||10===l?(H(R(o.output,0)),o.output=[]):0!=l&&o.output.push(l)},fsync:function(o){o.output&&0<o.output.length&&(H(R(o.output,0)),o.output=[])}},gt={jb:function(o,l){null===l||10===l?(M(R(o.output,0)),o.output=[]):0!=l&&o.output.push(l)},fsync:function(o){o.output&&0<o.output.length&&(M(R(o.output,0)),o.output=[])}},Pe={Qa:null,Ra:function(){return Pe.createNode(null,"/",16895,0)},createNode:function(o,l,d,x){if(24576==(61440&d)||4096==(61440&d))throw new ee(63);return Pe.Qa||(Pe.Qa={dir:{node:{Pa:Pe.Ga.Pa,Oa:Pe.Ga.Oa,lookup:Pe.Ga.lookup,ab:Pe.Ga.ab,rename:Pe.Ga.rename,unlink:Pe.Ga.unlink,rmdir:Pe.Ga.rmdir,readdir:Pe.Ga.readdir,symlink:Pe.Ga.symlink},stream:{Ta:Pe.Ha.Ta}},file:{node:{Pa:Pe.Ga.Pa,Oa:Pe.Ga.Oa},stream:{Ta:Pe.Ha.Ta,read:Pe.Ha.read,write:Pe.Ha.write,lb:Pe.Ha.lb,bb:Pe.Ha.bb,cb:Pe.Ha.cb}},link:{node:{Pa:Pe.Ga.Pa,Oa:Pe.Ga.Oa,readlink:Pe.Ga.readlink},stream:{}},pb:{node:{Pa:Pe.Ga.Pa,Oa:Pe.Ga.Oa},stream:pn}}),16384==(61440&(d=Cr(o,l,d,x)).mode)?(d.Ga=Pe.Qa.dir.node,d.Ha=Pe.Qa.dir.stream,d.Ia={}):32768==(61440&d.mode)?(d.Ga=Pe.Qa.file.node,d.Ha=Pe.Qa.file.stream,d.Ma=0,d.Ia=null):40960==(61440&d.mode)?(d.Ga=Pe.Qa.link.node,d.Ha=Pe.Qa.link.stream):8192==(61440&d.mode)&&(d.Ga=Pe.Qa.pb.node,d.Ha=Pe.Qa.pb.stream),d.timestamp=Date.now(),o&&(o.Ia[l]=d,o.timestamp=d.timestamp),d},Jb:function(o){return o.Ia?o.Ia.subarray?o.Ia.subarray(0,o.Ma):new Uint8Array(o.Ia):new Uint8Array(0)},qb:function(o,l){var d=o.Ia?o.Ia.length:0;d>=l||(l=Math.max(l,d*(1048576>d?2:1.125)>>>0),0!=d&&(l=Math.max(l,256)),d=o.Ia,o.Ia=new Uint8Array(l),0<o.Ma&&o.Ia.set(d.subarray(0,o.Ma),0))},Gb:function(o,l){if(o.Ma!=l)if(0==l)o.Ia=null,o.Ma=0;else{var d=o.Ia;o.Ia=new Uint8Array(l),d&&o.Ia.set(d.subarray(0,Math.min(l,o.Ma))),o.Ma=l}},Ga:{Pa:function(o){var l={};return l.dev=8192==(61440&o.mode)?o.id:1,l.ino=o.id,l.mode=o.mode,l.nlink=1,l.uid=0,l.gid=0,l.rdev=o.rdev,l.size=16384==(61440&o.mode)?4096:32768==(61440&o.mode)?o.Ma:40960==(61440&o.mode)?o.link.length:0,l.atime=new Date(o.timestamp),l.mtime=new Date(o.timestamp),l.ctime=new Date(o.timestamp),l.Ab=4096,l.blocks=Math.ceil(l.size/l.Ab),l},Oa:function(o,l){void 0!==l.mode&&(o.mode=l.mode),void 0!==l.timestamp&&(o.timestamp=l.timestamp),void 0!==l.size&&Pe.Gb(o,l.size)},lookup:function(){throw mt[44]},ab:function(o,l,d,x){return Pe.createNode(o,l,d,x)},rename:function(o,l,d){if(16384==(61440&o.mode)){try{var x=Dt(l,d)}catch{}if(x)for(var I in x.Ia)throw new ee(55)}delete o.parent.Ia[o.name],o.parent.timestamp=Date.now(),o.name=d,l.Ia[d]=o,l.timestamp=o.parent.timestamp,o.parent=l},unlink:function(o,l){delete o.Ia[l],o.timestamp=Date.now()},rmdir:function(o,l){var x,d=Dt(o,l);for(x in d.Ia)throw new ee(55);delete o.Ia[l],o.timestamp=Date.now()},readdir:function(o){var d,l=[".",".."];for(d in o.Ia)o.Ia.hasOwnProperty(d)&&l.push(d);return l},symlink:function(o,l,d){return(o=Pe.createNode(o,l,41471,0)).link=d,o},readlink:function(o){if(40960!=(61440&o.mode))throw new ee(28);return o.link}},Ha:{read:function(o,l,d,x,I){var Y=o.node.Ia;if(I>=o.node.Ma)return 0;if(8<(o=Math.min(o.node.Ma-I,x))&&Y.subarray)l.set(Y.subarray(I,I+o),d);else for(x=0;x<o;x++)l[d+x]=Y[I+x];return o},write:function(o,l,d,x,I,Y){if(l.buffer===te.buffer&&(Y=!1),!x)return 0;if((o=o.node).timestamp=Date.now(),l.subarray&&(!o.Ia||o.Ia.subarray)){if(Y)return o.Ia=l.subarray(d,d+x),o.Ma=x;if(0===o.Ma&&0===I)return o.Ia=l.slice(d,d+x),o.Ma=x;if(I+x<=o.Ma)return o.Ia.set(l.subarray(d,d+x),I),x}if(Pe.qb(o,I+x),o.Ia.subarray&&l.subarray)o.Ia.set(l.subarray(d,d+x),I);else for(Y=0;Y<x;Y++)o.Ia[I+Y]=l[d+Y];return o.Ma=Math.max(o.Ma,I+x),x},Ta:function(o,l,d){if(1===d?l+=o.position:2===d&&32768==(61440&o.node.mode)&&(l+=o.node.Ma),0>l)throw new ee(28);return l},lb:function(o,l,d){Pe.qb(o.node,l+d),o.node.Ma=Math.max(o.node.Ma,l+d)},bb:function(o,l,d,x,I){if(32768!=(61440&o.node.mode))throw new ee(43);if(o=o.node.Ia,2&I||o.buffer!==ke){if((0<d||d+l<o.length)&&(o=o.subarray?o.subarray(d,d+l):Array.prototype.slice.call(o,d,d+l)),d=!0,l=65536*Math.ceil(l/65536),(I=bi(65536,l))?(Se.fill(0,I,I+l),l=I):l=0,!l)throw new ee(48);te.set(o,l)}else d=!1,l=o.byteOffset;return{Fb:l,vb:d}},cb:function(o,l,d,x,I){if(32768!=(61440&o.node.mode))throw new ee(43);return 2&I||Pe.Ha.write(o,l,0,x,d,!1),0}}},nt=null,Pt={},st=[],cr=1,Ye=null,Gt=!0,ee=null,mt={},tt=(o,l={})=>{if(!(o=Ae("/",o)))return{path:"",node:null};if(8<(l=Object.assign({rb:!0,kb:0},l)).kb)throw new ee(32);o=he(o.split("/").filter(re=>!!re),!1);for(var d=nt,x="/",I=0;I<o.length;I++){var Y=I===o.length-1;if(Y&&l.parent)break;if(d=Dt(d,o[I]),x=_e(x+"/"+o[I]),d.Va&&(!Y||Y&&l.rb)&&(d=d.Va.root),!Y||l.Sa)for(Y=0;40960==(61440&d.mode);)if(d=Ur(x),x=Ae(me(x),d),d=tt(x,{kb:l.kb+1}).node,40<Y++)throw new ee(32)}return{path:x,node:d}},Ht=o=>{for(var l;;){if(o===o.parent)return o=o.Ra.ub,l?"/"!==o[o.length-1]?o+"/"+l:o+l:o;l=l?o.name+"/"+l:o.name,o=o.parent}},lr=(o,l)=>{for(var d=0,x=0;x<l.length;x++)d=(d<<5)-d+l.charCodeAt(x)|0;return(o+d>>>0)%Ye.length},Nr=o=>{var l=lr(o.parent.id,o.name);if(Ye[l]===o)Ye[l]=o.Wa;else for(l=Ye[l];l;){if(l.Wa===o){l.Wa=o.Wa;break}l=l.Wa}},Dt=(o,l)=>{var d;if(d=(d=Bt(o,"x"))?d:o.Ga.lookup?0:2)throw new ee(d,o);for(d=Ye[lr(o.id,l)];d;d=d.Wa)if(d.parent.id===o.id&&d.name===l)return d;return o.Ga.lookup(o,l)},Cr=(o,l,d,x)=>(o=new yn(o,l,d,x),l=lr(o.parent.id,o.name),o.Wa=Ye[l],Ye[l]=o),dn={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Br=o=>{var l=["r","w","rw"][3&o];return 512&o&&(l+="w"),l},Bt=(o,l)=>Gt?0:!l.includes("r")||292&o.mode?l.includes("w")&&!(146&o.mode)||l.includes("x")&&!(73&o.mode)?2:0:2,Fr=(o,l)=>{try{return Dt(o,l),20}catch{}return Bt(o,"wx")},fr=(o,l,d)=>{try{var x=Dt(o,l)}catch(I){return I.Ka}if(o=Bt(o,"wx"))return o;if(d){if(16384!=(61440&x.mode))return 54;if(x===x.parent||"/"===Ht(x))return 10}else if(16384==(61440&x.mode))return 31;return 0},Lr=(o,l)=>(O||((O=function(){this.$a={}}).prototype={},Object.defineProperties(O.prototype,{object:{get:function(){return this.node},set:function(d){this.node=d}},flags:{get:function(){return this.$a.flags},set:function(d){this.$a.flags=d}},position:{get:function(){return this.$a.position},set:function(d){this.$a.position=d}}})),o=Object.assign(new O,o),l=((o=0)=>{for(;4096>=o;o++)if(!st[o])return o;throw new ee(33)})(l),o.fd=l,st[l]=o),pn={open:o=>{o.Ha=Pt[o.node.rdev].Ha,o.Ha.open&&o.Ha.open(o)},Ta:()=>{throw new ee(70)}},hr=(o,l)=>{Pt[o]={Ha:l}},$r=(o,l)=>{var d="/"===l,x=!l;if(d&&nt)throw new ee(10);if(!d&&!x){var I=tt(l,{rb:!1});if(l=I.path,(I=I.node).Va)throw new ee(10);if(16384!=(61440&I.mode))throw new ee(54)}(o=o.Ra(l={type:o,Kb:{},ub:l,Eb:[]})).Ra=l,l.root=o,d?nt=o:I&&(I.Va=l,I.Ra&&I.Ra.Eb.push(l))},nr=(o,l,d)=>{var x=tt(o,{parent:!0}).node;if(!(o=we(o))||"."===o||".."===o)throw new ee(28);var I=Fr(x,o);if(I)throw new ee(I);if(!x.Ga.ab)throw new ee(63);return x.Ga.ab(x,o,l,d)},ct=(o,l)=>nr(o,1023&(void 0!==l?l:511)|16384,0),ir=(o,l,d)=>{typeof d>"u"&&(d=l,l=438),nr(o,8192|l,d)},dr=(o,l)=>{if(!Ae(o))throw new ee(44);var d=tt(l,{parent:!0}).node;if(!d)throw new ee(44);l=we(l);var x=Fr(d,l);if(x)throw new ee(x);if(!d.Ga.symlink)throw new ee(63);d.Ga.symlink(d,l,o)},zr=o=>{var l=tt(o,{parent:!0}).node;o=we(o);var d=Dt(l,o),x=fr(l,o,!0);if(x)throw new ee(x);if(!l.Ga.rmdir)throw new ee(63);if(d.Va)throw new ee(10);l.Ga.rmdir(l,o),Nr(d)},Mr=o=>{var l=tt(o,{parent:!0}).node;if(!l)throw new ee(44);o=we(o);var d=Dt(l,o),x=fr(l,o,!1);if(x)throw new ee(x);if(!l.Ga.unlink)throw new ee(63);if(d.Va)throw new ee(10);l.Ga.unlink(l,o),Nr(d)},Ur=o=>{if(!(o=tt(o).node))throw new ee(44);if(!o.Ga.readlink)throw new ee(28);return Ae(Ht(o.parent),o.Ga.readlink(o))},Vt=(o,l)=>{if(!(o=tt(o,{Sa:!l}).node))throw new ee(44);if(!o.Ga.Pa)throw new ee(63);return o.Ga.Pa(o)},Zr=o=>Vt(o,!0),sr=(o,l)=>{if(!(o="string"==typeof o?tt(o,{Sa:!0}).node:o).Ga.Oa)throw new ee(63);o.Ga.Oa(o,{mode:4095&l|-4096&o.mode,timestamp:Date.now()})},mr=(o,l)=>{if(0>l)throw new ee(28);if(!(o="string"==typeof o?tt(o,{Sa:!0}).node:o).Ga.Oa)throw new ee(63);if(16384==(61440&o.mode))throw new ee(31);if(32768!=(61440&o.mode))throw new ee(28);var d=Bt(o,"w");if(d)throw new ee(d);o.Ga.Oa(o,{size:l,timestamp:Date.now()})},lt=(o,l,d)=>{if(""===o)throw new ee(44);if("string"==typeof l){var x=dn[l];if(typeof x>"u")throw Error("Unknown file open mode: "+l);l=x}if(d=64&l?4095&(typeof d>"u"?438:d)|32768:0,"object"==typeof o)var I=o;else{o=_e(o);try{I=tt(o,{Sa:!(131072&l)}).node}catch{}}if(x=!1,64&l)if(I){if(128&l)throw new ee(20)}else I=nr(o,d,0),x=!0;if(!I)throw new ee(44);if(8192==(61440&I.mode)&&(l&=-513),65536&l&&16384!=(61440&I.mode))throw new ee(54);if(!x&&(d=I?40960==(61440&I.mode)?32:16384==(61440&I.mode)&&("r"!==Br(l)||512&l)?31:Bt(I,Br(l)):44))throw new ee(d);return 512&l&&!x&&mr(I,0),l&=-131713,(I=Lr({node:I,path:Ht(I),flags:l,seekable:!0,position:0,Ha:I.Ha,Ib:[],error:!1})).Ha.open&&I.Ha.open(I),!u.logReadFiles||1&l||(k||(k={}),o in k||(k[o]=1)),I},or=o=>{if(null===o.fd)throw new ee(8);o.hb&&(o.hb=null);try{o.Ha.close&&o.Ha.close(o)}catch(l){throw l}finally{st[o.fd]=null}o.fd=null},Tt=(o,l,d)=>{if(null===o.fd)throw new ee(8);if(!o.seekable||!o.Ha.Ta)throw new ee(70);if(0!=d&&1!=d&&2!=d)throw new ee(28);o.position=o.Ha.Ta(o,l,d),o.Ib=[]},qr=(o,l,d,x,I)=>{if(0>x||0>I)throw new ee(28);if(null===o.fd)throw new ee(8);if(1==(2097155&o.flags))throw new ee(8);if(16384==(61440&o.node.mode))throw new ee(31);if(!o.Ha.read)throw new ee(28);var Y=typeof I<"u";if(Y){if(!o.seekable)throw new ee(70)}else I=o.position;return l=o.Ha.read(o,l,d,x,I),Y||(o.position+=l),l},Yt=(o,l,d,x,I)=>{if(0>x||0>I)throw new ee(28);if(null===o.fd)throw new ee(8);if(0==(2097155&o.flags))throw new ee(8);if(16384==(61440&o.node.mode))throw new ee(31);if(!o.Ha.write)throw new ee(28);o.seekable&&1024&o.flags&&Tt(o,0,2);var Y=typeof I<"u";if(Y){if(!o.seekable)throw new ee(70)}else I=o.position;return l=o.Ha.write(o,l,d,x,I,void 0),Y||(o.position+=l),l},pr=o=>{var l,d=lt(o,d||0);o=Vt(o).size;var x=new Uint8Array(o);return qr(d,x,0,o,0),l=x,or(d),l},Wr=()=>{ee||((ee=function(o,l){this.node=l,this.Hb=function(d){this.Ka=d},this.Hb(o),this.message="FS error"}).prototype=Error(),ee.prototype.constructor=ee,[44].forEach(o=>{mt[o]=new ee(o),mt[o].stack="<generic error, no stack>"}))},ar=(o,l)=>{var d=0;return o&&(d|=365),l&&(d|=146),d},Kt=(o,l,d)=>{o=_e("/dev/"+o);var x=ar(!!l,!!d);yr||(yr=64);var I=yr++<<8|0;hr(I,{open:Y=>{Y.seekable=!1},close:()=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(Y,re,Te,Le)=>{for(var Ce=0,Ve=0;Ve<Le;Ve++){try{var It=l()}catch{throw new ee(29)}if(void 0===It&&0===Ce)throw new ee(6);if(null==It)break;Ce++,re[Te+Ve]=It}return Ce&&(Y.node.timestamp=Date.now()),Ce},write:(Y,re,Te,Le)=>{for(var Ce=0;Ce<Le;Ce++)try{d(re[Te+Ce])}catch{throw new ee(29)}return Le&&(Y.node.timestamp=Date.now()),Ce}}),ir(o,x,I)},_={};function B(o,l,d){if("/"===l.charAt(0))return l;if(o=-100===o?"/":oe(o).path,0==l.length){if(!d)throw new ee(44);return o}return _e(o+"/"+l)}function F(o,l,d){try{var x=o(l)}catch(I){if(I&&I.node&&_e(l)!==_e(Ht(I.node)))return-54;throw I}return fe[d>>2]=x.dev,fe[d+8>>2]=x.ino,fe[d+12>>2]=x.mode,$[d+16>>2]=x.nlink,fe[d+20>>2]=x.uid,fe[d+24>>2]=x.gid,fe[d+28>>2]=x.rdev,j=[x.size>>>0,(b=x.size,1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[d+40>>2]=j[0],fe[d+44>>2]=j[1],fe[d+48>>2]=4096,fe[d+52>>2]=x.blocks,j=[Math.floor(x.atime.getTime()/1e3)>>>0,(b=Math.floor(x.atime.getTime()/1e3),1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[d+56>>2]=j[0],fe[d+60>>2]=j[1],$[d+64>>2]=0,j=[Math.floor(x.mtime.getTime()/1e3)>>>0,(b=Math.floor(x.mtime.getTime()/1e3),1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[d+72>>2]=j[0],fe[d+76>>2]=j[1],$[d+80>>2]=0,j=[Math.floor(x.ctime.getTime()/1e3)>>>0,(b=Math.floor(x.ctime.getTime()/1e3),1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[d+88>>2]=j[0],fe[d+92>>2]=j[1],$[d+96>>2]=0,j=[x.ino>>>0,(b=x.ino,1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[d+104>>2]=j[0],fe[d+108>>2]=j[1],0}var Re,C=void 0;function J(){return fe[(C+=4)-4>>2]}function oe(o){if(!(o=st[o]))throw new ee(8);return o}function le(o){return $[o>>2]+4294967296*fe[o+4>>2]}function de(o){var l=X(o)+1,d=Qt(l);return d&&p(o,te,d,l),d}Re=S?()=>{var o=wt.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now();var Ne={};function Be(){if(!We){var l,o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(l in Ne)void 0===Ne[l]?delete o[l]:o[l]=Ne[l];var d=[];for(l in o)d.push(l+"="+o[l]);We=d}return We}var We,$e=void 0,rt=[];function At(o,l){if(!$e){var d=pe.length;if($e=new WeakMap)for(var x=0;x<0+d;x++){var I=pe.get(x);I&&$e.set(I,x)}}if($e.has(o))return $e.get(o);if(rt.length)d=rt.pop();else{try{pe.grow(1)}catch(Te){throw Te instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Te}d=pe.length-1}try{pe.set(d,o)}catch(Te){if(!(Te instanceof TypeError))throw Te;if("function"==typeof WebAssembly.Function){x=WebAssembly.Function,I={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var Y={parameters:[],results:"v"==l[0]?[]:[I[l[0]]]},re=1;re<l.length;++re)Y.parameters.push(I[l[re]]);l=new x(Y,o)}else{for(x=[1,96],I=l.slice(0,1),Y={i:127,p:127,j:126,f:125,d:124},128>(re=(l=l.slice(1)).length)?x.push(re):x.push(re%128|128,re>>7),re=0;re<l.length;++re)x.push(Y[l[re]]);"v"==I?x.push(0):x.push(1,Y[I]),l=[0,97,115,109,1,0,0,0,1],128>(I=x.length)?l.push(I):l.push(I%128|128,I>>7),l.push.apply(l,x),l.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),l=new WebAssembly.Module(new Uint8Array(l)),l=new WebAssembly.Instance(l,{e:{f:o}}).exports.f}pe.set(d,l)}return $e.set(o,d),d}function Rt(o){$e.delete(pe.get(o)),rt.push(o)}function _r(o){var l=Qt(o.length);return o.subarray||o.slice||(o=new Uint8Array(o)),Se.set(o,l),l}function gr(o,l,d,x){var I={string:Ce=>{var Ve=0;if(null!=Ce&&0!==Ce){var It=1+(Ce.length<<2);Ve=Ft(It),p(Ce,Se,Ve,It)}return Ve},array:Ce=>{var Ve=Ft(Ce.length);return te.set(Ce,Ve),Ve}};o=u["_"+o];var Ce,Y=[],re=0;if(x)for(var Te=0;Te<x.length;Te++){var Le=I[d[Te]];Le?(0===re&&(re=vr()),Y[Te]=Le(x[Te])):Y[Te]=x[Te]}return Ce=d=o.apply(null,Y),0!==re&&br(re),"string"===l?W(Ce):"boolean"===l?!!Ce:Ce}function yn(o,l,d,x){o||(o=this),this.parent=o,this.Ra=o.Ra,this.Va=null,this.id=cr++,this.name=l,this.mode=d,this.Ga={},this.Ha={},this.rdev=x}Object.defineProperties(yn.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(o){o?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(o){o?this.mode|=146:this.mode&=-147}}}),Wr(),Ye=Array(4096),$r(Pe,"/"),ct("/tmp"),ct("/home"),ct("/home/web_user"),(()=>{ct("/dev"),hr(259,{read:()=>0,write:(l,d,x,I)=>I}),ir("/dev/null",259),et(1280,qe),et(1536,gt),ir("/dev/tty",1280),ir("/dev/tty1",1536);var o=function Fe(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var o=new Uint8Array(1);return()=>(crypto.getRandomValues(o),o[0])}if(S)try{var l=Qn;return()=>l.randomBytes(1)[0]}catch{}return()=>He("randomDevice")}();Kt("random",o),Kt("urandom",o),ct("/dev/shm"),ct("/dev/shm/tmp")})(),(()=>{ct("/proc");var o=ct("/proc/self");ct("/proc/self/fd"),$r({Ra:()=>{var l=Cr(o,"fd",16895,73);return l.Ga={lookup:(d,x)=>{var I=st[+x];if(!I)throw new ee(8);return(d={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>I.path}}).parent=d}},l}},"/proc/self/fd")})();var _n={a:function(o,l,d,x){He("Assertion failed: "+W(o)+", at: "+[l?W(l):"unknown filename",d,x?W(x):"unknown function"])},h:function(o,l){try{return o=W(o),sr(o,l),0}catch(d){if(typeof _>"u"||!(d instanceof ee))throw d;return-d.Ka}},H:function(o,l,d){try{if(l=B(o,l=W(l)),-8&d)return-28;var x=tt(l,{Sa:!0}).node;return x?(o="",4&d&&(o+="r"),2&d&&(o+="w"),1&d&&(o+="x"),o&&Bt(x,o)?-2:0):-44}catch(I){if(typeof _>"u"||!(I instanceof ee))throw I;return-I.Ka}},i:function(o,l){try{var d=st[o];if(!d)throw new ee(8);return sr(d.node,l),0}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return-x.Ka}},g:function(o){try{var l=st[o];if(!l)throw new ee(8);var d=l.node,x="string"==typeof d?tt(d,{Sa:!0}).node:d;if(!x.Ga.Oa)throw new ee(63);return x.Ga.Oa(x,{timestamp:Date.now()}),0}catch(I){if(typeof _>"u"||!(I instanceof ee))throw I;return-I.Ka}},b:function(o,l,d){C=d;try{var x=oe(o);switch(l){case 0:var I=J();return 0>I?-28:Lr(x,I).fd;case 1:case 2:case 6:case 7:return 0;case 3:return x.flags;case 4:return I=J(),x.flags|=I,0;case 5:return I=J(),ce[I+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return fe[Hr()>>2]=28,-1}}catch(Y){if(typeof _>"u"||!(Y instanceof ee))throw Y;return-Y.Ka}},G:function(o,l){try{var d=oe(o);return F(Vt,d.path,l)}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return-x.Ka}},l:function(o,l,d){try{if(l=d+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*d:NaN,isNaN(l))return-61;var x=st[o];if(!x)throw new ee(8);if(0==(2097155&x.flags))throw new ee(28);return mr(x.node,l),0}catch(I){if(typeof _>"u"||!(I instanceof ee))throw I;return-I.Ka}},B:function(o,l){try{if(0===l)return-28;var d=X("/")+1;return l<d?-68:(p("/",Se,o,l),d)}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return-x.Ka}},E:function(o,l){try{return o=W(o),F(Zr,o,l)}catch(d){if(typeof _>"u"||!(d instanceof ee))throw d;return-d.Ka}},y:function(o,l,d){try{return l=B(o,l=W(l)),"/"===(l=_e(l))[l.length-1]&&(l=l.substr(0,l.length-1)),ct(l,d),0}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return-x.Ka}},D:function(o,l,d,x){try{l=W(l);var I=256&x;return l=B(o,l,4096&x),F(I?Zr:Vt,l,d)}catch(Y){if(typeof _>"u"||!(Y instanceof ee))throw Y;return-Y.Ka}},v:function(o,l,d,x){C=x;try{l=B(o,l=W(l));var I=x?J():0;return lt(l,d,I).fd}catch(Y){if(typeof _>"u"||!(Y instanceof ee))throw Y;return-Y.Ka}},t:function(o,l,d,x){try{if(l=B(o,l=W(l)),0>=x)return-28;var I=Ur(l),Y=Math.min(x,X(I)),re=te[d+Y];return p(I,Se,d,x+1),te[d+Y]=re,Y}catch(Te){if(typeof _>"u"||!(Te instanceof ee))throw Te;return-Te.Ka}},s:function(o){try{return o=W(o),zr(o),0}catch(l){if(typeof _>"u"||!(l instanceof ee))throw l;return-l.Ka}},F:function(o,l){try{return o=W(o),F(Vt,o,l)}catch(d){if(typeof _>"u"||!(d instanceof ee))throw d;return-d.Ka}},p:function(o,l,d){try{return l=B(o,l=W(l)),0===d?Mr(l):512===d?zr(l):He("Invalid flags passed to unlinkat"),0}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return-x.Ka}},o:function(o,l,d){try{if(l=B(o,l=W(l),!0),d){var x=le(d),I=fe[d+8>>2];Y=1e3*x+I/1e6,re=1e3*(x=le(d+=16))+(I=fe[d+8>>2])/1e6}else var Y=Date.now(),re=Y;o=Y;var Te=tt(l,{Sa:!0}).node;return Te.Ga.Oa(Te,{timestamp:Math.max(o,re)}),0}catch(Le){if(typeof _>"u"||!(Le instanceof ee))throw Le;return-Le.Ka}},e:function(){return Date.now()},j:function(o,l){o=new Date(1e3*le(o)),fe[l>>2]=o.getSeconds(),fe[l+4>>2]=o.getMinutes(),fe[l+8>>2]=o.getHours(),fe[l+12>>2]=o.getDate(),fe[l+16>>2]=o.getMonth(),fe[l+20>>2]=o.getFullYear()-1900,fe[l+24>>2]=o.getDay();var d=new Date(o.getFullYear(),0,1);fe[l+28>>2]=(o.getTime()-d.getTime())/864e5|0,fe[l+36>>2]=-60*o.getTimezoneOffset();var x=new Date(o.getFullYear(),6,1).getTimezoneOffset();d=d.getTimezoneOffset(),fe[l+32>>2]=0|(x!=d&&o.getTimezoneOffset()==Math.min(d,x))},w:function(o,l,d,x,I,Y){try{var re=oe(x);if(0!=(2&l)&&0==(2&d)&&2!=(2097155&re.flags))throw new ee(2);if(1==(2097155&re.flags))throw new ee(2);if(!re.Ha.bb)throw new ee(43);var Te=re.Ha.bb(re,o,I,l,d),Le=Te.Fb;return fe[Y>>2]=Te.vb,Le}catch(Ce){if(typeof _>"u"||!(Ce instanceof ee))throw Ce;return-Ce.Ka}},x:function(o,l,d,x,I,Y){try{var re=oe(I);if(2&d){var Te=Se.slice(o,o+l);re&&re.Ha.cb&&re.Ha.cb(re,Te,Y,l,x)}}catch(Le){if(typeof _>"u"||!(Le instanceof ee))throw Le;return-Le.Ka}},n:function be(o,l,d){be.Bb||(be.Bb=!0,function ye(o,l,d){function x(Le){return(Le=Le.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Le[1]:"GMT"}var I=(new Date).getFullYear(),Y=new Date(I,0,1),re=new Date(I,6,1);I=Y.getTimezoneOffset();var Te=re.getTimezoneOffset();fe[o>>2]=60*Math.max(I,Te),fe[l>>2]=Number(I!=Te),o=x(Y),l=x(re),o=de(o),l=de(l),Te<I?($[d>>2]=o,$[d+4>>2]=l):($[d>>2]=l,$[d+4>>2]=o)}(o,l,d))},q:function(){return 2147483648},d:Re,c:function(o){var l=Se.length;if(2147483648<(o>>>=0))return!1;for(var d=1;4>=d;d*=2){var x=l*(1+.2/d);x=Math.min(x,o+100663296);var I=Math;x=Math.max(o,x),I=I.min.call(I,2147483648,x+(65536-x%65536)%65536);e:{try{G.grow(I-ke.byteLength+65535>>>16),ge();var Y=1;break e}catch{}Y=void 0}if(Y)return!0}return!1},z:function(o,l){var d=0;return Be().forEach(function(x,I){var Y=l+d;for(I=$[o+4*I>>2]=Y,Y=0;Y<x.length;++Y)te[I++>>0]=x.charCodeAt(Y);te[I>>0]=0,d+=x.length+1}),0},A:function(o,l){var d=Be();$[o>>2]=d.length;var x=0;return d.forEach(function(I){x+=I.length+1}),$[l>>2]=x,0},f:function(o){try{var l=oe(o);return or(l),0}catch(d){if(typeof _>"u"||!(d instanceof ee))throw d;return d.Ka}},m:function(o,l){try{var d=oe(o);return te[l>>0]=d.tty?2:16384==(61440&d.mode)?3:40960==(61440&d.mode)?7:4,0}catch(x){if(typeof _>"u"||!(x instanceof ee))throw x;return x.Ka}},u:function(o,l,d,x){try{e:{var I=oe(o);o=l;for(var Y=l=0;Y<d;Y++){var re=$[o>>2],Te=$[o+4>>2];o+=8;var Le=qr(I,te,re,Te);if(0>Le){var Ce=-1;break e}if(l+=Le,Le<Te)break}Ce=l}return $[x>>2]=Ce,0}catch(Ve){if(typeof _>"u"||!(Ve instanceof ee))throw Ve;return Ve.Ka}},k:function(o,l,d,x,I){try{if(l=d+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*d:NaN,isNaN(l))return 61;var Y=oe(o);return Tt(Y,l,x),j=[Y.position>>>0,(b=Y.position,1<=+Math.abs(b)?0<b?(0|Math.min(+Math.floor(b/4294967296),4294967295))>>>0:~~+Math.ceil((b-+(~~b>>>0))/4294967296)>>>0:0)],fe[I>>2]=j[0],fe[I+4>>2]=j[1],Y.hb&&0===l&&0===x&&(Y.hb=null),0}catch(re){if(typeof _>"u"||!(re instanceof ee))throw re;return re.Ka}},C:function(o){try{var l=oe(o);return l.Ha&&l.Ha.fsync?l.Ha.fsync(l):0}catch(d){if(typeof _>"u"||!(d instanceof ee))throw d;return d.Ka}},r:function(o,l,d,x){try{e:{var I=oe(o);o=l;for(var Y=l=0;Y<d;Y++){var re=$[o>>2],Te=$[o+4>>2];o+=8;var Le=Yt(I,te,re,Te);if(0>Le){var Ce=-1;break e}l+=Le}Ce=l}return $[x>>2]=Ce,0}catch(Ve){if(typeof _>"u"||!(Ve instanceof ee))throw Ve;return Ve.Ka}}};(function(){function o(I){u.asm=I.exports,G=u.asm.I,ge(),pe=u.asm.Aa,Ge.unshift(u.asm.J),Ue--,u.monitorRunDependencies&&u.monitorRunDependencies(Ue),0==Ue&&Me&&(I=Me,Me=null,I())}function l(I){o(I.instance)}function d(I){return function T(){if(!Q&&(w||y)){if("function"==typeof fetch&&!h.startsWith("file://"))return fetch(h,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+h+"'";return o.arrayBuffer()}).catch(function(){return V()});if(E)return new Promise(function(o,l){E(h,function(d){o(new Uint8Array(d))},l)})}return Promise.resolve().then(function(){return V()})}().then(function(Y){return WebAssembly.instantiate(Y,x)}).then(function(Y){return Y}).then(I,function(Y){M("failed to asynchronously prepare wasm: "+Y),He(Y)})}var x={a:_n};if(Ue++,u.monitorRunDependencies&&u.monitorRunDependencies(Ue),u.instantiateWasm)try{return u.instantiateWasm(x,o)}catch(I){return M("Module.instantiateWasm callback failed with error: "+I),!1}Q||"function"!=typeof WebAssembly.instantiateStreaming||Xe()||h.startsWith("file://")||S||"function"!=typeof fetch?d(l):fetch(h,{credentials:"same-origin"}).then(function(I){return WebAssembly.instantiateStreaming(I,x).then(l,function(Y){return M("wasm streaming compile failed: "+Y),M("falling back to ArrayBuffer instantiation"),d(l)})})})(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.J).apply(null,arguments)},u._sqlite3_free=function(){return(u._sqlite3_free=u.asm.K).apply(null,arguments)},u._sqlite3_value_double=function(){return(u._sqlite3_value_double=u.asm.L).apply(null,arguments)},u._sqlite3_value_text=function(){return(u._sqlite3_value_text=u.asm.M).apply(null,arguments)};var Hr=u.___errno_location=function(){return(Hr=u.___errno_location=u.asm.N).apply(null,arguments)};u._sqlite3_prepare_v2=function(){return(u._sqlite3_prepare_v2=u.asm.O).apply(null,arguments)},u._sqlite3_step=function(){return(u._sqlite3_step=u.asm.P).apply(null,arguments)},u._sqlite3_finalize=function(){return(u._sqlite3_finalize=u.asm.Q).apply(null,arguments)},u._sqlite3_reset=function(){return(u._sqlite3_reset=u.asm.R).apply(null,arguments)},u._sqlite3_value_int=function(){return(u._sqlite3_value_int=u.asm.S).apply(null,arguments)},u._sqlite3_clear_bindings=function(){return(u._sqlite3_clear_bindings=u.asm.T).apply(null,arguments)},u._sqlite3_value_blob=function(){return(u._sqlite3_value_blob=u.asm.U).apply(null,arguments)},u._sqlite3_value_bytes=function(){return(u._sqlite3_value_bytes=u.asm.V).apply(null,arguments)},u._sqlite3_value_type=function(){return(u._sqlite3_value_type=u.asm.W).apply(null,arguments)},u._sqlite3_result_blob=function(){return(u._sqlite3_result_blob=u.asm.X).apply(null,arguments)},u._sqlite3_result_double=function(){return(u._sqlite3_result_double=u.asm.Y).apply(null,arguments)},u._sqlite3_result_error=function(){return(u._sqlite3_result_error=u.asm.Z).apply(null,arguments)},u._sqlite3_result_int=function(){return(u._sqlite3_result_int=u.asm._).apply(null,arguments)},u._sqlite3_result_int64=function(){return(u._sqlite3_result_int64=u.asm.$).apply(null,arguments)},u._sqlite3_result_null=function(){return(u._sqlite3_result_null=u.asm.aa).apply(null,arguments)},u._sqlite3_result_text=function(){return(u._sqlite3_result_text=u.asm.ba).apply(null,arguments)},u._sqlite3_sql=function(){return(u._sqlite3_sql=u.asm.ca).apply(null,arguments)},u._sqlite3_aggregate_context=function(){return(u._sqlite3_aggregate_context=u.asm.da).apply(null,arguments)},u._sqlite3_column_count=function(){return(u._sqlite3_column_count=u.asm.ea).apply(null,arguments)},u._sqlite3_data_count=function(){return(u._sqlite3_data_count=u.asm.fa).apply(null,arguments)},u._sqlite3_column_blob=function(){return(u._sqlite3_column_blob=u.asm.ga).apply(null,arguments)},u._sqlite3_column_bytes=function(){return(u._sqlite3_column_bytes=u.asm.ha).apply(null,arguments)},u._sqlite3_column_double=function(){return(u._sqlite3_column_double=u.asm.ia).apply(null,arguments)},u._sqlite3_column_text=function(){return(u._sqlite3_column_text=u.asm.ja).apply(null,arguments)},u._sqlite3_column_type=function(){return(u._sqlite3_column_type=u.asm.ka).apply(null,arguments)},u._sqlite3_column_name=function(){return(u._sqlite3_column_name=u.asm.la).apply(null,arguments)},u._sqlite3_bind_blob=function(){return(u._sqlite3_bind_blob=u.asm.ma).apply(null,arguments)},u._sqlite3_bind_double=function(){return(u._sqlite3_bind_double=u.asm.na).apply(null,arguments)},u._sqlite3_bind_int=function(){return(u._sqlite3_bind_int=u.asm.oa).apply(null,arguments)},u._sqlite3_bind_text=function(){return(u._sqlite3_bind_text=u.asm.pa).apply(null,arguments)},u._sqlite3_bind_parameter_index=function(){return(u._sqlite3_bind_parameter_index=u.asm.qa).apply(null,arguments)},u._sqlite3_normalized_sql=function(){return(u._sqlite3_normalized_sql=u.asm.ra).apply(null,arguments)},u._sqlite3_errmsg=function(){return(u._sqlite3_errmsg=u.asm.sa).apply(null,arguments)},u._sqlite3_exec=function(){return(u._sqlite3_exec=u.asm.ta).apply(null,arguments)},u._sqlite3_changes=function(){return(u._sqlite3_changes=u.asm.ua).apply(null,arguments)},u._sqlite3_close_v2=function(){return(u._sqlite3_close_v2=u.asm.va).apply(null,arguments)},u._sqlite3_create_function_v2=function(){return(u._sqlite3_create_function_v2=u.asm.wa).apply(null,arguments)},u._sqlite3_open=function(){return(u._sqlite3_open=u.asm.xa).apply(null,arguments)};var Qt=u._malloc=function(){return(Qt=u._malloc=u.asm.ya).apply(null,arguments)},Vr=u._free=function(){return(Vr=u._free=u.asm.za).apply(null,arguments)};u._RegisterExtensionFunctions=function(){return(u._RegisterExtensionFunctions=u.asm.Ba).apply(null,arguments)};var Yr,bi=u._emscripten_builtin_memalign=function(){return(bi=u._emscripten_builtin_memalign=u.asm.Ca).apply(null,arguments)},vr=u.stackSave=function(){return(vr=u.stackSave=u.asm.Da).apply(null,arguments)},br=u.stackRestore=function(){return(br=u.stackRestore=u.asm.Ea).apply(null,arguments)},Ft=u.stackAlloc=function(){return(Ft=u.stackAlloc=u.asm.Fa).apply(null,arguments)};function wi(){function o(){if(!Yr&&(Yr=!0,u.calledRun=!0,!ue)){if(u.noFSInit||Gr||(Gr=!0,Wr(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?Kt("stdin",u.stdin):dr("/dev/tty","/dev/stdin"),u.stdout?Kt("stdout",null,u.stdout):dr("/dev/tty","/dev/stdout"),u.stderr?Kt("stderr",null,u.stderr):dr("/dev/tty1","/dev/stderr"),lt("/dev/stdin",0),lt("/dev/stdout",1),lt("/dev/stderr",1)),Gt=!1,se(Ge),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var l=u.postRun.shift();Ie.unshift(l)}se(Ie)}}if(!(0<Ue)){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)je();se(Ze),0<Ue||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),o()},1)):o())}}if(u.UTF8ToString=W,u.stackAlloc=Ft,u.stackSave=vr,u.stackRestore=br,u.cwrap=function(o,l,d,x){var I=(d=d||[]).every(Y=>"number"===Y||"boolean"===Y);return"string"!==l&&I&&!x?u["_"+o]:function(){return gr(o,l,d,arguments)}},Me=function o(){Yr||wi(),Yr||(Me=o)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return wi(),c}),e)};n.exports=r,n.exports.default=r});const un=function(){var n=(0,z.Z)(function*(t,e){try{const r=yield e.getItem(t);return Promise.resolve(r)}catch(r){return Promise.reject(`GetDBFromStore: ${r.message}`)}});return function(e,r){return n.apply(this,arguments)}}(),zs=function(){var n=(0,z.Z)(function*(t,e){try{return yield e.setItem(t,null),Promise.resolve()}catch(r){return Promise.reject(`SetInitialDBToStore: ${r.message}`)}});return function(e,r){return n.apply(this,arguments)}}(),Ms=function(){var n=(0,z.Z)(function*(t,e,r){try{const i=t.export();return yield Mt(e,i,r),Promise.resolve()}catch(i){return Promise.reject(`SetDBToStore: ${i.message}`)}});return function(e,r,i){return n.apply(this,arguments)}}(),Mt=function(){var n=(0,z.Z)(function*(t,e,r){try{return yield r.setItem(t,e),Promise.resolve()}catch(i){return Promise.reject(`SaveDBToStore: ${i.message}`)}});return function(e,r,i){return n.apply(this,arguments)}}(),tr=function(){var n=(0,z.Z)(function*(t,e){try{return yield e.removeItem(t),Promise.resolve()}catch(r){return Promise.reject(`RemoveDBFromStore: ${r.message}`)}});return function(e,r){return n.apply(this,arguments)}}(),St=function(){var n=(0,z.Z)(function*(t,e){try{const r=yield e.getItem(t);return Promise.resolve(null!=r&&r.length>0)}catch(r){return Promise.reject(`IsDBInStore: ${r}`)}});return function(e,r){return n.apply(this,arguments)}}(),Jn=function(){var n=(0,z.Z)(function*(t,e,r){const i=`${e}-${t}`;try{if(yield St(i,r)){if(yield St(t,r)){const c=yield un(i,r);return yield Mt(t,c,r),yield tr(i,r),Promise.resolve()}return Promise.reject(new Error(`RestoreDBFromStore: ${t} does not exist`))}return Promise.reject(new Error(`RestoreDBFromStore: ${i} does not exist`))}catch(s){return Promise.reject(`RestoreDBFromStore: ${s.message}`)}});return function(e,r,i){return n.apply(this,arguments)}}(),Us=function(){var n=(0,z.Z)(function*(t,e,r){try{if(yield St(t,r)){const s=yield un(t,r);return yield Mt(e,s,r),Promise.resolve()}return Promise.reject(new Error(`CopyDBToStore: ${t} does not exist`))}catch(i){return Promise.reject(`CopyDBToStore: ${i.message}`)}});return function(e,r,i){return n.apply(this,arguments)}}(),Zs=function(){var n=(0,z.Z)(function*(t){try{const e=yield t.keys();return Promise.resolve(e)}catch(e){return Promise.reject(`GetDBListFromStore: ${e.message}`)}});return function(e){return n.apply(this,arguments)}}(),cn=function(){var n=(0,z.Z)(function*(t){let e="SELECT name FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%' ",e+="ORDER BY rootpage DESC;";const r=[];try{const i=yield Je(t,"SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sync_table' AND name NOT LIKE '_temp_%' AND name NOT LIKE 'sqlite_%' ORDER BY rootpage DESC;",[]);for(const s of i)r.push(s.name);return Promise.resolve(r)}catch(i){return Promise.reject(new Error(`GetTablesNames: ${i.message}`))}});return function(e){return n.apply(this,arguments)}}(),Ir=function(){var n=(0,z.Z)(function*(t,e){let r="",i="AND name NOT LIKE ('sqlite_%')";switch(e){case"index":r="DropIndexes";break;case"trigger":r="DropTriggers";break;case"table":r="DropTables",i+=" AND name NOT IN ('sync_table')";break;case"view":r="DropViews";break;default:return Promise.reject(new Error(`DropElements: ${e} not found`))}let s="SELECT name FROM sqlite_master WHERE ";s+=`type = '${e}' ${i};`;try{const a=yield Je(t,s,[]);if(a.length>0){const c=e.toUpperCase(),f=[];for(const u of a){let v=`DROP ${c} IF EXISTS `;v+=`${u.name};`,f.push(v)}for(const u of f)if((yield Wt(t,u,[],!1))<0)return Promise.reject(new Error(`DropElements: ${r}: lastId < 0`))}return Promise.resolve()}catch(a){return Promise.reject(new Error(`DropElements: ${r}: ${a.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),qs=function(){var n=(0,z.Z)(function*(t){try{return yield Ir(t,"table"),yield Ir(t,"index"),yield Ir(t,"trigger"),yield Ir(t,"view"),yield Wt(t,"VACUUM;",[],!1),Promise.resolve()}catch(e){return Promise.reject(new Error(`DropAll: ${e.message}`))}});return function(e){return n.apply(this,arguments)}}(),ln=function(){var n=(0,z.Z)(function*(t){const e=["database","version","overwrite","encrypted","mode","tables","views"];if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const r of Object.keys(t)){if(-1===e.indexOf(r)||"database"===r&&"string"!=typeof t[r]||"version"===r&&"number"!=typeof t[r]||"overwrite"===r&&"boolean"!=typeof t[r]||"encrypted"===r&&"boolean"!=typeof t[r]||"mode"===r&&"string"!=typeof t[r]||"tables"===r&&"object"!=typeof t[r])return!1;if("tables"===r)for(const i of t[r])if(!(yield Ws(i)))return!1;if("views"===r&&"object"!=typeof t[r])return!1;if("views"===r)for(const i of t[r])if(!(yield Gs(i)))return!1}return!0});return function(e){return n.apply(this,arguments)}}(),Ws=function(){var n=(0,z.Z)(function*(t){const e=["name","schema","indexes","triggers","values"];let r=0;if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const i of Object.keys(t)){if(-1===e.indexOf(i)||"name"===i&&"string"!=typeof t[i]||"schema"===i&&"object"!=typeof t[i]||"indexes"===i&&"object"!=typeof t[i]||"triggers"===i&&"object"!=typeof t[i]||"values"===i&&"object"!=typeof t[i])return!1;if("schema"===i){t.schema.forEach(s=>{s.column&&r++});for(let s=0;s<r;s++)if(!(yield Xn(t[i][s])))return!1}if("indexes"===i)for(const s of t[i])if(!(yield ei(s)))return!1;if("triggers"===i)for(const s of t[i])if(!(yield ti(s)))return!1;if("values"===i&&r>0)for(const s of t[i])if("object"!=typeof s||s.length!=r)return!1}return!0});return function(e){return n.apply(this,arguments)}}(),Xn=function(){var n=(0,z.Z)(function*(t){const e=["column","value","foreignkey","primarykey","constraint"];if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const r of Object.keys(t))if(-1===e.indexOf(r)||"column"===r&&"string"!=typeof t[r]||"value"===r&&"string"!=typeof t[r]||"foreignkey"===r&&"string"!=typeof t[r]||"primarykey"===r&&"string"!=typeof t[r]||"constraint"===r&&"string"!=typeof t[r])return!1;return!0});return function(e){return n.apply(this,arguments)}}(),ei=function(){var n=(0,z.Z)(function*(t){const e=["name","value","mode"];if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const r of Object.keys(t))if(-1===e.indexOf(r)||"name"===r&&"string"!=typeof t[r]||"value"===r&&"string"!=typeof t[r]||"mode"===r&&("string"!=typeof t[r]||"UNIQUE"!=t[r].toUpperCase()))return!1;return!0});return function(e){return n.apply(this,arguments)}}(),ti=function(){var n=(0,z.Z)(function*(t){const e=["name","timeevent","condition","logic"];if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const r of Object.keys(t))if(-1===e.indexOf(r)||"name"===r&&"string"!=typeof t[r]||"timeevent"===r&&"string"!=typeof t[r]||"condition"===r&&"string"!=typeof t[r]||"logic"===r&&"string"!=typeof t[r])return!1;return!0});return function(e){return n.apply(this,arguments)}}(),Gs=function(){var n=(0,z.Z)(function*(t){const e=["name","value"];if(null==t||0===Object.keys(t).length&&t.constructor===Object)return!1;for(const r of Object.keys(t))if(-1===e.indexOf(r)||"name"===r&&"string"!=typeof t[r]||"value"===r&&"string"!=typeof t[r])return!1;return!0});return function(e){return n.apply(this,arguments)}}(),ri=function(){var n=(0,z.Z)(function*(t){for(let e=0;e<t.length;e++){const r={},i=Object.keys(t[e]);if(i.includes("column")&&(r.column=t[e].column),i.includes("value")&&(r.value=t[e].value),i.includes("foreignkey")&&(r.foreignkey=t[e].foreignkey),i.includes("constraint")&&(r.constraint=t[e].constraint),!(yield Xn(r)))return Promise.reject(new Error(`CheckSchemaValidity: schema[${e}] not valid`))}return Promise.resolve()});return function(e){return n.apply(this,arguments)}}(),ni=function(){var n=(0,z.Z)(function*(t){for(let e=0;e<t.length;e++){const r={},i=Object.keys(t[e]);if(i.includes("value")&&(r.value=t[e].value),i.includes("name")&&(r.name=t[e].name),i.includes("mode")&&(r.mode=t[e].mode),!(yield ei(r)))return Promise.reject(new Error(`CheckIndexesValidity: indexes[${e}] not valid`))}return Promise.resolve()});return function(e){return n.apply(this,arguments)}}(),ii=function(){var n=(0,z.Z)(function*(t){for(let e=0;e<t.length;e++){const r={},i=Object.keys(t[e]);if(i.includes("logic")&&(r.logic=t[e].logic),i.includes("name")&&(r.name=t[e].name),i.includes("timeevent")&&(r.timeevent=t[e].timeevent),i.includes("condition")&&(r.condition=t[e].condition),!(yield ti(r)))return Promise.reject(new Error(`CheckTriggersValidity: triggers[${e}] not valid`))}return Promise.resolve()});return function(e){return n.apply(this,arguments)}}(),Or=function(){var n=(0,z.Z)(function*(t,e){let r=[];const i=[],s=[],a=`PRAGMA table_info('${e}');`;try{if(r=yield Je(t,a,[]),r.length>0)for(const c of r)i.push(c.name),s.push(c.type);return Promise.resolve({names:i,types:s})}catch(c){return Promise.reject(new Error(`GetTableColumnNamesTypes: ${c.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),fn=function(){var n=(0,z.Z)(function*(t,e,r){const i=[];try{const s=yield Or(t,r);let a=[];if(!Object.keys(s).includes("names"))return Promise.reject(new Error(`GetValues: Table ${r} no names`));a=s.names;const c=yield Je(t,e,[]);for(const f of c){const u=[];for(const v of a)Object.keys(f).includes(v)?u.push(f[v]):u.push(null);i.push(u)}return Promise.resolve(i)}catch(s){return Promise.reject(new Error(`GetValues: ${s.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),Ut=function(){var n=(0,z.Z)(function*(t,e){const r="BeginTransaction: ";if(!e)return Promise.reject(new Error(`${r}database not opened`));try{return t.exec("BEGIN TRANSACTION;"),Promise.resolve()}catch(s){return Promise.reject(new Error(`${r}${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),Ct=function(){var n=(0,z.Z)(function*(t,e){const r="RollbackTransaction: ";if(!e)return Promise.reject(new Error(`${r}database not opened`));try{return t.exec("ROLLBACK TRANSACTION;"),Promise.resolve()}catch(s){return Promise.reject(new Error(`${r}${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),Zt=function(){var n=(0,z.Z)(function*(t,e){const r="CommitTransaction: ";if(!e)return Promise.reject(new Error(`${r}database not opened`));try{return t.exec("COMMIT TRANSACTION;"),Promise.resolve()}catch(s){return Promise.reject(new Error(`${r}${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),ut=function(){var n=(0,z.Z)(function*(t){let r=0;try{return r=t.exec("SELECT total_changes()")[0].values[0][0],Promise.resolve(r)}catch(i){return Promise.reject(new Error(`DbChanges failed: ${i.message}`))}});return function(e){return n.apply(this,arguments)}}(),hn=function(){var n=(0,z.Z)(function*(t){let r=-1;try{return r=t.exec("SELECT last_insert_rowid()")[0].values[0][0],Promise.resolve(r)}catch(i){return Promise.reject(new Error(`GetLastId failed: ${i.message}`))}});return function(e){return n.apply(this,arguments)}}(),rr=function(){var n=(0,z.Z)(function*(t,e){let r="PRAGMA foreign_keys=OFF";e&&(r="PRAGMA foreign_keys=ON");try{return t.run(r),Promise.resolve()}catch(i){return Promise.reject(new Error(`SetForeignKey: ${i.message?i.message:i}`))}});return function(e,r){return n.apply(this,arguments)}}(),si=function(){var n=(0,z.Z)(function*(t){let e=0;try{return e=t.exec("PRAGMA user_version;")[0].values[0][0],Promise.resolve(e)}catch(r){return Promise.reject(new Error(`GetVersion: ${r.message}`))}});return function(e){return n.apply(this,arguments)}}(),oi=function(){var n=(0,z.Z)(function*(t,e){try{return t.exec(`PRAGMA user_version = ${e}`),Promise.resolve()}catch(r){return Promise.reject(new Error(`SetVersion: ${r.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),qt=function(){var n=(0,z.Z)(function*(t,e,r){let i=-1,s=-1;try{s=yield ut(t);var a=e;if(!r&&e.toLowerCase().includes("DELETE FROM".toLowerCase())){let f=(a=e.replace(/\n/g,"")).split(";");var c=[];for(const u of f)if("DELETE FROM"===u.trim().substring(0,11).toUpperCase()&&u.toLowerCase().includes("WHERE".toLowerCase())){const m=u.trim(),w=yield ai(t,m,[]);c.push(w)}else c.push(u);a=c.join(";")}return t.exec(a),i=(yield ut(t))-s,Promise.resolve(i)}catch(f){return Promise.reject(new Error(`Execute: ${f.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),Hs=function(){var n=(0,z.Z)(function*(t,e,r){let i=-1;for(let s=0;s<e.length;s++){const a="statement"in e[s]?e[s].statement:null,c="values"in e[s]&&e[s].values.length>0?e[s].values:[];if(null==a){let f="ExecuteSet: Error No statement";return f+=` for index ${s}`,Promise.reject(new Error(f))}try{if(Array.isArray(c[0]))for(const f of c){const u=yield jr(f);yield Wt(t,a,u,r)}else{const f=yield jr(c);yield Wt(t,a,f,r)}i=yield hn(t)}catch(f){return Promise.reject(new Error(`ExecuteSet: ${f.message}`))}}return Promise.resolve(i)});return function(e,r,i){return n.apply(this,arguments)}}(),Je=function(){var n=(0,z.Z)(function*(t,e,r){const i=[];try{let s=[];if(s=null!=r&&r.length>0?t.exec(e,r):t.exec(e),0==s.length)return Promise.resolve([]);for(const a of s[0].values){const c={};for(let f=0;f<s[0].columns.length;f++)c[s[0].columns[f]]=a[f];i.push(c)}return Promise.resolve(i)}catch(s){return Promise.reject(new Error(`queryAll: ${s.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),Wt=function(){var n=(0,z.Z)(function*(t,e,r,i){let s=e.replace(/\n/g,"").trim().substring(0,6).toUpperCase(),a=-1,c=e;try{if(!i&&"DELETE"===s&&(c=yield ai(t,e,r)),null!=r&&r.length>0){const f=yield jr(r);t.exec(c,f)}else t.exec(c);return a=yield hn(t),Promise.resolve(a)}catch(f){return Promise.reject(new Error(`run: ${f.message}`))}});return function(e,r,i,s){return n.apply(this,arguments)}}(),ai=function(){var n=(0,z.Z)(function*(t,e,r){let i=e;try{const s=yield ci(t,!0),a=yield li(t,!0);if(s&&a){const c=e.toUpperCase().indexOf("WHERE"),f=e.substring(0,c-1),u=e.substring(c,e.length),v=f.substring(11).trim();i=`UPDATE ${v} SET sql_deleted = 1 ${u}`,yield Vs(t,v,u,r)}return Promise.resolve(i)}catch(s){return Promise.reject(new Error(`deleteSQL: ${s.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),Vs=function(){var n=(0,z.Z)(function*(t,e,r,i){try{const s=yield Xs(t,e),a=s.pop();for(const c of s){const f=yield Ys(c);if(f.length<=0)continue;const u=yield Qs(c);if(u.length<=0)continue;const v=yield Ks(c);if(v.length<=0)continue;const m=yield Js(r,u,v);if(m.length<=6)continue;let w=a,y=v;a===e&&(w=f,y=u);const S="UPDATE "+w+" SET sql_deleted = 1 "+m;if(null!=i&&i.length>0){const P=yield jr(i);let E=r.split("?");";"===E[E.length-1]&&(E=E.slice(0,-1));let D=[];for(const[N,L]of E.entries())for(let A=0;A<y.length;A++)L.indexOf(y[A])>-1&&D.push(P[N]);t.exec(S,D)}else t.exec(S);if(-1==(yield hn(t))){const P=`UPDATE sql_deleted failed for references table: ${f}`;return Promise.reject(new Error(`findReferencesAndUpdate: ${P}`))}}return}catch(s){return Promise.reject(new Error(`findReferencesAndUpdate: ${s.message}`))}});return function(e,r,i,s){return n.apply(this,arguments)}}(),Ys=function(){var n=(0,z.Z)(function*(t){var e="";if(t.length>0){const r=t.split(new RegExp("REFERENCES","i"));if(2===r.length){const i=r[1].indexOf("(");e=r[1].substring(0,i).trim()}}return e});return function(e){return n.apply(this,arguments)}}(),Ks=function(){var n=(0,z.Z)(function*(t){let e=[];if(t.length>0){const r=t.split(new RegExp("REFERENCES","i"));if(2===r.length){const i=r[1].indexOf("("),s=r[1].indexOf(")");e=r[1].substring(i+1,s).trim().split(",")}}return e});return function(e){return n.apply(this,arguments)}}(),Qs=function(){var n=(0,z.Z)(function*(t){let e=[];if(t.length>0){const r=t.split(new RegExp("REFERENCES","i"));if(2===r.length){const i=r[0].indexOf("("),s=r[0].indexOf(")");e=r[0].substring(i+1,s).trim().split(",")}}return e});return function(e){return n.apply(this,arguments)}}(),Js=function(){var n=(0,z.Z)(function*(t,e,r){var i="";if(t.length>0){const s=t.toLowerCase().indexOf("WHERE".toLowerCase()),a=t.substring(s+6);if(e.length===r.length){for(let c=0;c<e.length;c++){let f="withRefsNames",u=a.indexOf(e[c]);if(-1===u&&(u=a.indexOf(r[c]),f="colNames"),u>-1){let v="";const m=a.indexOf("=",u);if(m>-1){const w=a.indexOf("AND",m),y=a.indexOf("and",m);v=w>-1?a.substring(m+1,w-1).trim():y>-1?a.substring(m+1,y-1).trim():a.substring(m+1,a.length).trim(),c>0&&(i+=" AND "),i+="withRefsNames"===f?`${r[c]} = ${v}`:`${e[c]} = ${v}`}}}i="WHERE "+i}}return i});return function(e,r,i){return n.apply(this,arguments)}}(),Xs=function(){var n=(0,z.Z)(function*(t,e){const r="SELECT sql FROM sqlite_master WHERE sql LIKE('%FOREIGN KEY%') AND sql LIKE('%REFERENCES%') AND sql LIKE('%"+e+"%') AND sql LIKE('%ON DELETE%');";try{const i=yield Je(t,r,[]);let s=[];return i.length>0&&(s=eo(i[0].sql)),Promise.resolve(s)}catch(i){return Promise.reject(new Error(`getReferences: ${i.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),ui=function(){var n=(0,z.Z)(function*(t){try{const e=yield cn(t);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`getTableList: ${e.message}`))}});return function(e){return n.apply(this,arguments)}}(),kt=function(){var n=(0,z.Z)(function*(t,e){try{let r="SELECT name FROM sqlite_master WHERE ";r+=`type='table' AND name='${e}';`;const s=(yield Je(t,r,[])).length>0;return Promise.resolve(s)}catch(r){return Promise.reject(new Error(`isTableExists: ${r.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),ci=function(){var n=(0,z.Z)(function*(t,e){if(!e)return Promise.reject("isLastModified: database not opened");try{const r=yield cn(t);for(const i of r)if((yield Or(t,i)).names.includes("last_modified"))return Promise.resolve(!0)}catch(r){return Promise.reject(`isLastModified: ${r}`)}});return function(e,r){return n.apply(this,arguments)}}(),li=function(){var n=(0,z.Z)(function*(t,e){if(!e)return Promise.reject("isSqlDeleted: database not opened");try{const r=yield cn(t);for(const i of r)if((yield Or(t,i)).names.includes("sql_deleted"))return Promise.resolve(!0)}catch(r){return Promise.reject(`isSqlDeleted: ${r}`)}});return function(e,r){return n.apply(this,arguments)}}(),jr=function(){var n=(0,z.Z)(function*(t){const e=[];for(const r of t){let i=r;typeof r>"u"&&(i=null),e.push(i)}return Promise.resolve(e)});return function(e){return n.apply(this,arguments)}}(),eo=n=>{let t=[];const e=n.split(new RegExp("FOREIGN KEY","i"));for(let r=1;r<e.length;r++)t.push(e[r].split(new RegExp("ON DELETE","i"))[0].trim());if(n.substring(0,12).toLowerCase()==="CREATE TABLE".toLowerCase()){const r=n.indexOf("("),i=n.substring(13,r).trim();t.push(i)}return t},to=function(){var n=(0,z.Z)(function*(t,e){let r=-1;const i=e.version;try{return yield oi(t,i),"full"===e.mode&&(yield qs(t)),r=yield ro(t,e),Promise.resolve(r)}catch(s){return Promise.reject(new Error(`CreateDatabaseSchema: ${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),ro=function(){var n=(0,z.Z)(function*(t,e){let r=0;try{yield Ut(t,!0)}catch(s){return Promise.reject(new Error(`CreateSchema: ${s.message}`))}const i=yield no(e);if(i.length>0){const s=i.join("\n");try{if(r=yield qt(t,s,!0),r<0)try{yield Ct(t,!0)}catch(a){return Promise.reject(new Error(`CreateSchema: changes < 0 ${a.message}`))}}catch(a){const c=a.message;try{return yield Ct(t,!0),Promise.reject(new Error(`CreateSchema: ${c}`))}catch(f){return Promise.reject(new Error(`CreateSchema: changes < 0 ${f.message}: ${c}`))}}}try{return yield Zt(t,!0),Promise.resolve(r)}catch(s){return Promise.reject(new Error(`CreateSchema: commit ${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),no=function(){var n=(0,z.Z)(function*(t){const e=[];let r=!1,i=!1;try{for(const s of t.tables){if(null!=s.schema&&s.schema.length>=1){e.push(`CREATE TABLE IF NOT EXISTS ${s.name} (`);for(let a=0;a<s.schema.length;a++)a===s.schema.length-1?s.schema[a].column?(e.push(`${s.schema[a].column} ${s.schema[a].value}`),"last_modified"===s.schema[a].column&&(r=!0),"sql_deleted"===s.schema[a].column&&(i=!0)):s.schema[a].foreignkey?e.push(`FOREIGN KEY (${s.schema[a].foreignkey}) ${s.schema[a].value}`):s.schema[a].constraint&&e.push(`CONSTRAINT ${s.schema[a].constraint} ${s.schema[a].value}`):s.schema[a].column?e.push(`${s.schema[a].column} ${s.schema[a].value},`):s.schema[a].foreignkey?e.push(`FOREIGN KEY (${s.schema[a].foreignkey}) ${s.schema[a].value},`):s.schema[a].primarykey?e.push(`FOREIGN KEY ${s.schema[a].value},`):s.schema[a].constraint&&e.push(`CONSTRAINT ${s.schema[a].constraint} ${s.schema[a].value},`);if(e.push(");"),r&&i){let a="CREATE TRIGGER IF NOT EXISTS ";a+=`${s.name}`,a+="_trigger_last_modified ",a+=`AFTER UPDATE ON ${s.name} `,a+="FOR EACH ROW WHEN NEW.last_modified < ",a+="OLD.last_modified BEGIN UPDATE ",a+=`${s.name} `,a+="SET last_modified = ",a+="(strftime('%s','now')) WHERE id=OLD.id; END;",e.push(a)}}if(null!=s.indexes&&s.indexes.length>=1)for(const a of s.indexes){const c=s.name;let f=`CREATE ${Object.keys(a).includes("mode")?a.mode+" ":""} INDEX IF NOT EXISTS `;f+=`${a.name} ON ${c} (${a.value});`,e.push(f)}if(null!=s.triggers&&s.triggers.length>=1)for(const a of s.triggers){const c=s.name;a.timeevent.toUpperCase().endsWith(" ON")&&(a.timeevent=a.timeevent.substring(0,a.timeevent.length-3));let f="CREATE TRIGGER IF NOT EXISTS ";f+=`${a.name} ${a.timeevent} ON ${c} `,a.condition&&(f+=`${a.condition} `),f+=`${a.logic};`,e.push(f)}}return Promise.resolve(e)}catch(s){return Promise.reject(s)}});return function(e){return n.apply(this,arguments)}}(),io=function(){var n=(0,z.Z)(function*(t,e,r){let i=0,s=!1,a=-1,c="",f=-1;try{f=yield ut(t),yield Ut(t,!0)}catch(u){return Promise.reject(new Error(`createTablesData: ${u.message}`))}for(const u of e.tables)if(null!=u.values&&u.values.length>=1)try{if(a=yield so(t,u,e.mode),r.emit({progress:`create table data ${u.name}`}),a<0)break;s=!0}catch(v){c=v.message,s=!1;break}if(s)try{return yield Zt(t,!0),i=(yield ut(t))-f,Promise.resolve(i)}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}`))}else{if(!(c.length>0))return Promise.resolve(0);try{return yield Ct(t,!0),Promise.reject(new Error(`CreateTablesData: ${c}`))}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}: ${c}`))}}});return function(e,r,i){return n.apply(this,arguments)}}(),so=function(){var n=(0,z.Z)(function*(t,e,r){let i=-1;try{if(!(yield kt(t,e.name)))return Promise.reject(new Error(`CreateTableData: Table ${e.name} does not exist`));const a=yield Or(t,e.name),f=a.names;if(0===a.types.length)return Promise.reject(new Error(`CreateTableData: Table ${e.name} info does not exist`));for(let u=0;u<e.values.length;u++){let v=e.values[u],m=!0;const w=yield oo(t,f,v,u,e.name,r);if(m=yield ao(t,w,v,e.name,f),m){if("DELETE"===w.substring(0,6).toUpperCase()&&(v=[]),i=yield Wt(t,w,v,!0),i<0)return Promise.reject(new Error("CreateTableData: lastId < 0"))}else i=0}return Promise.resolve(i)}catch(s){return Promise.reject(new Error(`CreateTableData: ${s.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),oo=function(){var n=(0,z.Z)(function*(t,e,r,i,s,a){if(r.length!=e.length||0===r.length||0===e.length)return Promise.reject(new Error(`CreateRowStatement: Table ${s} values row ${i} not correct length`));try{const c=yield uo(t,s,e[0],r[0]);let f;if("full"===a||"partial"===a&&!c){const u=e.join(),v=yield co(e.length);f=`INSERT INTO ${s} (${u}) VALUES (`,f+=`${v});`}else{let u=!0;const m=e.findIndex(w=>"sql_deleted"===w);if(m>=0&&1===r[m]&&(u=!1,f=`DELETE FROM ${s} WHERE `,f+="string"==typeof r[0]?`${e[0]} = '${r[0]}';`:`${e[0]} = ${r[0]};`),u){const w=yield lo(e);if(0===w.length)return Promise.reject(new Error(`CreateRowStatement: Table ${s} values row ${i} not set to String`));f=`UPDATE ${s} SET ${w} WHERE `,f+="string"==typeof r[0]?`${e[0]} = '${r[0]}';`:`${e[0]} = ${r[0]};`}}return Promise.resolve(f)}catch(c){return Promise.reject(new Error(`CreateRowStatement: ${c.message}`))}});return function(e,r,i,s,a,c){return n.apply(this,arguments)}}(),ao=function(){var n=(0,z.Z)(function*(t,e,r,i,s){if("UPDATE"!==e.substring(0,6))return Promise.resolve(!0);try{let c=`SELECT * FROM ${i} WHERE `;c+="string"==typeof r[0]?`${s[0]} = '${r[0]}';`:`${s[0]} = ${r[0]};`;const f=yield fn(t,c,i);let u=[];if(f.length>0&&(u=f[0]),r.length>0&&u.length>0&&r.length===u.length){for(let v=0;v<r.length;v++)if(r[v]!==u[v])return Promise.resolve(!0);return Promise.resolve(!1)}return Promise.reject(new Error("CheckUpdate: Both arrays not the same length"))}catch(c){return Promise.reject(new Error(`CheckUpdate: ${c.message}`))}});return function(e,r,i,s,a){return n.apply(this,arguments)}}(),uo=function(){var n=(0,z.Z)(function*(t,e,r,i){let s=!1,a=`SELECT ${r} FROM ${e} WHERE ${r} = `;"number"==typeof i&&(a+=`${i};`),"string"==typeof i&&(a+=`'${i}';`);try{return 1===(yield Je(t,a,[])).length&&(s=!0),Promise.resolve(s)}catch(c){return Promise.reject(new Error(`IsIdExists: ${c.message}`))}});return function(e,r,i,s){return n.apply(this,arguments)}}(),co=function(){var n=(0,z.Z)(function*(t){let e="";for(let r=0;r<t;r++)e+="?,";return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("CreateQuestionMarkString: length = 0"))});return function(e){return n.apply(this,arguments)}}(),lo=function(){var n=(0,z.Z)(function*(t){let e="";for(const r of t)e+=`${r} = ? ,`;return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("SetNameForUpdate: length = 0"))});return function(e){return n.apply(this,arguments)}}(),fo=function(){var n=(0,z.Z)(function*(t,e){const r=`CREATE VIEW IF NOT EXISTS ${e.name} AS ${e.value};`;try{return(yield qt(t,r,!0))<0?Promise.reject(new Error(`CreateView: ${e.name} failed`)):Promise.resolve()}catch(i){return Promise.reject(new Error(`CreateView: ${i.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),ho=function(){var n=(0,z.Z)(function*(t,e){let r=!1,i="",s=-1,a=-1;try{s=yield ut(t),yield Ut(t,!0)}catch(c){return Promise.reject(new Error(`createViews: ${c.message}`))}for(const c of e.views)if(null!=c.value)try{yield fo(t,c),r=!0}catch(f){i=f.message,r=!1;break}if(r)try{return yield Zt(t,!0),a=(yield ut(t))-s,Promise.resolve(a)}catch(c){return Promise.reject(new Error(`createViews: ${c.message}`))}else{if(!(i.length>0))return Promise.resolve(0);try{return yield Ct(t,!0),Promise.reject(new Error(`createViews: ${i}`))}catch(c){return Promise.reject(new Error(`createViews: ${c.message}: ${i}`))}}});return function(e,r){return n.apply(this,arguments)}}(),mo=function(){var n=(0,z.Z)(function*(t,e,r){const i={};let s=[],a=[],c="";try{a=yield po(t);const f=yield vo(t);if(0===f.length)return Promise.reject(new Error("createExportObject: table's names failed"));if(!(yield kt(t,"sync_table"))&&"partial"===e.mode)return Promise.reject(new Error("No sync_table available"));switch(e.mode){case"partial":s=yield _o(t,f,r);break;case"full":s=yield yo(t,f,r);break;default:c="createExportObject: expMode "+e.mode+" not defined"}return c.length>0?Promise.reject(new Error(c)):(s.length>0&&(i.database=e.database,i.version=e.version,i.encrypted=e.encrypted,i.mode=e.mode,i.tables=s,a.length>0&&(i.views=a)),Promise.resolve(i))}catch(f){return Promise.reject(new Error("createExportObject: "+f.message))}});return function(e,r,i){return n.apply(this,arguments)}}(),po=function(){var n=(0,z.Z)(function*(t){const e=[];let r="SELECT name,sql FROM sqlite_master WHERE ";r+="type='view' AND name NOT LIKE 'sqlite_%';";let i=[];try{i=yield Je(t,"SELECT name,sql FROM sqlite_master WHERE type='view' AND name NOT LIKE 'sqlite_%';",[]);for(const s of i){const a={};a.name=s.name,a.value=s.sql.substring(s.sql.indexOf("AS ")+3),e.push(a)}return Promise.resolve(e)}catch(s){return Promise.reject(new Error(`getViewsName: ${s.message}`))}});return function(e){return n.apply(this,arguments)}}(),yo=function(){var n=(0,z.Z)(function*(t,e,r){const i=[];let s="";try{for(const a of e){let c,f;if(!a.name){s="GetTablesFull: no name";break}if(c=a.name,!a.sql){s="GetTablesFull: no sql";break}f=a.sql;const u={},v=yield fi(f);if(0===v.length){s="GetTablesFull: no Schema returned";break}yield ri(v);const m=yield hi(t,c);m.length>0&&(yield ni(m));const w=yield di(t,c);w.length>0&&(yield ii(w));let y=`Full: Table ${c} schema export completed ...`;r.emit({progress:y});const S=`SELECT * FROM ${c};`,g=yield fn(t,S,c);if(u.name=c,!(v.length>0)){s="GetTablesFull: must contain schema";break}if(u.schema=v,m.length>0&&(u.indexes=m),w.length>0&&(u.triggers=w),g.length>0&&(u.values=g),Object.keys(u).length<=1){s=`GetTablesFull: table ${c} is not a jsonTable`;break}y=`Full: Table ${c} table data export completed ...`,r.emit({progress:y}),i.push(u)}return s.length>0?Promise.reject(new Error(s)):Promise.resolve(i)}catch(a){return Promise.reject(new Error(`GetTablesFull: ${a.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),fi=function(){var n=(0,z.Z)(function*(t){const e=[],r=t.indexOf("("),i=t.lastIndexOf(")");let s=t.substring(r+1,i);try{s=yield xo(s);const a=s.split(",");for(let c=0;c<a.length;c++){let f=[];const u=a[c].replace(/\n/g,"").trim();f[0]=u.substring(0,u.indexOf(" ")),f[1]=u.substring(u.indexOf(" ")+1);const v={};if("FOREIGN"===f[0].toUpperCase()){const m=u.indexOf("("),w=u.indexOf(")"),S=u.substring(m+1,w).split("\xa7");f[0]=S.join(","),f[0]=f[0].replace(/, /g,","),f[1]=u.substring(w+2),v.foreignkey=f[0]}else if("PRIMARY"===f[0].toUpperCase()){const m=u.indexOf("("),w=u.indexOf(")"),S=u.substring(m+1,w).split("\xa7");f[0]="CPK_"+S.join("_"),f[0]=f[0].replace(/_ /g,"_"),f[1]=u,v.constraint=f[0]}else if("CONSTRAINT"===f[0].toUpperCase()){let m=[];const w=f[1].trim();m[0]=w.substring(0,w.indexOf(" ")),m[1]=w.substring(w.indexOf(" ")+1),f[0]=m[0],v.constraint=f[0],f[1]=m[1]}else v.column=f[0];v.value=f[1].replace(/\xa7/g,","),e.push(v)}return Promise.resolve(e)}catch(a){return Promise.reject(new Error(a.message))}});return function(e){return n.apply(this,arguments)}}(),hi=function(){var n=(0,z.Z)(function*(t,e){const r=[];let i="";try{let s="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";s+=`type = 'index' AND tbl_name = '${e}' `,s+="AND sql NOTNULL;";const a=yield Je(t,s,[]);if(a.length>0){for(const c of a){if(3!==Object.keys(c).length){i=`GetIndexes: Table ${e} creating indexes`;break}if(c.tbl_name!==e){i=`GetIndexes: Table ${e} doesn't match`;break}{const u=c.sql,v=u.includes("UNIQUE")?"UNIQUE":"",m=u.lastIndexOf("("),w=u.lastIndexOf(")"),y={};y.name=c.name,y.value=u.slice(m+1,w),v.length>0&&(y.mode=v),r.push(y)}}if(i.length>0)return Promise.reject(new Error(i))}return Promise.resolve(r)}catch(s){return Promise.reject(new Error(`GetIndexes: ${s.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),di=function(){var n=(0,z.Z)(function*(t,e){const r=[];try{let i="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";i+=`type = 'trigger' AND tbl_name = '${e}' `,i+="AND sql NOT NULL;";const s=yield Je(t,i,[]);if(s.length>0)for(const a of s){if(3!==Object.keys(a).length)return Promise.reject(new Error(`GetTriggers: Table ${e} creating indexes`));if(a.tbl_name!==e)return Promise.reject(new Error(`GetTriggers: Table ${e} doesn't match`));{const u=a.name;let v=a.sql.split(u);if(2!=v.length)return Promise.reject(new Error("GetTriggers: sql split name does not return 2 values"));if(!v[1].includes(e))return Promise.reject(new Error(`GetTriggers: sql split does not contains ${e}`));const m=v[1].split(e,1)[0].trim();if(v=v[1].split(m+" "+e),2!=v.length)return Promise.reject(new Error("GetTriggers: sql split tableName does not return 2 values"));let w="",y="";if("BEGIN"!==v[1].trim().substring(0,5).toUpperCase()){if(v=v[1].trim().split("BEGIN"),2!=v.length)return Promise.reject(new Error("GetTriggers: sql split BEGIN does not return 2 values"));w=v[0].trim(),y="BEGIN"+v[1]}else y=v[1].trim();const S={};S.name=u,S.logic=y,w.length>0&&(S.condition=w),S.timeevent=m,r.push(S)}}return Promise.resolve(r)}catch(i){return Promise.reject(new Error(`GetTriggers: ${i.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),_o=function(){var n=(0,z.Z)(function*(t,e,r){const i=[];let s={},a=0,c=[],f="";try{const u=yield go(t,e);Object.keys(u).includes("syncDate")&&(a=u.syncDate),Object.keys(u).includes("modTables")&&(s=u.modTables,c=Object.keys(s));for(const v of e){let m="",w="";if(!v.name){f="GetTablesFull: no name";break}if(m=v.name,!v.sql){f="GetTablesFull: no sql";break}if(w=v.sql,0==c.length||-1===c.indexOf(m)||"No"==s[m])continue;const y={};let S=[],g=[],P=[];y.name=v,"Create"===s[y.name]&&(S=yield fi(w),S.length>0&&(yield ri(S)),g=yield hi(t,m),g.length>0&&(yield ni(g)),P=yield di(t,m),P.length>0&&(yield ii(P)));let E=`Partial: Table ${m} schema export completed ...`;r.emit({progress:E});let D="";D="Create"===s[m]?`SELECT * FROM ${m};`:`SELECT * FROM ${m} WHERE last_modified > ${a};`;const N=yield fn(t,D,m);if(y.name=m,S.length>0&&(y.schema=S),g.length>0&&(y.indexes=g),P.length>0&&(y.triggers=P),N.length>0&&(y.values=N),Object.keys(y).length<=1){f=`GetTablesPartial: table ${m} is not a jsonTable`;break}E=`Partial: Table ${m} table data export completed ...`,r.emit({progress:E}),i.push(y)}return f.length>0?Promise.reject(new Error(f)):Promise.resolve(i)}catch(u){return Promise.reject(new Error(`GetTablesPartial: ${u.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),go=function(){var n=(0,z.Z)(function*(t,e){const r={};try{const i=yield mi(t);if(i<=0)return Promise.reject(new Error("GetPartialModeData: no syncDate"));const s=yield bo(t,e,i);return s.length<=0?Promise.reject(new Error("GetPartialModeData: no modTables")):(r.syncDate=i,r.modTables=s,Promise.resolve(r))}catch(i){return Promise.reject(new Error(`GetPartialModeData: ${i.message}`))}});return function(e,r){return n.apply(this,arguments)}}(),vo=function(){var n=(0,z.Z)(function*(t){let e="SELECT name,sql FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%';";try{const r=yield Je(t,"SELECT name,sql FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sync_table' AND name NOT LIKE '_temp_%' AND name NOT LIKE 'sqlite_%';",[]);return Promise.resolve(r)}catch(r){return Promise.reject(new Error(`getTablesNamesSQL: ${r.message}`))}});return function(e){return n.apply(this,arguments)}}(),bo=function(){var n=(0,z.Z)(function*(t,e,r){let i="";try{const s={};for(const a of e){let c,f="SELECT count(*) AS tcount  ";f+=`FROM ${a.name};`;let u=yield Je(t,f,[]);if(1!=u.length){i="GetTableModified: total count not returned";break}const v=u[0].tcount;if(f="SELECT count(*) AS mcount FROM ",f+=`${a.name} WHERE last_modified > `,f+=`${r};`,u=yield Je(t,f,[]),1!=u.length)break;const m=u[0].mcount;c=0===m?"No":v===m?"Create":"Modified",s[a.name]=c}return i.length>0?Promise.reject(new Error(i)):Promise.resolve(s)}catch(s){return Promise.reject(new Error(`GetTableModified: ${s.message}`))}});return function(e,r,i){return n.apply(this,arguments)}}(),mi=function(){var n=(0,z.Z)(function*(t){try{const r=yield Je(t,"SELECT sync_date FROM sync_table WHERE id = 1;",[]);return Promise.resolve(r[0].sync_date)}catch(e){return Promise.reject(new Error(`GetSynchroDate: ${e.message}`))}});return function(e){return n.apply(this,arguments)}}(),pi=function(){var n=(0,z.Z)(function*(t){try{const r=yield Je(t,"SELECT sync_date FROM sync_table WHERE id = 2;",[]);return Promise.resolve(0===r.length?-1:r[0].sync_date)}catch(e){return Promise.reject(new Error(`getLastExport: ${e.message}`))}});return function(e){return n.apply(this,arguments)}}(),wo=function(){var n=(0,z.Z)(function*(t,e){try{if(!(yield kt(t,"sync_table")))return Promise.reject(new Error("setLastExportDate: No sync_table available"));const i=Math.round(new Date(e).getTime()/1e3);let s="";return s=(yield pi(t))>0?`UPDATE sync_table SET sync_date = ${i} WHERE id = 2;`:`INSERT INTO sync_table (sync_date) VALUES (${i});`,(yield qt(t,s,!1))<0?{result:!1,message:"setLastExportDate failed"}:{result:!0}}catch(r){return{result:!1,message:`setLastExportDate failed: ${r.message}`}}});return function(e,r){return n.apply(this,arguments)}}(),Eo=function(){var n=(0,z.Z)(function*(t){let e;try{if(!(yield kt(t,"sync_table")))return Promise.reject(new Error("DelExportedRows: No sync_table available"));if(e=yield pi(t),e<0)return Promise.reject(new Error("DelExportedRows: no last exported date available"));const i=yield ui(t);if(0===i.length)return Promise.reject(new Error("DelExportedRows: No table's names returned"));for(const s of i){let a=-1;const c=`DELETE FROM ${s}\n            WHERE sql_deleted = 1 AND last_modified < ${e};`;if(a=yield Wt(t,c,[],!0),a<0)return Promise.reject(new Error("DelExportedRows: lastId < 0"))}}catch(r){return Promise.reject(new Error(`DelExportedRows failed: ${r.message}`))}});return function(e){return n.apply(this,arguments)}}(),xo=function(){var n=(0,z.Z)(function*(t){const e=yi(t,"("),r=yi(t,")");if(e.length!=r.length)return Promise.reject("ModEmbeddedParentheses: Not same number of '(' & ')'");if(0===e.length)return Promise.resolve(t);let i=t.substring(0,e[0]-1);for(let s=0;s<e.length;s++){let a;s<e.length-1&&e[s+1]<r[s]?(a=t.substring(e[s]-1,r[s+1]),s++):a=t.substring(e[s]-1,r[s]),i+=a.replace(/,/g,"\xa7"),s<e.length-1&&(i+=t.substring(r[s],e[s+1]-1))}return i+=t.substring(r[r.length-1],t.length),Promise.resolve(i)});return function(e){return n.apply(this,arguments)}}(),yi=(n,t)=>{let e=[...n];return t=t.toLowerCase(),e.reduce((r,i,s)=>i.toLowerCase()===t?[...r,s]:r,[])},So=function(){var n=(0,z.Z)(function*(t,e,r,i){let s=-1;const a=new Int32Array(Object.keys(e).map(c=>parseInt(c))).sort();for(const c of a)if(c>r&&c<=i){const f=e[c].statements;if(0===f.length)return Promise.reject("onUpgrade: statements not given");try{yield rr(t,!1);const u=yield ut(t);yield ko(t,f),yield oi(t,c),yield rr(t,!0),s=(yield ut(t))-u}catch(u){return Promise.reject(new Error(`onUpgrade: ${u.message}`))}}return Promise.resolve(s)});return function(e,r,i,s){return n.apply(this,arguments)}}(),ko=function(){var n=(0,z.Z)(function*(t,e){try{yield Ut(t,!0);for(const r of e)yield qt(t,r,!1);return yield Zt(t,!0),Promise.resolve()}catch(r){return yield Ct(t,!0),Promise.reject(`ExecuteStatementProcess: ${r}`)}});return function(e,r){return n.apply(this,arguments)}}();class _i{constructor(t,e,r,i,s,a){this.vUpgDict={},this.autoSave=!1,this.wasmPath="/assets",this.isBackup=!1,this.dbName=t,this.store=i,this.version=e,this.mDb=null,this.vUpgDict=r,this._isDBOpen=!1,this.autoSave=s,this.wasmPath=a}open(){var t=this;return(0,z.Z)(function*(){const e={locateFile:r=>`${t.wasmPath}/${r}`};return new Promise((r,i)=>{try{$s(e).then(function(){var s=(0,z.Z)(function*(a){const c=yield un(t.dbName,t.store);null!=c?t.mDb=new a.Database(c):(t.mDb=new a.Database,yield zs(t.dbName,t.store)),t._isDBOpen=!0;let f=yield si(t.mDb);if(t.version>f&&Object.keys(t.vUpgDict).length>0)try{if((yield St(t.dbName,t.store))&&(yield Us(t.dbName,`backup-${t.dbName}`,t.store),t.isBackup=!0),-1===(yield So(t.mDb,t.vUpgDict,f,t.version)))try{t.isBackup&&(yield Jn(t.dbName,"backup",t.store))}catch(m){return i(new Error(`Open: ${m.message}`))}t.isBackup&&(yield tr(`backup-${t.dbName}`,t.store))}catch{try{t.isBackup&&(yield Jn(t.dbName,"backup",t.store))}catch(v){return i(new Error(`Open: ${v.message}`))}}if(t.autoSave)try{yield t.saveToStore()}catch(u){return t._isDBOpen=!1,i(`Open: ${u}`)}return yield rr(t.mDb,!0),r()});return function(a){return s.apply(this,arguments)}}())}catch(s){return t._isDBOpen=!1,i(`in open ${s}`)}})})()}isDBOpen(){return this._isDBOpen}close(){var t=this;return(0,z.Z)(function*(){if(null!=t.mDb&&t._isDBOpen)try{yield t.saveToStore(!1),t.mDb.close(),t._isDBOpen=!1}catch(e){return t._isDBOpen=!1,Promise.reject(`in close ${e}`)}return Promise.resolve()})()}saveToStore(t=!0){var e=this;return(0,z.Z)(function*(){if(null!=e.mDb&&e._isDBOpen)try{yield Ms(e.mDb,e.dbName,e.store),t&&(yield rr(e.mDb,!0))}catch(r){return Promise.reject(`in saveToStore ${r}`)}return Promise.resolve()})()}getVersion(){var t=this;return(0,z.Z)(function*(){if(null!=t.mDb&&t._isDBOpen)try{const e=yield si(t.mDb);return Promise.resolve(e)}catch(e){return t._isDBOpen=!1,Promise.reject(`in getVersion ${e}`)}})()}isDBExists(t){var e=this;return(0,z.Z)(function*(){try{const r=yield St(t,e.store);return Promise.resolve(r)}catch(r){return Promise.reject(`in isDBExists ${r}`)}})()}deleteDB(t){var e=this;return(0,z.Z)(function*(){try{const r=yield e.isDBExists(t);return r&&!e._isDBOpen&&(yield e.open()),yield e.close(),r&&(yield tr(t,e.store)),Promise.resolve()}catch(r){return Promise.reject(new Error(`DeleteDB: ${r.message}`))}})()}executeSQL(t,e=!0){var r=this;return(0,z.Z)(function*(){if(!r._isDBOpen){let i=`ExecuteSQL: Database ${r.dbName} `;return i+="not opened",Promise.reject(new Error(i))}try{e&&(yield Ut(r.mDb,r._isDBOpen))}catch(i){return Promise.reject(new Error(`executeSQL: ${i.message}`))}try{const i=yield qt(r.mDb,t,!1);if(i<0)return Promise.reject(new Error("ExecuteSQL: changes < 0"));if(e&&(yield Zt(r.mDb,r._isDBOpen)),r.autoSave)try{yield r.saveToStore()}catch(s){return r._isDBOpen=!1,Promise.reject(`ExecuteSQL: ${s}`)}return Promise.resolve(i)}catch(i){let s=`ExecuteSQL: ${i.message}`;try{e&&(yield Ct(r.mDb,r._isDBOpen))}catch(a){s+=` : ${a.message}`}return Promise.reject(new Error(`ExecuteSQL: ${s}`))}})()}execSet(t,e=!0){var r=this;return(0,z.Z)(function*(){if(!r._isDBOpen){let a=`ExecSet: Database ${r.dbName} `;return a+="not opened",Promise.reject(new Error(a))}const i={changes:-1,lastId:-1};let s=-1;try{s=yield ut(r.mDb),e&&(yield Ut(r.mDb,r._isDBOpen))}catch(a){return Promise.reject(new Error(`ExecSet: ${a.message}`))}try{const a=yield Hs(r.mDb,t,!1);if(a<0)return Promise.reject(new Error("ExecSet: changes < 0"));e&&(yield Zt(r.mDb,r._isDBOpen));const c=(yield ut(r.mDb))-s;if(i.changes=c,i.lastId=a,r.autoSave)try{yield r.saveToStore()}catch(f){return r._isDBOpen=!1,Promise.reject(`ExecSet: ${f}`)}return Promise.resolve(i)}catch(a){let c=`ExecSet: ${a.message}`;try{e&&(yield Ct(r.mDb,r._isDBOpen))}catch(f){c+=` : ${f.message}`}return Promise.reject(new Error(`ExecSet: ${c}`))}})()}selectSQL(t,e){var r=this;return(0,z.Z)(function*(){if(!r._isDBOpen){let i=`SelectSQL: Database ${r.dbName} `;return i+="not opened",Promise.reject(new Error(i))}try{let i=yield Je(r.mDb,t,e);return Promise.resolve(i)}catch(i){return Promise.reject(new Error(`SelectSQL: ${i.message}`))}})()}runSQL(t,e,r=!0){var i=this;return(0,z.Z)(function*(){let s=-1;if(!i._isDBOpen){let f=`RunSQL: Database ${i.dbName} `;return f+="not opened",Promise.reject(new Error(f))}const a={changes:-1,lastId:-1};let c=-1;try{c=yield ut(i.mDb),r&&(yield Ut(i.mDb,i._isDBOpen))}catch(f){return Promise.reject(new Error(`RunSQL: ${f.message}`))}try{if(s=yield Wt(i.mDb,t,e,!1),s<0)return Promise.reject(new Error("RunSQL: lastId < 0"));r&&(yield Zt(i.mDb,i._isDBOpen));const f=(yield ut(i.mDb))-c;if(a.changes=f,a.lastId=s,i.autoSave)try{yield i.saveToStore()}catch(u){return i._isDBOpen=!1,Promise.reject(`RunSQL: ${u}`)}return Promise.resolve(a)}catch(f){let u=`RunSQL: ${f.message}`;try{r&&(yield Ct(i.mDb,i._isDBOpen))}catch(v){u+=` : ${v.message}`}return Promise.reject(new Error(`${u}`))}})()}getTableNames(){var t=this;return(0,z.Z)(function*(){if(!t._isDBOpen){let e=`GetTableNames: Database ${t.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{let e=yield ui(t.mDb);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`GetTableNames: ${e.message}`))}})()}isTable(t){var e=this;return(0,z.Z)(function*(){if(!e._isDBOpen){let r=`isTable: Database ${e.dbName} `;return r+="not opened",Promise.reject(new Error(r))}try{const r=yield kt(e.mDb,t);return Promise.resolve(r)}catch(r){return Promise.reject(new Error(`IsTable: ${r.message}`))}})()}createSyncTable(){var t=this;return(0,z.Z)(function*(){if(!t._isDBOpen){let r=`createSyncTable: Database ${t.dbName} `;return r+="not opened",Promise.reject(new Error(r))}let e=-1;try{if(yield kt(t.mDb,"sync_table"))return Promise.resolve(0);{const i=yield ci(t.mDb,t._isDBOpen),s=yield li(t.mDb,t._isDBOpen);if(i&&s){const a=Math.round((new Date).getTime()/1e3);let c="\n                          CREATE TABLE IF NOT EXISTS sync_table (\n                              id INTEGER PRIMARY KEY NOT NULL,\n                              sync_date INTEGER\n                              );";return c+=`INSERT INTO sync_table (sync_date) VALUES (\n                              "${a}");`,e=yield qt(t.mDb,c,!1),Promise.resolve(e)}return Promise.reject(new Error("No last_modified/sql_deleted columns in tables"))}}catch(r){return Promise.reject(new Error(`CreateSyncTable: ${r.message}`))}})()}getSyncDate(){var t=this;return(0,z.Z)(function*(){if(!t._isDBOpen){let e=`getSyncDate: Database ${t.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{if(!(yield kt(t.mDb,"sync_table")))return Promise.reject(new Error("No sync_table available"));const r=yield mi(t.mDb);return Promise.resolve(r)}catch(e){return Promise.reject(new Error(`getSyncDate: ${e.message}`))}})()}setSyncDate(t){var e=this;return(0,z.Z)(function*(){if(!e._isDBOpen){let r=`SetSyncDate: Database ${e.dbName} `;return r+="not opened",{result:!1,message:r}}try{if(!(yield kt(e.mDb,"sync_table")))return Promise.reject(new Error("No sync_table available"));const i=Math.round(new Date(t).getTime()/1e3);let s="UPDATE sync_table SET sync_date = ";return s+=`${i} WHERE id = 1;`,(yield qt(e.mDb,s,!1))<0?{result:!1,message:"setSyncDate failed"}:{result:!0}}catch(r){return{result:!1,message:`setSyncDate failed: ${r.message}`}}})()}importJson(t,e){var r=this;return(0,z.Z)(function*(){let i=0;if(!r._isDBOpen)return Promise.reject(new Error("ImportJson: database is closed"));try{return yield rr(r.mDb,!1),t.tables&&t.tables.length>0&&(i=yield to(r.mDb,t),e.emit({progress:`Schema creation completed changes: ${i}`}),-1!=i&&(i+=(yield io(r.mDb,t,e)),e.emit({progress:`Tables data creation completed changes: ${i}`}))),t.views&&t.views.length>0&&(i+=(yield ho(r.mDb,t))),yield rr(r.mDb,!0),yield r.saveToStore(),Promise.resolve(i)}catch(s){return Promise.reject(new Error(`ImportJson: ${s.message}`))}})()}exportJson(t,e){var r=this;return(0,z.Z)(function*(){const i={};if(i.database=r.dbName.slice(0,-9),i.version=r.version,i.encrypted=!1,i.mode=t,!r._isDBOpen)return Promise.reject(new Error("ExportJson: database is closed"));try{(yield kt(r.mDb,"sync_table"))&&(yield wo(r.mDb,(new Date).toISOString()));const a=yield mo(r.mDb,i,e);return 0===Object.keys(a).length?Promise.reject(new Error("ExportJson: return Object is empty No data to synchronize")):ln(a)?Promise.resolve(a):Promise.reject(new Error("ExportJson: retJson not valid"))}catch(s){return Promise.reject(new Error(`ExportJson: ${s.message}`))}})()}deleteExportedRows(){var t=this;return(0,z.Z)(function*(){if(!t._isDBOpen)return Promise.reject(new Error("deleteExportedRows: database is closed"));try{return yield Eo(t.mDb),Promise.resolve()}catch(e){return Promise.reject(new Error(`deleteExportedRows: ${e.message}`))}})()}}var gi=rn(function(n,t){n.exports=function e(r,i,s){function a(u,v){if(!i[u]){if(!r[u]){if(!v&&xt)return xt();if(c)return c(u,!0);var w=new Error("Cannot find module '"+u+"'");throw w.code="MODULE_NOT_FOUND",w}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(S){return a(r[u][1][S]||S)},y,y.exports,e,r,i,s)}return i[u].exports}for(var c=xt,f=0;f<s.length;f++)a(s[f]);return a}({1:[function(e,r,i){(function(s){var c,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var f=0,u=new a(S),v=s.document.createTextNode("");u.observe(v,{characterData:!0}),c=function(){v.data=f=++f%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var m=new s.MessageChannel;m.port1.onmessage=S,c=function(){m.port2.postMessage(0)}}else c="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var P=s.document.createElement("script");P.onreadystatechange=function(){S(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},s.document.documentElement.appendChild(P)}:function(){setTimeout(S,0)};var w,y=[];function S(){w=!0;for(var P,E,D=y.length;D;){for(E=y,y=[],P=-1;++P<D;)E[P]();D=y.length}w=!1}r.exports=function g(P){1===y.push(P)&&!w&&c()}}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(e,r,i){var s=e(1);function a(){}var c={},f=["REJECTED"],u=["FULFILLED"],v=["PENDING"];function m(A){if("function"!=typeof A)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,A!==a&&g(this,A)}function w(A,H,M){this.promise=A,"function"==typeof H&&(this.onFulfilled=H,this.callFulfilled=this.otherCallFulfilled),"function"==typeof M&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function y(A,H,M){s(function(){var Q;try{Q=H(M)}catch(G){return c.reject(A,G)}Q===A?c.reject(A,new TypeError("Cannot resolve promise with itself")):c.resolve(A,Q)})}function S(A){var H=A&&A.then;if(A&&("object"==typeof A||"function"==typeof A)&&"function"==typeof H)return function(){H.apply(A,arguments)}}function g(A,H){var M=!1;function Q(R){M||(M=!0,c.reject(A,R))}function G(R){M||(M=!0,c.resolve(A,R))}var ve=P(function ue(){H(G,Q)});"error"===ve.status&&Q(ve.value)}function P(A,H){var M={};try{M.value=A(H),M.status="success"}catch(Q){M.status="error",M.value=Q}return M}r.exports=m,m.prototype.catch=function(A){return this.then(null,A)},m.prototype.then=function(A,H){if("function"!=typeof A&&this.state===u||"function"!=typeof H&&this.state===f)return this;var M=new this.constructor(a);return this.state!==v?y(M,this.state===u?A:H,this.outcome):this.queue.push(new w(M,A,H)),M},w.prototype.callFulfilled=function(A){c.resolve(this.promise,A)},w.prototype.otherCallFulfilled=function(A){y(this.promise,this.onFulfilled,A)},w.prototype.callRejected=function(A){c.reject(this.promise,A)},w.prototype.otherCallRejected=function(A){y(this.promise,this.onRejected,A)},c.resolve=function(A,H){var M=P(S,H);if("error"===M.status)return c.reject(A,M.value);var Q=M.value;if(Q)g(A,Q);else{A.state=u,A.outcome=H;for(var G=-1,ue=A.queue.length;++G<ue;)A.queue[G].callFulfilled(H)}return A},c.reject=function(A,H){A.state=f,A.outcome=H;for(var M=-1,Q=A.queue.length;++M<Q;)A.queue[M].callRejected(H);return A},m.resolve=function E(A){return A instanceof this?A:c.resolve(new this(a),A)},m.reject=function D(A){var H=new this(a);return c.reject(H,A)},m.all=function N(A){var H=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var M=A.length,Q=!1;if(!M)return this.resolve([]);for(var G=new Array(M),ue=0,ve=-1,R=new this(a);++ve<M;)W(A[ve],ve);return R;function W(p,X){H.resolve(p).then(function ke(te){G[X]=te,++ue===M&&!Q&&(Q=!0,c.resolve(R,G))},function(te){Q||(Q=!0,c.reject(R,te))})}},m.race=function L(A){var H=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var M=A.length,Q=!1;if(!M)return this.resolve([]);for(var G=-1,ue=new this(a);++G<M;)H.resolve(A[G]).then(function(W){Q||(Q=!0,c.resolve(ue,W))},function(W){Q||(Q=!0,c.reject(ue,W))});return ue}},{1:1}],3:[function(e,r,i){(function(s){"function"!=typeof s.Promise&&(s.Promise=e(2))}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(e,r,i){var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _};var f=function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function v(_,O){_=_||[],O=O||{};try{return new Blob(_,O)}catch(C){if("TypeError"!==C.name)throw C;for(var B=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),F=0;F<_.length;F+=1)B.append(_[F]);return B.getBlob(O.type)}}typeof Promise>"u"&&e(3);var m=Promise;function w(_,O){O&&_.then(function(k){O(null,k)},function(k){O(k)})}function y(_,O,k){"function"==typeof O&&_.then(O),"function"==typeof k&&_.catch(k)}function S(_){return"string"!=typeof _&&(console.warn(_+" used as a key, but it is not a string."),_=String(_)),_}function g(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",E=void 0,D={},N=Object.prototype.toString,L="readonly",A="readwrite";function H(_){for(var O=_.length,k=new ArrayBuffer(O),B=new Uint8Array(k),F=0;F<O;F++)B[F]=_.charCodeAt(F);return k}function Q(_){return"boolean"==typeof E?m.resolve(E):function M(_){return new m(function(O){var k=_.transaction(P,A),B=v([""]);k.objectStore(P).put(B,"key"),k.onabort=function(F){F.preventDefault(),F.stopPropagation(),O(!1)},k.oncomplete=function(){var F=navigator.userAgent.match(/Chrome\/(\d+)/),C=navigator.userAgent.match(/Edge\//);O(C||!F||parseInt(F[1],10)>=43)}}).catch(function(){return!1})}(_).then(function(O){return E=O})}function G(_){var O=D[_.name],k={};k.promise=new m(function(B,F){k.resolve=B,k.reject=F}),O.deferredOperations.push(k),O.dbReady=O.dbReady?O.dbReady.then(function(){return k.promise}):k.promise}function ue(_){var k=D[_.name].deferredOperations.pop();if(k)return k.resolve(),k.promise}function ve(_,O){var B=D[_.name].deferredOperations.pop();if(B)return B.reject(O),B.promise}function R(_,O){return new m(function(k,B){if(D[_.name]=D[_.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},_.db){if(!O)return k(_.db);G(_),_.db.close()}var F=[_.name];O&&F.push(_.version);var C=f.open.apply(f,F);O&&(C.onupgradeneeded=function(J){var oe=C.result;try{oe.createObjectStore(_.storeName),J.oldVersion<=1&&oe.createObjectStore(P)}catch(le){if("ConstraintError"!==le.name)throw le;console.warn('The database "'+_.name+'" has been upgraded from version '+J.oldVersion+" to version "+J.newVersion+', but the storage "'+_.storeName+'" already exists.')}}),C.onerror=function(J){J.preventDefault(),B(C.error)},C.onsuccess=function(){var J=C.result;J.onversionchange=function(oe){oe.target.close()},k(J),ue(_)}})}function W(_){return R(_,!1)}function p(_){return R(_,!0)}function X(_,O){if(!_.db)return!0;var k=!_.db.objectStoreNames.contains(_.storeName),F=_.version>_.db.version;if(_.version<_.db.version&&(_.version!==O&&console.warn('The database "'+_.name+"\" can't be downgraded from version "+_.db.version+" to version "+_.version+"."),_.version=_.db.version),F||k){if(k){var C=_.db.version+1;C>_.version&&(_.version=C)}return!0}return!1}function te(_){return v([H(atob(_.data))],{type:_.type})}function Se(_){return _&&_.__local_forage_encoded_blob}function ce(_){var O=this,k=O._initReady().then(function(){var B=D[O._dbInfo.name];if(B&&B.dbReady)return B.dbReady});return y(k,_,_),k}function $(_,O,k,B){void 0===B&&(B=1);try{var F=_.db.transaction(_.storeName,O);k(null,F)}catch(C){if(B>0&&(!_.db||"InvalidStateError"===C.name||"NotFoundError"===C.name))return m.resolve().then(function(){if(!_.db||"NotFoundError"===C.name&&!_.db.objectStoreNames.contains(_.storeName)&&_.version<=_.db.version)return _.db&&(_.version=_.db.version+1),p(_)}).then(function(){return function fe(_){G(_);for(var O=D[_.name],k=O.forages,B=0;B<k.length;B++){var F=k[B];F._dbInfo.db&&(F._dbInfo.db.close(),F._dbInfo.db=null)}return _.db=null,W(_).then(function(C){return _.db=C,X(_)?p(_):C}).then(function(C){_.db=O.db=C;for(var J=0;J<k.length;J++)k[J]._dbInfo.db=C}).catch(function(C){throw ve(_,C),C})}(_).then(function(){$(_,O,k,B-1)})}).catch(k);k(C)}}var Xe={_driver:"asyncStorage",_initStorage:function xe(_){var O=this,k={db:null};if(_)for(var B in _)k[B]=_[B];var F=D[k.name];F||(D[k.name]=F={forages:[],db:null,dbReady:null,deferredOperations:[]}),F.forages.push(O),O._initReady||(O._initReady=O.ready,O.ready=ce);var C=[];function J(){return m.resolve()}for(var oe=0;oe<F.forages.length;oe++){var le=F.forages[oe];le!==O&&C.push(le._initReady().catch(J))}var de=F.forages.slice(0);return m.all(C).then(function(){return k.db=F.db,W(k)}).then(function(ye){return k.db=ye,X(k,O._defaultConfig.version)?p(k):ye}).then(function(ye){k.db=F.db=ye,O._dbInfo=k;for(var be=0;be<de.length;be++){var Re=de[be];Re!==O&&(Re._dbInfo.db=k.db,Re._dbInfo.version=k.version)}})},_support:function u(){try{if(!f||!f.open)return!1;var _=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),O="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!_||O)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function pe(_,O){var k=this,B=new m(function(F,C){k.ready().then(function(){$(k._dbInfo,L,function(J,oe){if(J)return C(J);try{var de=oe.objectStore(k._dbInfo.storeName).openCursor(),ye=1;de.onsuccess=function(){var be=de.result;if(be){var Re=be.value;Se(Re)&&(Re=te(Re));var Ne=_(Re,be.key,ye++);void 0!==Ne?F(Ne):be.continue()}else F()},de.onerror=function(){C(de.error)}}catch(be){C(be)}})}).catch(C)});return w(B,O),B},getItem:function ge(_,O){var k=this;_=S(_);var B=new m(function(F,C){k.ready().then(function(){$(k._dbInfo,L,function(J,oe){if(J)return C(J);try{var de=oe.objectStore(k._dbInfo.storeName).get(_);de.onsuccess=function(){var ye=de.result;void 0===ye&&(ye=null),Se(ye)&&(ye=te(ye)),F(ye)},de.onerror=function(){C(de.error)}}catch(ye){C(ye)}})}).catch(C)});return w(B,O),B},setItem:function Ze(_,O,k){var B=this;_=S(_);var F=new m(function(C,J){var oe;B.ready().then(function(){return oe=B._dbInfo,"[object Blob]"===N.call(O)?Q(oe.db).then(function(le){return le?O:function ke(_){return new m(function(O,k){var B=new FileReader;B.onerror=k,B.onloadend=function(F){var C=btoa(F.target.result||"");O({__local_forage_encoded_blob:!0,data:C,type:_.type})},B.readAsBinaryString(_)})}(O)}):O}).then(function(le){$(B._dbInfo,A,function(de,ye){if(de)return J(de);try{var be=ye.objectStore(B._dbInfo.storeName);null===le&&(le=void 0);var Re=be.put(le,_);ye.oncomplete=function(){void 0===le&&(le=null),C(le)},ye.onabort=ye.onerror=function(){J(Re.error?Re.error:Re.transaction.error)}}catch(Ne){J(Ne)}})}).catch(J)});return w(F,k),F},removeItem:function Ge(_,O){var k=this;_=S(_);var B=new m(function(F,C){k.ready().then(function(){$(k._dbInfo,A,function(J,oe){if(J)return C(J);try{var de=oe.objectStore(k._dbInfo.storeName).delete(_);oe.oncomplete=function(){F()},oe.onerror=function(){C(de.error)},oe.onabort=function(){C(de.error?de.error:de.transaction.error)}}catch(ye){C(ye)}})}).catch(C)});return w(B,O),B},clear:function Ie(_){var O=this,k=new m(function(B,F){O.ready().then(function(){$(O._dbInfo,A,function(C,J){if(C)return F(C);try{var le=J.objectStore(O._dbInfo.storeName).clear();J.oncomplete=function(){B()},J.onabort=J.onerror=function(){F(le.error?le.error:le.transaction.error)}}catch(de){F(de)}})}).catch(F)});return w(k,_),k},length:function je(_){var O=this,k=new m(function(B,F){O.ready().then(function(){$(O._dbInfo,L,function(C,J){if(C)return F(C);try{var le=J.objectStore(O._dbInfo.storeName).count();le.onsuccess=function(){B(le.result)},le.onerror=function(){F(le.error)}}catch(de){F(de)}})}).catch(F)});return w(k,_),k},key:function Ue(_,O){var k=this,B=new m(function(F,C){_<0?F(null):k.ready().then(function(){$(k._dbInfo,L,function(J,oe){if(J)return C(J);try{var le=oe.objectStore(k._dbInfo.storeName),de=!1,ye=le.openKeyCursor();ye.onsuccess=function(){var be=ye.result;be?0===_||de?F(be.key):(de=!0,be.advance(_)):F(null)},ye.onerror=function(){C(ye.error)}}catch(be){C(be)}})}).catch(C)});return w(B,O),B},keys:function Me(_){var O=this,k=new m(function(B,F){O.ready().then(function(){$(O._dbInfo,L,function(C,J){if(C)return F(C);try{var le=J.objectStore(O._dbInfo.storeName).openKeyCursor(),de=[];le.onsuccess=function(){var ye=le.result;ye?(de.push(ye.key),ye.continue()):B(de)},le.onerror=function(){F(le.error)}}catch(ye){F(ye)}})}).catch(F)});return w(k,_),k},dropInstance:function He(_,O){O=g.apply(this,arguments);var k=this.config();(_="function"!=typeof _&&_||{}).name||(_.name=_.name||k.name,_.storeName=_.storeName||k.storeName);var F,B=this;if(_.name){var J=_.name===k.name&&B._dbInfo.db?m.resolve(B._dbInfo.db):W(_).then(function(oe){var le=D[_.name],de=le.forages;le.db=oe;for(var ye=0;ye<de.length;ye++)de[ye]._dbInfo.db=oe;return oe});F=J.then(_.storeName?function(oe){if(oe.objectStoreNames.contains(_.storeName)){var le=oe.version+1;G(_);var de=D[_.name],ye=de.forages;oe.close();for(var be=0;be<ye.length;be++){var Re=ye[be];Re._dbInfo.db=null,Re._dbInfo.version=le}return new m(function(Be,We){var $e=f.open(_.name,le);$e.onerror=function(rt){$e.result.close(),We(rt)},$e.onupgradeneeded=function(){$e.result.deleteObjectStore(_.storeName)},$e.onsuccess=function(){var rt=$e.result;rt.close(),Be(rt)}}).then(function(Be){de.db=Be;for(var We=0;We<ye.length;We++){var $e=ye[We];$e._dbInfo.db=Be,ue($e._dbInfo)}}).catch(function(Be){throw(ve(_,Be)||m.resolve()).catch(function(){}),Be})}}:function(oe){G(_);var le=D[_.name],de=le.forages;oe.close();for(var ye=0;ye<de.length;ye++)de[ye]._dbInfo.db=null;return new m(function(Ne,Be){var We=f.deleteDatabase(_.name);We.onerror=function(){var $e=We.result;$e&&$e.close(),Be(We.error)},We.onblocked=function(){console.warn('dropInstance blocked for database "'+_.name+'" until all open connections are closed')},We.onsuccess=function(){var $e=We.result;$e&&$e.close(),Ne($e)}}).then(function(Ne){le.db=Ne;for(var Be=0;Be<de.length;Be++)ue(de[Be]._dbInfo)}).catch(function(Ne){throw(ve(_,Ne)||m.resolve()).catch(function(){}),Ne})})}else F=m.reject("Invalid arguments");return w(F,O),F}};var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=/^~~local_forage_type~([^~]+)~/,b="__lfsc__:",j=b.length,se="arbf",ne="blob",Z="si08",et=j+se.length,_t=Object.prototype.toString;function qe(_){var B,C,J,oe,le,O=.75*_.length,k=_.length,F=0;"="===_[_.length-1]&&(O--,"="===_[_.length-2]&&O--);var de=new ArrayBuffer(O),ye=new Uint8Array(de);for(B=0;B<k;B+=4)C=K.indexOf(_[B]),J=K.indexOf(_[B+1]),oe=K.indexOf(_[B+2]),le=K.indexOf(_[B+3]),ye[F++]=C<<2|J>>4,ye[F++]=(15&J)<<4|oe>>2,ye[F++]=(3&oe)<<6|63&le;return de}function gt(_){var B,O=new Uint8Array(_),k="";for(B=0;B<O.length;B+=3)k+=K[O[B]>>2],k+=K[(3&O[B])<<4|O[B+1]>>4],k+=K[(15&O[B+1])<<2|O[B+2]>>6],k+=K[63&O[B+2]];return O.length%3==2?k=k.substring(0,k.length-1)+"=":O.length%3==1&&(k=k.substring(0,k.length-2)+"=="),k}var Pt={serialize:function Pe(_,O){var k="";if(_&&(k=_t.call(_)),_&&("[object ArrayBuffer]"===k||_.buffer&&"[object ArrayBuffer]"===_t.call(_.buffer))){var B,F=b;_ instanceof ArrayBuffer?(B=_,F+=se):(B=_.buffer,"[object Int8Array]"===k?F+=Z:"[object Uint8Array]"===k?F+="ui08":"[object Uint8ClampedArray]"===k?F+="uic8":"[object Int16Array]"===k?F+="si16":"[object Uint16Array]"===k?F+="ur16":"[object Int32Array]"===k?F+="si32":"[object Uint32Array]"===k?F+="ui32":"[object Float32Array]"===k?F+="fl32":"[object Float64Array]"===k?F+="fl64":O(new Error("Failed to get type for BinaryArray"))),O(F+gt(B))}else if("[object Blob]"===k){var C=new FileReader;C.onload=function(){var J="~~local_forage_type~"+_.type+"~"+gt(this.result);O(b+ne+J)},C.readAsArrayBuffer(_)}else try{O(JSON.stringify(_))}catch(J){console.error("Couldn't convert value into a JSON string: ",_),O(null,J)}},deserialize:function nt(_){if(_.substring(0,j)!==b)return JSON.parse(_);var B,O=_.substring(et),k=_.substring(j,et);if(k===ne&&T.test(O)){var F=O.match(T);B=F[1],O=O.substring(F[0].length)}var C=qe(O);switch(k){case se:return C;case ne:return v([C],{type:B});case Z:return new Int8Array(C);case"ui08":return new Uint8Array(C);case"uic8":return new Uint8ClampedArray(C);case"si16":return new Int16Array(C);case"ur16":return new Uint16Array(C);case"si32":return new Int32Array(C);case"ui32":return new Uint32Array(C);case"fl32":return new Float32Array(C);case"fl64":return new Float64Array(C);default:throw new Error("Unkown type: "+k)}},stringToBuffer:qe,bufferToString:gt};function st(_,O,k,B){_.executeSql("CREATE TABLE IF NOT EXISTS "+O.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,B)}function Ye(_,O,k,B,F,C){_.executeSql(k,B,F,function(J,oe){oe.code===oe.SYNTAX_ERR?J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[O.storeName],function(le,de){de.rows.length?C(le,oe):st(le,O,function(){le.executeSql(k,B,F,C)},C)},C):C(J,oe)},C)}function mt(_,O,k,B){var F=this;_=S(_);var C=new m(function(J,oe){F.ready().then(function(){void 0===O&&(O=null);var le=O,de=F._dbInfo;de.serializer.serialize(O,function(ye,be){be?oe(be):de.db.transaction(function(Re){Ye(Re,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[_,ye],function(){J(le)},function(Ne,Be){oe(Be)})},function(Re){if(Re.code===Re.QUOTA_ERR){if(B>0)return void J(mt.apply(F,[_,le,k,B-1]));oe(Re)}})})}).catch(oe)});return w(C,k),C}function dn(_){return new m(function(O,k){_.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(F,C){for(var J=[],oe=0;oe<C.rows.length;oe++)J.push(C.rows.item(oe).name);O({db:_,storeNames:J})},function(F,C){k(C)})},function(B){k(B)})})}var Bt={_driver:"webSQLStorage",_initStorage:function cr(_){var O=this,k={db:null};if(_)for(var B in _)k[B]="string"!=typeof _[B]?_[B].toString():_[B];var F=new m(function(C,J){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(oe){return J(oe)}k.db.transaction(function(oe){st(oe,k,function(){O._dbInfo=k,C()},function(le,de){J(de)})},J)});return k.serializer=Pt,F},_support:function h(){return"function"==typeof openDatabase}(),iterate:function ee(_,O){var k=this,B=new m(function(F,C){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(oe){Ye(oe,J,"SELECT * FROM "+J.storeName,[],function(le,de){for(var ye=de.rows,be=ye.length,Re=0;Re<be;Re++){var Ne=ye.item(Re),Be=Ne.value;if(Be&&(Be=J.serializer.deserialize(Be)),void 0!==(Be=_(Be,Ne.key,Re+1)))return void F(Be)}F()},function(le,de){C(de)})})}).catch(C)});return w(B,O),B},getItem:function Gt(_,O){var k=this;_=S(_);var B=new m(function(F,C){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(oe){Ye(oe,J,"SELECT * FROM "+J.storeName+" WHERE key = ? LIMIT 1",[_],function(le,de){var ye=de.rows.length?de.rows.item(0).value:null;ye&&(ye=J.serializer.deserialize(ye)),F(ye)},function(le,de){C(de)})})}).catch(C)});return w(B,O),B},setItem:function tt(_,O,k){return mt.apply(this,[_,O,k,1])},removeItem:function Ht(_,O){var k=this;_=S(_);var B=new m(function(F,C){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(oe){Ye(oe,J,"DELETE FROM "+J.storeName+" WHERE key = ?",[_],function(){F()},function(le,de){C(de)})})}).catch(C)});return w(B,O),B},clear:function lr(_){var O=this,k=new m(function(B,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(J){Ye(J,C,"DELETE FROM "+C.storeName,[],function(){B()},function(oe,le){F(le)})})}).catch(F)});return w(k,_),k},length:function Nr(_){var O=this,k=new m(function(B,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(J){Ye(J,C,"SELECT COUNT(key) as c FROM "+C.storeName,[],function(oe,le){var de=le.rows.item(0).c;B(de)},function(oe,le){F(le)})})}).catch(F)});return w(k,_),k},key:function Dt(_,O){var k=this,B=new m(function(F,C){k.ready().then(function(){var J=k._dbInfo;J.db.transaction(function(oe){Ye(oe,J,"SELECT key FROM "+J.storeName+" WHERE id = ? LIMIT 1",[_+1],function(le,de){var ye=de.rows.length?de.rows.item(0).key:null;F(ye)},function(le,de){C(de)})})}).catch(C)});return w(B,O),B},keys:function Cr(_){var O=this,k=new m(function(B,F){O.ready().then(function(){var C=O._dbInfo;C.db.transaction(function(J){Ye(J,C,"SELECT key FROM "+C.storeName,[],function(oe,le){for(var de=[],ye=0;ye<le.rows.length;ye++)de.push(le.rows.item(ye).key);B(de)},function(oe,le){F(le)})})}).catch(F)});return w(k,_),k},dropInstance:function Br(_,O){O=g.apply(this,arguments);var k=this.config();(_="function"!=typeof _&&_||{}).name||(_.name=_.name||k.name,_.storeName=_.storeName||k.storeName);var F,B=this;return w(F=_.name?new m(function(C){var J;J=_.name===k.name?B._dbInfo.db:openDatabase(_.name,"","",0),C(_.storeName?{db:J,storeNames:[_.storeName]}:dn(J))}).then(function(C){return new m(function(J,oe){C.db.transaction(function(le){function de(Ne){return new m(function(Be,We){le.executeSql("DROP TABLE IF EXISTS "+Ne,[],function(){Be()},function($e,rt){We(rt)})})}for(var ye=[],be=0,Re=C.storeNames.length;be<Re;be++)ye.push(de(C.storeNames[be]));m.all(ye).then(function(){J()}).catch(function(Ne){oe(Ne)})},function(le){oe(le)})})}):m.reject("Invalid arguments"),O),F}};function fr(_,O){var k=_.name+"/";return _.storeName!==O.storeName&&(k+=_.storeName+"/"),k}function Lr(){return!function mn(){var _="_localforage_support_test";try{return localStorage.setItem(_,!0),localStorage.removeItem(_),!1}catch{return!0}}()||localStorage.length>0}var Vt={_driver:"localStorageWrapper",_initStorage:function pn(_){var k={};if(_)for(var B in _)k[B]=_[B];return k.keyPrefix=fr(_,this._defaultConfig),Lr()?(this._dbInfo=k,k.serializer=Pt,m.resolve()):m.reject()},_support:function Fr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function nr(_,O){var k=this,B=k.ready().then(function(){for(var F=k._dbInfo,C=F.keyPrefix,J=C.length,oe=localStorage.length,le=1,de=0;de<oe;de++){var ye=localStorage.key(de);if(0===ye.indexOf(C)){var be=localStorage.getItem(ye);if(be&&(be=F.serializer.deserialize(be)),void 0!==(be=_(be,ye.substring(J),le++)))return be}}});return w(B,O),B},getItem:function $r(_,O){var k=this;_=S(_);var B=k.ready().then(function(){var F=k._dbInfo,C=localStorage.getItem(F.keyPrefix+_);return C&&(C=F.serializer.deserialize(C)),C});return w(B,O),B},setItem:function Mr(_,O,k){var B=this;_=S(_);var F=B.ready().then(function(){void 0===O&&(O=null);var C=O;return new m(function(J,oe){var le=B._dbInfo;le.serializer.serialize(O,function(de,ye){if(ye)oe(ye);else try{localStorage.setItem(le.keyPrefix+_,de),J(C)}catch(be){("QuotaExceededError"===be.name||"NS_ERROR_DOM_QUOTA_REACHED"===be.name)&&oe(be),oe(be)}})})});return w(F,k),F},removeItem:function zr(_,O){var k=this;_=S(_);var B=k.ready().then(function(){localStorage.removeItem(k._dbInfo.keyPrefix+_)});return w(B,O),B},clear:function hr(_){var O=this,k=O.ready().then(function(){for(var B=O._dbInfo.keyPrefix,F=localStorage.length-1;F>=0;F--){var C=localStorage.key(F);0===C.indexOf(B)&&localStorage.removeItem(C)}});return w(k,_),k},length:function dr(_){var k=this.keys().then(function(B){return B.length});return w(k,_),k},key:function ct(_,O){var k=this,B=k.ready().then(function(){var C,F=k._dbInfo;try{C=localStorage.key(_)}catch{C=null}return C&&(C=C.substring(F.keyPrefix.length)),C});return w(B,O),B},keys:function ir(_){var O=this,k=O.ready().then(function(){for(var B=O._dbInfo,F=localStorage.length,C=[],J=0;J<F;J++){var oe=localStorage.key(J);0===oe.indexOf(B.keyPrefix)&&C.push(oe.substring(B.keyPrefix.length))}return C});return w(k,_),k},dropInstance:function Ur(_,O){if(O=g.apply(this,arguments),!(_="function"!=typeof _&&_||{}).name){var k=this.config();_.name=_.name||k.name,_.storeName=_.storeName||k.storeName}var F,B=this;return w(F=_.name?new m(function(C){C(_.storeName?fr(_,B._defaultConfig):_.name+"/")}).then(function(C){for(var J=localStorage.length-1;J>=0;J--){var oe=localStorage.key(J);0===oe.indexOf(C)&&localStorage.removeItem(oe)}}):m.reject("Invalid arguments"),O),F}},Zr=function(O,k){return O===k||"number"==typeof O&&"number"==typeof k&&isNaN(O)&&isNaN(k)},sr=function(O,k){for(var B=O.length,F=0;F<B;){if(Zr(O[F],k))return!0;F++}return!1},mr=Array.isArray||function(_){return"[object Array]"===Object.prototype.toString.call(_)},lt={},or={},Tt={INDEXEDDB:Xe,WEBSQL:Bt,LOCALSTORAGE:Vt},qr=[Tt.INDEXEDDB._driver,Tt.WEBSQL._driver,Tt.LOCALSTORAGE._driver],Yt=["dropInstance"],pr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Yt),Wr={description:"",driver:qr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gr(_,O){_[O]=function(){var k=arguments;return _.ready().then(function(){return _[O].apply(_,k)})}}function ar(){for(var _=1;_<arguments.length;_++){var O=arguments[_];if(O)for(var k in O)O.hasOwnProperty(k)&&(arguments[0][k]=mr(O[k])?O[k].slice():O[k])}return arguments[0]}var Kt=function(){function _(O){for(var k in function a(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}(this,_),Tt)if(Tt.hasOwnProperty(k)){var B=Tt[k],F=B._driver;this[k]=F,lt[F]||this.defineDriver(B)}this._defaultConfig=ar({},Wr),this._config=ar({},this._defaultConfig,O),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return _.prototype.config=function(k){if("object"===(typeof k>"u"?"undefined":s(k))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var B in k){if("storeName"===B&&(k[B]=k[B].replace(/\W/g,"_")),"version"===B&&"number"!=typeof k[B])return new Error("Database version must be a number.");this._config[B]=k[B]}return!("driver"in k)||!k.driver||this.setDriver(this._config.driver)}return"string"==typeof k?this._config[k]:this._config},_.prototype.defineDriver=function(k,B,F){var C=new m(function(J,oe){try{var le=k._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver)return void oe(de);for(var ye=pr.concat("_initStorage"),be=0,Re=ye.length;be<Re;be++){var Ne=ye[be];if((!sr(Yt,Ne)||k[Ne])&&"function"!=typeof k[Ne])return void oe(de)}!function(){for(var At=function(_n){return function(){var Hr=new Error("Method "+_n+" is not implemented by the current driver"),Qt=m.reject(Hr);return w(Qt,arguments[arguments.length-1]),Qt}},Rt=0,_r=Yt.length;Rt<_r;Rt++){var gr=Yt[Rt];k[gr]||(k[gr]=At(gr))}}();var $e=function(At){lt[le]&&console.info("Redefining LocalForage driver: "+le),lt[le]=k,or[le]=At,J()};"_support"in k?k._support&&"function"==typeof k._support?k._support().then($e,oe):$e(!!k._support):$e(!0)}catch(rt){oe(rt)}});return y(C,B,F),C},_.prototype.driver=function(){return this._driver||null},_.prototype.getDriver=function(k,B,F){var C=lt[k]?m.resolve(lt[k]):m.reject(new Error("Driver not found."));return y(C,B,F),C},_.prototype.getSerializer=function(k){var B=m.resolve(Pt);return y(B,k),B},_.prototype.ready=function(k){var B=this,F=B._driverSet.then(function(){return null===B._ready&&(B._ready=B._initDriver()),B._ready});return y(F,k,k),F},_.prototype.setDriver=function(k,B,F){var C=this;mr(k)||(k=[k]);var J=this._getSupportedDrivers(k);function oe(){C._config.driver=C.driver()}function le(be){return C._extend(be),oe(),C._ready=C._initStorage(C._config),C._ready}var ye=null!==this._driverSet?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=ye.then(function(){var be=J[0];return C._dbInfo=null,C._ready=null,C.getDriver(be).then(function(Re){C._driver=Re._driver,oe(),C._wrapLibraryMethodsWithReady(),C._initDriver=function de(be){return function(){var Re=0;return function Ne(){for(;Re<be.length;){var Be=be[Re];return Re++,C._dbInfo=null,C._ready=null,C.getDriver(Be).then(le).catch(Ne)}oe();var We=new Error("No available storage method found.");return C._driverSet=m.reject(We),C._driverSet}()}}(J)})}).catch(function(){oe();var be=new Error("No available storage method found.");return C._driverSet=m.reject(be),C._driverSet}),y(this._driverSet,B,F),this._driverSet},_.prototype.supports=function(k){return!!or[k]},_.prototype._extend=function(k){ar(this,k)},_.prototype._getSupportedDrivers=function(k){for(var B=[],F=0,C=k.length;F<C;F++){var J=k[F];this.supports(J)&&B.push(J)}return B},_.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,B=pr.length;k<B;k++)Gr(this,pr[k])},_.prototype.createInstance=function(k){return new _(k)},_}(),yr=new Kt;r.exports=yr},{3:3}]},{},[4])(4)}),Po=rn(function(n,t){n.exports=function e(r,i,s){function a(u,v){if(!i[u]){if(!r[u]){if(!v&&xt)return xt();if(c)return c(u,!0);var w=new Error("Cannot find module '"+u+"'");throw w.code="MODULE_NOT_FOUND",w}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(S){return a(r[u][1][S]||S)},y,y.exports,e,r,i,s)}return i[u].exports}for(var c=xt,f=0;f<s.length;f++)a(s[f]);return a}({1:[function(e,r,i){var s=e("./utils"),a=e("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var u,v,m,y,S,g,P=[],E=0,D=f.length,N=D,L="string"!==s.getTypeOf(f);E<f.length;)N=D-E,m=L?(u=f[E++],v=E<D?f[E++]:0,E<D?f[E++]:0):(u=f.charCodeAt(E++),v=E<D?f.charCodeAt(E++):0,E<D?f.charCodeAt(E++):0),y=(3&u)<<4|v>>4,S=1<N?(15&v)<<2|m>>6:64,g=2<N?63&m:64,P.push(c.charAt(u>>2)+c.charAt(y)+c.charAt(S)+c.charAt(g));return P.join("")},i.decode=function(f){var u,v,m,w,y,S,g=0,P=0,E="data:";if(f.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var D,N=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===c.charAt(64)&&N--,f.charAt(f.length-2)===c.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=a.uint8array?new Uint8Array(0|N):new Array(0|N);g<f.length;)u=c.indexOf(f.charAt(g++))<<2|(w=c.indexOf(f.charAt(g++)))>>4,v=(15&w)<<4|(y=c.indexOf(f.charAt(g++)))>>2,m=(3&y)<<6|(S=c.indexOf(f.charAt(g++))),D[P++]=u,64!==y&&(D[P++]=v),64!==S&&(D[P++]=m);return D}},{"./support":30,"./utils":32}],2:[function(e,r,i){var s=e("./external"),a=e("./stream/DataWorker"),c=e("./stream/Crc32Probe"),f=e("./stream/DataLengthProbe");function u(v,m,w,y,S){this.compressedSize=v,this.uncompressedSize=m,this.crc32=w,this.compression=y,this.compressedContent=S}u.prototype={getContentWorker:function(){var v=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),m=this;return v.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(v,m,w){return v.pipe(new c).pipe(new f("uncompressedSize")).pipe(m.compressWorker(w)).pipe(new f("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,i){var s=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,i){var s=e("./utils"),a=function(){for(var c,f=[],u=0;u<256;u++){c=u;for(var v=0;v<8;v++)c=1&c?3988292384^c>>>1:c>>>1;f[u]=c}return f}();r.exports=function(c,f){return void 0!==c&&c.length?"string"!==s.getTypeOf(c)?function(u,v,m,w){var y=a,S=0+m;u^=-1;for(var g=0;g<S;g++)u=u>>>8^y[255&(u^v[g])];return-1^u}(0|f,c,c.length):function(u,v,m,w){var y=a,S=0+m;u^=-1;for(var g=0;g<S;g++)u=u>>>8^y[255&(u^v.charCodeAt(g))];return-1^u}(0|f,c,c.length):0}},{"./utils":32}],5:[function(e,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,r,i){var s;s=typeof Promise<"u"?Promise:e("lie"),r.exports={Promise:s}},{lie:37}],7:[function(e,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),c=e("./utils"),f=e("./stream/GenericWorker"),u=s?"uint8array":"array";function v(m,w){f.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=w,this.meta={}}i.magic="\b\0",c.inherits(v,f),v.prototype.processChunk=function(m){this.meta=m.meta,null===this._pako&&this._createPako(),this._pako.push(c.transformTo(u,m.data),!1)},v.prototype.flush=function(){f.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(w){m.push({data:w,meta:m.meta})}},i.compressWorker=function(m){return new v("Deflate",m)},i.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,i){function s(y,S){var g,P="";for(g=0;g<S;g++)P+=String.fromCharCode(255&y),y>>>=8;return P}function a(y,S,g,P,E,D){var N,L,A=y.file,H=y.compression,M=D!==u.utf8encode,Q=c.transformTo("string",D(A.name)),G=c.transformTo("string",u.utf8encode(A.name)),ue=A.comment,ve=c.transformTo("string",D(ue)),R=c.transformTo("string",u.utf8encode(ue)),W=G.length!==A.name.length,p=R.length!==ue.length,X="",ke="",te="",Se=A.dir,ce=A.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};S&&!g||(fe.crc32=y.crc32,fe.compressedSize=y.compressedSize,fe.uncompressedSize=y.uncompressedSize);var $=0;S&&($|=8),M||!W&&!p||($|=2048);var pe,Ge,q=0,xe=0;Se&&(q|=16),"UNIX"===E?(xe=798,q|=(Ge=pe=A.unixPermissions,pe||(Ge=Se?16893:33204),(65535&Ge)<<16)):(xe=20,q|=function(pe){return 63&(pe||0)}(A.dosPermissions)),N=ce.getUTCHours(),N<<=6,N|=ce.getUTCMinutes(),N<<=5,N|=ce.getUTCSeconds()/2,L=ce.getUTCFullYear()-1980,L<<=4,L|=ce.getUTCMonth()+1,L<<=5,L|=ce.getUTCDate(),W&&(ke=s(1,1)+s(v(Q),4)+G,X+="up"+s(ke.length,2)+ke),p&&(te=s(1,1)+s(v(ve),4)+R,X+="uc"+s(te.length,2)+te);var ge="";return ge+="\n\0",ge+=s($,2),ge+=H.magic,ge+=s(N,2),ge+=s(L,2),ge+=s(fe.crc32,4),ge+=s(fe.compressedSize,4),ge+=s(fe.uncompressedSize,4),ge+=s(Q.length,2),ge+=s(X.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ge+Q+X,dirRecord:m.CENTRAL_FILE_HEADER+s(xe,2)+ge+s(ve.length,2)+"\0\0\0\0"+s(q,4)+s(P,4)+Q+X+ve}}var c=e("../utils"),f=e("../stream/GenericWorker"),u=e("../utf8"),v=e("../crc32"),m=e("../signature");function w(y,S,g,P){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=g,this.encodeFileName=P,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,f),w.prototype.push=function(y){var S=y.meta.percent||0,g=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,f.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:g?(S+100*(g-P-1))/g:100}}))},w.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var S=this.streamFiles&&!y.file.dir;if(S){var g=a(y,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(y){this.accumulate=!1;var P,S=this.streamFiles&&!y.file.dir,g=a(y,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),S)this.push({data:(P=y,m.DATA_DESCRIPTOR+s(P.crc32,4)+s(P.compressedSize,4)+s(P.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var y=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var E,D,N,H,P=(E=this.dirRecords.length,D=this.bytesWritten-y,N=y,H=c.transformTo("string",(0,this.encodeFileName)(this.zipComment)),m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(E,2)+s(E,2)+s(D,4)+s(N,4)+s(H.length,2)+H);this.push({data:P,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(y){this._sources.push(y);var S=this;return y.on("data",function(g){S.processChunk(g)}),y.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),y.on("error",function(g){S.error(g)}),this},w.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(y){var S=this._sources;if(!f.prototype.error.call(this,y))return!1;for(var g=0;g<S.length;g++)try{S[g].error(y)}catch{}return!0},w.prototype.lock=function(){f.prototype.lock.call(this);for(var y=this._sources,S=0;S<y.length;S++)y[S].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,i){var s=e("../compressions"),a=e("./ZipFileWorker");i.generateWorker=function(c,f,u){var v=new a(f.streamFiles,u,f.platform,f.encodeFileName),m=0;try{c.forEach(function(w,y){m++;var S=function(D,N){var L=D||N,A=s[L];if(!A)throw new Error(L+" is not a valid compression method !");return A}(y.options.compression,f.compression),P=y.dir,E=y.date;y._compressWorker(S,y.options.compressionOptions||f.compressionOptions||{}).withStreamInfo("file",{name:w,dir:P,date:E,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(v)}),v.entriesCount=m}catch(w){v.error(w)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var c in this)"function"!=typeof this[c]&&(a[c]=this[c]);return a}}(s.prototype=e("./object")).loadAsync=e("./load"),s.support=e("./support"),s.defaults=e("./defaults"),s.version="3.10.1",s.loadAsync=function(a,c){return(new s).loadAsync(a,c)},s.external=e("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,i){var s=e("./utils"),a=e("./external"),c=e("./utf8"),f=e("./zipEntries"),u=e("./stream/Crc32Probe"),v=e("./nodejsUtils");function m(w){return new a.Promise(function(y,S){var g=w.decompressed.getContentWorker().pipe(new u);g.on("error",function(P){S(P)}).on("end",function(){g.streamInfo.crc32!==w.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(w,y){var S=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),v.isNode&&v.isStream(w)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,y.optimizedBinaryString,y.base64).then(function(g){var P=new f(y);return P.load(g),P}).then(function(g){var P=[a.Promise.resolve(g)],E=g.files;if(y.checkCRC32)for(var D=0;D<E.length;D++)P.push(m(E[D]));return a.Promise.all(P)}).then(function(g){for(var P=g.shift(),E=P.files,D=0;D<E.length;D++){var N=E[D],L=N.fileNameStr,A=s.resolve(N.fileNameStr);S.file(A,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:y.createFolders}),N.dir||(S.file(A).unsafeOriginalName=L)}return P.zipComment.length&&(S.comment=P.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,i){var s=e("../utils"),a=e("../stream/GenericWorker");function c(f,u){a.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(c,a),c.prototype._bindStream=function(f){var u=this;(this._stream=f).pause(),f.on("data",function(v){u.push({data:v,meta:{percent:0}})}).on("error",function(v){u.isPaused?this.generatedError=v:u.error(v)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},c.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,i){var s=e("readable-stream").Readable;function a(c,f,u){s.call(this,f),this._helper=c;var v=this;c.on("data",function(m,w){v.push(m)||v._helper.pause(),u&&u(w)}).on("error",function(m){v.emit("error",m)}).on("end",function(){v.push(null)})}e("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,r,i){r.exports={isNode:!0,newBufferFrom:function(s,a){if(ie.from&&ie.from!==Uint8Array.from)return ie.from(s,a);if("number"==typeof s)throw new Error('The "data" argument must not be a number');return new ie(s,a)},allocBuffer:function(s){if(ie.alloc)return ie.alloc(s);var a=new ie(s);return a.fill(0),a},isBuffer:function(s){return ie.isBuffer(s)},isStream:function(s){return s&&"function"==typeof s.on&&"function"==typeof s.pause&&"function"==typeof s.resume}}},{}],15:[function(e,r,i){function s(A,H,M){var Q,G=c.getTypeOf(H),ue=c.extend(M||{},v);ue.date=ue.date||new Date,null!==ue.compression&&(ue.compression=ue.compression.toUpperCase()),"string"==typeof ue.unixPermissions&&(ue.unixPermissions=parseInt(ue.unixPermissions,8)),ue.unixPermissions&&16384&ue.unixPermissions&&(ue.dir=!0),ue.dosPermissions&&16&ue.dosPermissions&&(ue.dir=!0),ue.dir&&(A=E(A)),ue.createFolders&&(Q=P(A))&&D.call(this,Q,!0),M&&void 0!==M.binary||(ue.binary=!("string"===G&&!1===ue.binary&&!1===ue.base64)),(H instanceof m&&0===H.uncompressedSize||ue.dir||!H||0===H.length)&&(ue.base64=!1,ue.binary=!0,H="",ue.compression="STORE",G="string");var R;R=H instanceof m||H instanceof f?H:S.isNode&&S.isStream(H)?new g(A,H):c.prepareContent(A,H,ue.binary,ue.optimizedBinaryString,ue.base64);var W=new w(A,R,ue);this.files[A]=W}var a=e("./utf8"),c=e("./utils"),f=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),v=e("./defaults"),m=e("./compressedObject"),w=e("./zipObject"),y=e("./generate"),S=e("./nodejsUtils"),g=e("./nodejs/NodejsStreamInputAdapter"),P=function(A){"/"===A.slice(-1)&&(A=A.substring(0,A.length-1));var H=A.lastIndexOf("/");return 0<H?A.substring(0,H):""},E=function(A){return"/"!==A.slice(-1)&&(A+="/"),A},D=function(A,H){return H=void 0!==H?H:v.createFolders,A=E(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:H}),this.files[A]};function N(A){return"[object RegExp]"===Object.prototype.toString.call(A)}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var H,M,Q;for(H in this.files)Q=this.files[H],(M=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&A(M,Q)},filter:function(A){var H=[];return this.forEach(function(M,Q){A(M,Q)&&H.push(Q)}),H},file:function(A,H,M){if(1!==arguments.length)return s.call(this,A=this.root+A,H,M),this;if(N(A)){var Q=A;return this.filter(function(ue,ve){return!ve.dir&&Q.test(ue)})}var G=this.files[this.root+A];return G&&!G.dir?G:null},folder:function(A){if(!A)return this;if(N(A))return this.filter(function(G,ue){return ue.dir&&A.test(G)});var M=D.call(this,this.root+A),Q=this.clone();return Q.root=M.name,Q},remove:function(A){var H=this.files[A=this.root+A];if(H||("/"!==A.slice(-1)&&(A+="/"),H=this.files[A]),H&&!H.dir)delete this.files[A];else for(var M=this.filter(function(G,ue){return ue.name.slice(0,A.length)===A}),Q=0;Q<M.length;Q++)delete this.files[M[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var H,M={};try{if((M=c.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),"binarystring"===M.type&&(M.type="string"),!M.type)throw new Error("No output type specified.");c.checkSupport(M.type),"darwin"!==M.platform&&"freebsd"!==M.platform&&"linux"!==M.platform&&"sunos"!==M.platform||(M.platform="UNIX"),"win32"===M.platform&&(M.platform="DOS"),H=y.generateWorker(this,M,M.comment||this.comment||"")}catch(G){(H=new f("error")).error(G)}return new u(H,M.type||"string",M.mimeType)},generateAsync:function(A,H){return this.generateInternalStream(A).accumulate(H)},generateNodeStream:function(A,H){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(H)}};r.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,i){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,i){var s=e("./DataReader");function a(c){s.call(this,c);for(var f=0;f<this.data.length;f++)c[f]=255&c[f]}e("../utils").inherits(a,s),a.prototype.byteAt=function(c){return this.data[this.zero+c]},a.prototype.lastIndexOfSignature=function(c){for(var f=c.charCodeAt(0),u=c.charCodeAt(1),v=c.charCodeAt(2),m=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===f&&this.data[w+1]===u&&this.data[w+2]===v&&this.data[w+3]===m)return w-this.zero;return-1},a.prototype.readAndCheckSignature=function(c){var f=c.charCodeAt(0),u=c.charCodeAt(1),v=c.charCodeAt(2),m=c.charCodeAt(3),w=this.readData(4);return f===w[0]&&u===w[1]&&v===w[2]&&m===w[3]},a.prototype.readData=function(c){if(this.checkOffset(c),0===c)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,r,i){var s=e("../utils");function a(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f,u=0;for(this.checkOffset(c),f=this.index+c-1;f>=this.index;f--)u=(u<<8)+this.byteAt(f);return this.index+=c,u},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=a},{"../utils":32}],19:[function(e,r,i){var s=e("./Uint8ArrayReader");function a(c){s.call(this,c)}e("../utils").inherits(a,s),a.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,i){var s=e("./DataReader");function a(c){s.call(this,c)}e("../utils").inherits(a,s),a.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},a.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},a.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},a.prototype.readData=function(c){this.checkOffset(c);var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,r,i){var s=e("./ArrayReader");function a(c){s.call(this,c)}e("../utils").inherits(a,s),a.prototype.readData=function(c){if(this.checkOffset(c),0===c)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,f},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,i){var s=e("../utils"),a=e("../support"),c=e("./ArrayReader"),f=e("./StringReader"),u=e("./NodeBufferReader"),v=e("./Uint8ArrayReader");r.exports=function(m){var w=s.getTypeOf(m);return s.checkSupport(w),"string"!==w||a.uint8array?"nodebuffer"===w?new u(m):a.uint8array?new v(s.transformTo("uint8array",m)):new c(s.transformTo("array",m)):new f(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,i){i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,i){var s=e("./GenericWorker"),a=e("../utils");function c(f){s.call(this,"ConvertWorker to "+f),this.destType=f}a.inherits(c,s),c.prototype.processChunk=function(f){this.push({data:a.transformTo(this.destType,f.data),meta:f.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,i){var s=e("./GenericWorker"),a=e("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(c,s),c.prototype.processChunk=function(f){this.streamInfo.crc32=a(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,i){var s=e("../utils"),a=e("./GenericWorker");function c(f){a.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}s.inherits(c,a),c.prototype.processChunk=function(f){f&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+f.data.length),a.prototype.processChunk.call(this,f)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,i){var s=e("../utils"),a=e("./GenericWorker");function c(f){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(v){u.dataIsReady=!0,u.data=v,u.max=v&&v.length||0,u.type=s.getTypeOf(v),u.isPaused||u._tickAndRepeat()},function(v){u.error(v)})}s.inherits(c,a),c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,u);break;case"uint8array":f=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":f=this.data.slice(this.index,u)}return this.index=u,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,c){return this._listeners[a].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,c){if(this._listeners[a])for(var f=0;f<this._listeners[a].length;f++)this._listeners[a][f].call(this,c)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var c=this;return a.on("data",function(f){c.processChunk(f)}),a.on("end",function(){c.end()}),a.on("error",function(f){c.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,c){return this.extraStreamInfo[a]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(e,r,i){var s=e("../utils"),a=e("./ConvertWorker"),c=e("./GenericWorker"),f=e("../base64"),u=e("../support"),v=e("../external"),m=null;if(u.nodestream)try{m=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(S,g,P){var E=g;switch(g){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=g,this._mimeType=P,s.checkSupport(E),this._worker=S.pipe(new a(E)),S.lock()}catch(D){this._worker=new c("error"),this._worker.error(D)}}y.prototype={accumulate:function(S){return function w(S,g){return new v.Promise(function(P,E){var D=[],N=S._internalType,L=S._outputType,A=S._mimeType;S.on("data",function(H,M){D.push(H),g&&g(M)}).on("error",function(H){D=[],E(H)}).on("end",function(){try{var H=function(M,Q,G){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",Q),G);case"base64":return f.encode(Q);default:return s.transformTo(M,Q)}}(L,function(M,Q){var G,ue=0,ve=null,R=0;for(G=0;G<Q.length;G++)R+=Q[G].length;switch(M){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(ve=new Uint8Array(R),G=0;G<Q.length;G++)ve.set(Q[G],ue),ue+=Q[G].length;return ve;case"nodebuffer":return ie.concat(Q);default:throw new Error("concat : unsupported type '"+M+"'")}}(N,D),A);P(H)}catch(M){E(M)}D=[]}).resume()})}(this,S)},on:function(S,g){var P=this;return this._worker.on(S,"data"===S?function(E){g.call(P,E.data,E.meta)}:function(){s.delay(g,arguments,P)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},S)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=!0,i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=0===new Blob([s],{type:"application/zip"}).size}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=0===a.getBlob("application/zip").size}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,i){for(var s=e("./utils"),a=e("./support"),c=e("./nodejsUtils"),f=e("./stream/GenericWorker"),u=new Array(256),v=0;v<256;v++)u[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function m(){f.call(this,"utf-8 decode"),this.leftOver=null}function w(){f.call(this,"utf-8 encode")}u[254]=u[254]=1,i.utf8encode=function(y){return a.nodebuffer?c.newBufferFrom(y,"utf-8"):function(S){var g,P,E,D,N,L=S.length,A=0;for(D=0;D<L;D++)55296==(64512&(P=S.charCodeAt(D)))&&D+1<L&&56320==(64512&(E=S.charCodeAt(D+1)))&&(P=65536+(P-55296<<10)+(E-56320),D++),A+=P<128?1:P<2048?2:P<65536?3:4;for(g=a.uint8array?new Uint8Array(A):new Array(A),D=N=0;N<A;D++)55296==(64512&(P=S.charCodeAt(D)))&&D+1<L&&56320==(64512&(E=S.charCodeAt(D+1)))&&(P=65536+(P-55296<<10)+(E-56320),D++),P<128?g[N++]=P:(P<2048?g[N++]=192|P>>>6:(P<65536?g[N++]=224|P>>>12:(g[N++]=240|P>>>18,g[N++]=128|P>>>12&63),g[N++]=128|P>>>6&63),g[N++]=128|63&P);return g}(y)},i.utf8decode=function(y){return a.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(S){var g,P,E,D,N=S.length,L=new Array(2*N);for(g=P=0;g<N;)if((E=S[g++])<128)L[P++]=E;else if(4<(D=u[E]))L[P++]=65533,g+=D-1;else{for(E&=2===D?31:3===D?15:7;1<D&&g<N;)E=E<<6|63&S[g++],D--;1<D?L[P++]=65533:E<65536?L[P++]=E:(L[P++]=55296|(E-=65536)>>10&1023,L[P++]=56320|1023&E)}return L.length!==P&&(L.subarray?L=L.subarray(0,P):L.length=P),s.applyFromCharCode(L)}(y=s.transformTo(a.uint8array?"uint8array":"array",y))},s.inherits(m,f),m.prototype.processChunk=function(y){var S=s.transformTo(a.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=S;(S=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),S.set(g,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var P=function(D,N){var L;for((N=N||D.length)>D.length&&(N=D.length),L=N-1;0<=L&&128==(192&D[L]);)L--;return L<0||0===L?N:L+u[D[L]]>N?L:N}(S),E=S;P!==S.length&&(a.uint8array?(E=S.subarray(0,P),this.leftOver=S.subarray(P,S.length)):(E=S.slice(0,P),this.leftOver=S.slice(P,S.length))),this.push({data:i.utf8decode(E),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(w,f),w.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,i){var s=e("./support"),a=e("./base64"),c=e("./nodejsUtils"),f=e("./external");function u(g){return g}function v(g,P){for(var E=0;E<g.length;++E)P[E]=255&g.charCodeAt(E);return P}e("setimmediate"),i.newBlob=function(g,P){i.checkSupport("blob");try{return new Blob([g],{type:P})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(g),E.getBlob(P)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(g,P,E){var D=[],N=0,L=g.length;if(L<=E)return String.fromCharCode.apply(null,g);for(;N<L;)D.push(String.fromCharCode.apply(null,"array"===P||"nodebuffer"===P?g.slice(N,Math.min(N+E,L)):g.subarray(N,Math.min(N+E,L)))),N+=E;return D.join("")},stringifyByChar:function(g){for(var P="",E=0;E<g.length;E++)P+=String.fromCharCode(g[E]);return P},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&1===String.fromCharCode.apply(null,c.allocBuffer(1)).length}catch{return!1}}()}};function w(g){var P=65536,E=i.getTypeOf(g),D=!0;if("uint8array"===E?D=m.applyCanBeUsed.uint8array:"nodebuffer"===E&&(D=m.applyCanBeUsed.nodebuffer),D)for(;1<P;)try{return m.stringifyByChunk(g,E,P)}catch{P=Math.floor(P/2)}return m.stringifyByChar(g)}function y(g,P){for(var E=0;E<g.length;E++)P[E]=g[E];return P}i.applyFromCharCode=w;var S={};S.string={string:u,array:function(g){return v(g,new Array(g.length))},arraybuffer:function(g){return S.string.uint8array(g).buffer},uint8array:function(g){return v(g,new Uint8Array(g.length))},nodebuffer:function(g){return v(g,c.allocBuffer(g.length))}},S.array={string:w,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(g)}},S.arraybuffer={string:function(g){return w(new Uint8Array(g))},array:function(g){return y(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(new Uint8Array(g))}},S.uint8array={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return c.newBufferFrom(g)}},S.nodebuffer={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return S.nodebuffer.uint8array(g).buffer},uint8array:function(g){return y(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,P){if(P=P||"",!g)return P;i.checkSupport(g);var E=i.getTypeOf(P);return S[E][g](P)},i.resolve=function(g){for(var P=g.split("/"),E=[],D=0;D<P.length;D++){var N=P[D];"."===N||""===N&&0!==D&&D!==P.length-1||(".."===N?E.pop():E.push(N))}return E.join("/")},i.getTypeOf=function(g){return"string"==typeof g?"string":"[object Array]"===Object.prototype.toString.call(g)?"array":s.nodebuffer&&c.isBuffer(g)?"nodebuffer":s.uint8array&&g instanceof Uint8Array?"uint8array":s.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!s[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var P,E,D="";for(E=0;E<(g||"").length;E++)D+="\\x"+((P=g.charCodeAt(E))<16?"0":"")+P.toString(16).toUpperCase();return D},i.delay=function(g,P,E){setImmediate(function(){g.apply(E||null,P||[])})},i.inherits=function(g,P){function E(){}E.prototype=P.prototype,g.prototype=new E},i.extend=function(){var g,P,E={};for(g=0;g<arguments.length;g++)for(P in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],P)&&void 0===E[P]&&(E[P]=arguments[g][P]);return E},i.prepareContent=function(g,P,E,D,N){return f.Promise.resolve(P).then(function(L){return s.blob&&(L instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L)))&&typeof FileReader<"u"?new f.Promise(function(A,H){var M=new FileReader;M.onload=function(Q){A(Q.target.result)},M.onerror=function(Q){H(Q.target.error)},M.readAsArrayBuffer(L)}):L}).then(function(L){var H,A=i.getTypeOf(L);return A?("arraybuffer"===A?L=i.transformTo("uint8array",L):"string"===A&&(N?L=a.decode(L):E&&!0!==D&&(L=v(H=L,s.uint8array?new Uint8Array(H.length):new Array(H.length)))),L):f.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,i){var s=e("./reader/readerFor"),a=e("./utils"),c=e("./signature"),f=e("./zipEntry"),u=e("./support");function v(m){this.files=[],this.loadOptions=m}v.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(w)+", expected "+a.pretty(m)+")")}},isSignature:function(m,w){var y=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===w;return this.reader.setIndex(y),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=a.transformTo(u.uint8array?"uint8array":"array",m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,w,y,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),w=this.reader.readInt(4),y=this.reader.readData(w),this.zip64ExtensibleData[m]={id:m,length:w,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,w;for(m=0;m<this.files.length;m++)this.reader.setIndex((w=this.files[m]).localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var w=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var S=w-y;if(0<S)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,i){var s=e("./reader/readerFor"),a=e("./utils"),c=e("./compressedObject"),f=e("./crc32"),u=e("./utf8"),v=e("./compressions"),m=e("./support");function w(y,S){this.options=y,this.loadOptions=S}w.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(y){var S,g;if(y.skip(22),this.fileNameLength=y.readInt(2),g=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(g),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(S=function(P){for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)&&v[E].magic===P)return v[E];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,S,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var S=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(S),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==y&&(this.dosPermissions=63&this.externalFileAttributes),3==y&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var S,g,P,E=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<E;)S=y.readInt(2),g=y.readInt(2),P=y.readData(g),this.extraFields[S]={id:S,length:g,value:P};y.setIndex(E)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(null!==S)this.fileNameStr=S;else{var g=a.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var P=this.findExtraFieldUnicodeComment();if(null!==P)this.fileCommentStr=P;else{var E=a.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var S=s(y.value);return 1!==S.readInt(1)||f(this.fileName)!==S.readInt(4)?null:u.utf8decode(S.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var S=s(y.value);return 1!==S.readInt(1)||f(this.fileComment)!==S.readInt(4)?null:u.utf8decode(S.readData(y.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,i){function s(S,g,P){this.name=S,this.dir=P.dir,this.date=P.date,this.comment=P.comment,this.unixPermissions=P.unixPermissions,this.dosPermissions=P.dosPermissions,this._data=g,this._dataBinary=P.binary,this.options={compression:P.compression,compressionOptions:P.compressionOptions}}var a=e("./stream/StreamHelper"),c=e("./stream/DataWorker"),f=e("./utf8"),u=e("./compressedObject"),v=e("./stream/GenericWorker");s.prototype={internalStream:function(S){var g=null,P="string";try{if(!S)throw new Error("No output type specified.");var E="string"===(P=S.toLowerCase())||"text"===P;"binarystring"!==P&&"text"!==P||(P="string"),g=this._decompressWorker();var D=!this._dataBinary;D&&!E&&(g=g.pipe(new f.Utf8EncodeWorker)),!D&&E&&(g=g.pipe(new f.Utf8DecodeWorker))}catch(N){(g=new v("error")).error(N)}return new a(g,P,"")},async:function(S,g){return this.internalStream(S).accumulate(g)},nodeStream:function(S,g){return this.internalStream(S||"nodebuffer").toNodejsStream(g)},_compressWorker:function(S,g){if(this._data instanceof u&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var P=this._decompressWorker();return this._dataBinary||(P=P.pipe(new f.Utf8EncodeWorker)),u.createWorkerFrom(P,S,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof v?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)s.prototype[m[y]]=w;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,i){(function(s){var a,c,f=s.MutationObserver||s.WebKitMutationObserver;if(f){var u=0,v=new f(S),m=s.document.createTextNode("");v.observe(m,{characterData:!0}),a=function(){m.data=u=++u%2}}else if(s.setImmediate||void 0===s.MessageChannel)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var g=s.document.createElement("script");g.onreadystatechange=function(){S(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:function(){setTimeout(S,0)};else{var w=new s.MessageChannel;w.port1.onmessage=S,a=function(){w.port2.postMessage(0)}}var y=[];function S(){var g,P;c=!0;for(var E=y.length;E;){for(P=y,y=[],g=-1;++g<E;)P[g]();E=y.length}c=!1}r.exports=function(g){1!==y.push(g)||c||a()}}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,i){var s=e("immediate");function a(){}var c={},f=["REJECTED"],u=["FULFILLED"],v=["PENDING"];function m(E){if("function"!=typeof E)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,E!==a&&g(this,E)}function w(E,D,N){this.promise=E,"function"==typeof D&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),"function"==typeof N&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function y(E,D,N){s(function(){var L;try{L=D(N)}catch(A){return c.reject(E,A)}L===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,L)})}function S(E){var D=E&&E.then;if(E&&("object"==typeof E||"function"==typeof E)&&"function"==typeof D)return function(){D.apply(E,arguments)}}function g(E,D){var N=!1;function L(M){N||(N=!0,c.reject(E,M))}function A(M){N||(N=!0,c.resolve(E,M))}var H=P(function(){D(A,L)});"error"===H.status&&L(H.value)}function P(E,D){var N={};try{N.value=E(D),N.status="success"}catch(L){N.status="error",N.value=L}return N}(r.exports=m).prototype.finally=function(E){if("function"!=typeof E)return this;var D=this.constructor;return this.then(function(N){return D.resolve(E()).then(function(){return N})},function(N){return D.resolve(E()).then(function(){throw N})})},m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,D){if("function"!=typeof E&&this.state===u||"function"!=typeof D&&this.state===f)return this;var N=new this.constructor(a);return this.state!==v?y(N,this.state===u?E:D,this.outcome):this.queue.push(new w(N,E,D)),N},w.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){c.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)},c.resolve=function(E,D){var N=P(S,D);if("error"===N.status)return c.reject(E,N.value);var L=N.value;if(L)g(E,L);else{E.state=u,E.outcome=D;for(var A=-1,H=E.queue.length;++A<H;)E.queue[A].callFulfilled(D)}return E},c.reject=function(E,D){E.state=f,E.outcome=D;for(var N=-1,L=E.queue.length;++N<L;)E.queue[N].callRejected(D);return E},m.resolve=function(E){return E instanceof this?E:c.resolve(new this(a),E)},m.reject=function(E){var D=new this(a);return c.reject(D,E)},m.all=function(E){var D=this;if("[object Array]"!==Object.prototype.toString.call(E))return this.reject(new TypeError("must be an array"));var N=E.length,L=!1;if(!N)return this.resolve([]);for(var A=new Array(N),H=0,M=-1,Q=new this(a);++M<N;)G(E[M],M);return Q;function G(ue,ve){D.resolve(ue).then(function(R){A[ve]=R,++H!==N||L||(L=!0,c.resolve(Q,A))},function(R){L||(L=!0,c.reject(Q,R))})}},m.race=function(E){if("[object Array]"!==Object.prototype.toString.call(E))return this.reject(new TypeError("must be an array"));var N=E.length,L=!1;if(!N)return this.resolve([]);for(var A=-1,H=new this(a);++A<N;)this.resolve(E[A]).then(function(Q){L||(L=!0,c.resolve(H,Q))},function(Q){L||(L=!0,c.reject(H,Q))});return H}},{immediate:36}],38:[function(e,r,i){var s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,i){var s=e("./zlib/deflate"),a=e("./utils/common"),c=e("./utils/strings"),f=e("./zlib/messages"),u=e("./zlib/zstream"),v=Object.prototype.toString;function g(E){if(!(this instanceof g))return new g(E);this.options=a.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},E||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var N=s.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(0!==N)throw new Error(f[N]);if(D.header&&s.deflateSetHeader(this.strm,D.header),D.dictionary){var L;if(L="string"==typeof D.dictionary?c.string2buf(D.dictionary):"[object ArrayBuffer]"===v.call(D.dictionary)?new Uint8Array(D.dictionary):D.dictionary,0!==(N=s.deflateSetDictionary(this.strm,L)))throw new Error(f[N]);this._dict_set=!0}}function P(E,D){var N=new g(D);if(N.push(E,!0),N.err)throw N.msg||f[N.err];return N.result}g.prototype.push=function(E,D){var N,L,A=this.strm,H=this.options.chunkSize;if(this.ended)return!1;L=D===~~D?D:!0===D?4:0,A.input="string"==typeof E?c.string2buf(E):"[object ArrayBuffer]"===v.call(E)?new Uint8Array(E):E,A.next_in=0,A.avail_in=A.input.length;do{if(0===A.avail_out&&(A.output=new a.Buf8(H),A.next_out=0,A.avail_out=H),1!==(N=s.deflate(A,L))&&0!==N)return this.onEnd(N),!(this.ended=!0);0!==A.avail_out&&(0!==A.avail_in||4!==L&&2!==L)||this.onData("string"===this.options.to?c.buf2binstring(a.shrinkBuf(A.output,A.next_out)):a.shrinkBuf(A.output,A.next_out))}while((0<A.avail_in||0===A.avail_out)&&1!==N);return 4===L?(N=s.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,0===N):2!==L||(this.onEnd(0),!(A.avail_out=0))},g.prototype.onData=function(E){this.chunks.push(E)},g.prototype.onEnd=function(E){0===E&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},i.Deflate=g,i.deflate=P,i.deflateRaw=function(E,D){return(D=D||{}).raw=!0,P(E,D)},i.gzip=function(E,D){return(D=D||{}).gzip=!0,P(E,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,i){var s=e("./zlib/inflate"),a=e("./utils/common"),c=e("./utils/strings"),f=e("./zlib/constants"),u=e("./zlib/messages"),v=e("./zlib/zstream"),m=e("./zlib/gzheader"),w=Object.prototype.toString;function y(g){if(!(this instanceof y))return new y(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var P=this.options;P.raw&&0<=P.windowBits&&P.windowBits<16&&(P.windowBits=-P.windowBits,0===P.windowBits&&(P.windowBits=-15)),!(0<=P.windowBits&&P.windowBits<16)||g&&g.windowBits||(P.windowBits+=32),15<P.windowBits&&P.windowBits<48&&0==(15&P.windowBits)&&(P.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var E=s.inflateInit2(this.strm,P.windowBits);if(E!==f.Z_OK)throw new Error(u[E]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function S(g,P){var E=new y(P);if(E.push(g,!0),E.err)throw E.msg||u[E.err];return E.result}y.prototype.push=function(g,P){var E,D,N,L,A,H,M=this.strm,Q=this.options.chunkSize,G=this.options.dictionary,ue=!1;if(this.ended)return!1;D=P===~~P?P:!0===P?f.Z_FINISH:f.Z_NO_FLUSH,M.input="string"==typeof g?c.binstring2buf(g):"[object ArrayBuffer]"===w.call(g)?new Uint8Array(g):g,M.next_in=0,M.avail_in=M.input.length;do{if(0===M.avail_out&&(M.output=new a.Buf8(Q),M.next_out=0,M.avail_out=Q),(E=s.inflate(M,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&G&&(H="string"==typeof G?c.string2buf(G):"[object ArrayBuffer]"===w.call(G)?new Uint8Array(G):G,E=s.inflateSetDictionary(this.strm,H)),E===f.Z_BUF_ERROR&&!0===ue&&(E=f.Z_OK,ue=!1),E!==f.Z_STREAM_END&&E!==f.Z_OK)return this.onEnd(E),!(this.ended=!0);M.next_out&&(0!==M.avail_out&&E!==f.Z_STREAM_END&&(0!==M.avail_in||D!==f.Z_FINISH&&D!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(N=c.utf8border(M.output,M.next_out),L=M.next_out-N,A=c.buf2string(M.output,N),M.next_out=L,M.avail_out=Q-L,L&&a.arraySet(M.output,M.output,N,L,0),this.onData(A)):this.onData(a.shrinkBuf(M.output,M.next_out)))),0===M.avail_in&&0===M.avail_out&&(ue=!0)}while((0<M.avail_in||0===M.avail_out)&&E!==f.Z_STREAM_END);return E===f.Z_STREAM_END&&(D=f.Z_FINISH),D===f.Z_FINISH?(E=s.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f.Z_OK):D!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(M.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=y,i.inflate=S,i.inflateRaw=function(g,P){return(P=P||{}).raw=!0,S(g,P)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(f){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var v=u.shift();if(v){if("object"!=typeof v)throw new TypeError(v+"must be non-object");for(var m in v)v.hasOwnProperty(m)&&(f[m]=v[m])}}return f},i.shrinkBuf=function(f,u){return f.length===u?f:f.subarray?f.subarray(0,u):(f.length=u,f)};var a={arraySet:function(f,u,v,m,w){if(u.subarray&&f.subarray)f.set(u.subarray(v,v+m),w);else for(var y=0;y<m;y++)f[w+y]=u[v+y]},flattenChunks:function(f){var u,v,m,w,y,S;for(u=m=0,v=f.length;u<v;u++)m+=f[u].length;for(S=new Uint8Array(m),u=w=0,v=f.length;u<v;u++)S.set(y=f[u],w),w+=y.length;return S}},c={arraySet:function(f,u,v,m,w){for(var y=0;y<m;y++)f[w+y]=u[v+y]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(e,r,i){var s=e("./common"),a=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var f=new s.Buf8(256),u=0;u<256;u++)f[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function v(m,w){if(w<65537&&(m.subarray&&c||!m.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(m,w));for(var y="",S=0;S<w;S++)y+=String.fromCharCode(m[S]);return y}f[254]=f[254]=1,i.string2buf=function(m){var w,y,S,g,P,E=m.length,D=0;for(g=0;g<E;g++)55296==(64512&(y=m.charCodeAt(g)))&&g+1<E&&56320==(64512&(S=m.charCodeAt(g+1)))&&(y=65536+(y-55296<<10)+(S-56320),g++),D+=y<128?1:y<2048?2:y<65536?3:4;for(w=new s.Buf8(D),g=P=0;P<D;g++)55296==(64512&(y=m.charCodeAt(g)))&&g+1<E&&56320==(64512&(S=m.charCodeAt(g+1)))&&(y=65536+(y-55296<<10)+(S-56320),g++),y<128?w[P++]=y:(y<2048?w[P++]=192|y>>>6:(y<65536?w[P++]=224|y>>>12:(w[P++]=240|y>>>18,w[P++]=128|y>>>12&63),w[P++]=128|y>>>6&63),w[P++]=128|63&y);return w},i.buf2binstring=function(m){return v(m,m.length)},i.binstring2buf=function(m){for(var w=new s.Buf8(m.length),y=0,S=w.length;y<S;y++)w[y]=m.charCodeAt(y);return w},i.buf2string=function(m,w){var y,S,g,P,E=w||m.length,D=new Array(2*E);for(y=S=0;y<E;)if((g=m[y++])<128)D[S++]=g;else if(4<(P=f[g]))D[S++]=65533,y+=P-1;else{for(g&=2===P?31:3===P?15:7;1<P&&y<E;)g=g<<6|63&m[y++],P--;1<P?D[S++]=65533:g<65536?D[S++]=g:(D[S++]=55296|(g-=65536)>>10&1023,D[S++]=56320|1023&g)}return v(D,S)},i.utf8border=function(m,w){var y;for((w=w||m.length)>m.length&&(w=m.length),y=w-1;0<=y&&128==(192&m[y]);)y--;return y<0||0===y?w:y+f[m[y]]>w?y:w}},{"./common":41}],43:[function(e,r,i){r.exports=function(s,a,c,f){for(var u=65535&s|0,v=s>>>16&65535|0,m=0;0!==c;){for(c-=m=2e3<c?2e3:c;v=v+(u=u+a[f++]|0)|0,--m;);u%=65521,v%=65521}return u|v<<16|0}},{}],44:[function(e,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,i){var s=function(){for(var a,c=[],f=0;f<256;f++){a=f;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;c[f]=a}return c}();r.exports=function(a,c,f,u){var v=s,m=u+f;a^=-1;for(var w=u;w<m;w++)a=a>>>8^v[255&(a^c[w])];return-1^a}},{}],46:[function(e,r,i){var s,a=e("../utils/common"),c=e("./trees"),f=e("./adler32"),u=e("./crc32"),v=e("./messages"),S=-2,ue=258,ve=262,W=113;function Se(h,K){return h.msg=v[K],K}function ce(h){return(h<<1)-(4<h?9:0)}function fe(h){for(var K=h.length;0<=--K;)h[K]=0}function $(h){var K=h.state,V=K.pending;V>h.avail_out&&(V=h.avail_out),0!==V&&(a.arraySet(h.output,K.pending_buf,K.pending_out,V,h.next_out),h.next_out+=V,K.pending_out+=V,h.total_out+=V,h.avail_out-=V,K.pending-=V,0===K.pending&&(K.pending_out=0))}function q(h,K){c._tr_flush_block(h,0<=h.block_start?h.block_start:-1,h.strstart-h.block_start,K),h.block_start=h.strstart,$(h.strm)}function xe(h,K){h.pending_buf[h.pending++]=K}function ge(h,K){h.pending_buf[h.pending++]=K>>>8&255,h.pending_buf[h.pending++]=255&K}function pe(h,K){var V,T,b=h.max_chain_length,j=h.strstart,se=h.prev_length,ne=h.nice_match,Z=h.strstart>h.w_size-ve?h.strstart-(h.w_size-ve):0,he=h.window,_e=h.w_mask,me=h.prev,we=h.strstart+ue,Fe=he[j+se-1],Ae=he[j+se];h.prev_length>=h.good_match&&(b>>=2),ne>h.lookahead&&(ne=h.lookahead);do{if(he[(V=K)+se]===Ae&&he[V+se-1]===Fe&&he[V]===he[j]&&he[++V]===he[j+1]){j+=2,V++;do{}while(he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&he[++j]===he[++V]&&j<we);if(T=ue-(we-j),j=we-ue,se<T){if(h.match_start=K,ne<=(se=T))break;Fe=he[j+se-1],Ae=he[j+se]}}}while((K=me[K&_e])>Z&&0!=--b);return se<=h.lookahead?se:h.lookahead}function Ze(h){var K,V,T,b,j,se,ne,Z,he,_e,me=h.w_size;do{if(b=h.window_size-h.lookahead-h.strstart,h.strstart>=me+(me-ve)){for(a.arraySet(h.window,h.window,me,me,0),h.match_start-=me,h.strstart-=me,h.block_start-=me,K=V=h.hash_size;T=h.head[--K],h.head[K]=me<=T?T-me:0,--V;);for(K=V=me;T=h.prev[--K],h.prev[K]=me<=T?T-me:0,--V;);b+=me}if(0===h.strm.avail_in)break;if(ne=h.window,Z=h.strstart+h.lookahead,_e=void 0,(he=b)<(_e=(se=h.strm).avail_in)&&(_e=he),V=0===_e?0:(se.avail_in-=_e,a.arraySet(ne,se.input,se.next_in,_e,Z),1===se.state.wrap?se.adler=f(se.adler,ne,_e,Z):2===se.state.wrap&&(se.adler=u(se.adler,ne,_e,Z)),se.next_in+=_e,se.total_in+=_e,_e),h.lookahead+=V,h.lookahead+h.insert>=3)for(h.ins_h=h.window[j=h.strstart-h.insert],h.ins_h=(h.ins_h<<h.hash_shift^h.window[j+1])&h.hash_mask;h.insert&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[j+3-1])&h.hash_mask,h.prev[j&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=j,j++,h.insert--,!(h.lookahead+h.insert<3)););}while(h.lookahead<ve&&0!==h.strm.avail_in)}function Ge(h,K){for(var V,T;;){if(h.lookahead<ve){if(Ze(h),h.lookahead<ve&&0===K)return 1;if(0===h.lookahead)break}if(V=0,h.lookahead>=3&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+3-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!==V&&h.strstart-V<=h.w_size-ve&&(h.match_length=pe(h,V)),h.match_length>=3)if(T=c._tr_tally(h,h.strstart-h.match_start,h.match_length-3),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=3){for(h.match_length--;h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+3-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart,0!=--h.match_length;);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else T=c._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(T&&(q(h,!1),0===h.strm.avail_out))return 1}return h.insert=h.strstart<2?h.strstart:2,4===K?(q(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(q(h,!1),0===h.strm.avail_out)?1:2}function Ie(h,K){for(var V,T,b;;){if(h.lookahead<ve){if(Ze(h),h.lookahead<ve&&0===K)return 1;if(0===h.lookahead)break}if(V=0,h.lookahead>=3&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+3-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=2,0!==V&&h.prev_length<h.max_lazy_match&&h.strstart-V<=h.w_size-ve&&(h.match_length=pe(h,V),h.match_length<=5&&(1===h.strategy||3===h.match_length&&4096<h.strstart-h.match_start)&&(h.match_length=2)),h.prev_length>=3&&h.match_length<=h.prev_length){for(b=h.strstart+h.lookahead-3,T=c._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-3),h.lookahead-=h.prev_length-1,h.prev_length-=2;++h.strstart<=b&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+3-1])&h.hash_mask,V=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!=--h.prev_length;);if(h.match_available=0,h.match_length=2,h.strstart++,T&&(q(h,!1),0===h.strm.avail_out))return 1}else if(h.match_available){if((T=c._tr_tally(h,0,h.window[h.strstart-1]))&&q(h,!1),h.strstart++,h.lookahead--,0===h.strm.avail_out)return 1}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(T=c._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<2?h.strstart:2,4===K?(q(h,!0),0===h.strm.avail_out?3:4):h.last_lit&&(q(h,!1),0===h.strm.avail_out)?1:2}function je(h,K,V,T,b){this.good_length=h,this.max_lazy=K,this.nice_length=V,this.max_chain=T,this.func=b}function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(h){var K;return h&&h.state?(h.total_in=h.total_out=0,h.data_type=2,(K=h.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:W,h.adler=2===K.wrap?0:1,K.last_flush=0,c._tr_init(K),0):Se(h,S)}function He(h){var V,K=Me(h);return 0===K&&((V=h.state).window_size=2*V.w_size,fe(V.head),V.max_lazy_match=s[V.level].max_lazy,V.good_match=s[V.level].good_length,V.nice_match=s[V.level].nice_length,V.max_chain_length=s[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0),K}function Xe(h,K,V,T,b,j){if(!h)return S;var se=1;if(-1===K&&(K=6),T<0?(se=0,T=-T):15<T&&(se=2,T-=16),b<1||9<b||8!==V||T<8||15<T||K<0||9<K||j<0||4<j)return Se(h,S);8===T&&(T=9);var ne=new Ue;return(h.state=ne).strm=h,ne.wrap=se,ne.gzhead=null,ne.w_bits=T,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=b+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new a.Buf8(2*ne.w_size),ne.head=new a.Buf16(ne.hash_size),ne.prev=new a.Buf16(ne.w_size),ne.lit_bufsize=1<<b+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new a.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=K,ne.strategy=j,ne.method=V,He(h)}s=[new je(0,0,0,0,function(h,K){var V=65535;for(V>h.pending_buf_size-5&&(V=h.pending_buf_size-5);;){if(h.lookahead<=1){if(Ze(h),0===h.lookahead&&0===K)return 1;if(0===h.lookahead)break}h.strstart+=h.lookahead,h.lookahead=0;var T=h.block_start+V;if((0===h.strstart||h.strstart>=T)&&(h.lookahead=h.strstart-T,h.strstart=T,q(h,!1),0===h.strm.avail_out)||h.strstart-h.block_start>=h.w_size-ve&&(q(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,4===K?(q(h,!0),0===h.strm.avail_out?3:4):(h.strstart>h.block_start&&q(h,!1),1)}),new je(4,4,8,4,Ge),new je(4,5,16,8,Ge),new je(4,6,32,32,Ge),new je(4,4,16,16,Ie),new je(8,16,32,32,Ie),new je(8,16,128,128,Ie),new je(8,32,128,256,Ie),new je(32,128,258,1024,Ie),new je(32,258,258,4096,Ie)],i.deflateInit=function(h,K){return Xe(h,K,8,15,8,0)},i.deflateInit2=Xe,i.deflateReset=He,i.deflateResetKeep=Me,i.deflateSetHeader=function(h,K){return h&&h.state?2!==h.state.wrap?S:(h.state.gzhead=K,0):S},i.deflate=function(h,K){var V,T,b,j;if(!h||!h.state||5<K||K<0)return h?Se(h,S):S;if(T=h.state,!h.output||!h.input&&0!==h.avail_in||666===T.status&&4!==K)return Se(h,0===h.avail_out?-5:S);if(T.strm=h,V=T.last_flush,T.last_flush=K,42===T.status)if(2===T.wrap)h.adler=0,xe(T,31),xe(T,139),xe(T,8),T.gzhead?(xe(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),xe(T,255&T.gzhead.time),xe(T,T.gzhead.time>>8&255),xe(T,T.gzhead.time>>16&255),xe(T,T.gzhead.time>>24&255),xe(T,9===T.level?2:2<=T.strategy||T.level<2?4:0),xe(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(xe(T,255&T.gzhead.extra.length),xe(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(h.adler=u(h.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(xe(T,0),xe(T,0),xe(T,0),xe(T,0),xe(T,0),xe(T,9===T.level?2:2<=T.strategy||T.level<2?4:0),xe(T,3),T.status=W);else{var se=8+(T.w_bits-8<<4)<<8;se|=(2<=T.strategy||T.level<2?0:T.level<6?1:6===T.level?2:3)<<6,0!==T.strstart&&(se|=32),se+=31-se%31,T.status=W,ge(T,se),0!==T.strstart&&(ge(T,h.adler>>>16),ge(T,65535&h.adler)),h.adler=1}if(69===T.status)if(T.gzhead.extra){for(b=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),$(h),b=T.pending,T.pending!==T.pending_buf_size));)xe(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(73===T.status)if(T.gzhead.name){b=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),$(h),b=T.pending,T.pending===T.pending_buf_size)){j=1;break}j=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,xe(T,j)}while(0!==j);T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),0===j&&(T.gzindex=0,T.status=91)}else T.status=91;if(91===T.status)if(T.gzhead.comment){b=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),$(h),b=T.pending,T.pending===T.pending_buf_size)){j=1;break}j=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,xe(T,j)}while(0!==j);T.gzhead.hcrc&&T.pending>b&&(h.adler=u(h.adler,T.pending_buf,T.pending-b,b)),0===j&&(T.status=103)}else T.status=103;if(103===T.status&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&$(h),T.pending+2<=T.pending_buf_size&&(xe(T,255&h.adler),xe(T,h.adler>>8&255),h.adler=0,T.status=W)):T.status=W),0!==T.pending){if($(h),0===h.avail_out)return T.last_flush=-1,0}else if(0===h.avail_in&&ce(K)<=ce(V)&&4!==K)return Se(h,-5);if(666===T.status&&0!==h.avail_in)return Se(h,-5);if(0!==h.avail_in||0!==T.lookahead||0!==K&&666!==T.status){var ne=2===T.strategy?function(Z,he){for(var _e;;){if(0===Z.lookahead&&(Ze(Z),0===Z.lookahead)){if(0===he)return 1;break}if(Z.match_length=0,_e=c._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,_e&&(q(Z,!1),0===Z.strm.avail_out))return 1}return Z.insert=0,4===he?(q(Z,!0),0===Z.strm.avail_out?3:4):Z.last_lit&&(q(Z,!1),0===Z.strm.avail_out)?1:2}(T,K):3===T.strategy?function(Z,he){for(var _e,me,we,Fe,Ae=Z.window;;){if(Z.lookahead<=ue){if(Ze(Z),Z.lookahead<=ue&&0===he)return 1;if(0===Z.lookahead)break}if(Z.match_length=0,Z.lookahead>=3&&0<Z.strstart&&(me=Ae[we=Z.strstart-1])===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]){Fe=Z.strstart+ue;do{}while(me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&me===Ae[++we]&&we<Fe);Z.match_length=ue-(Fe-we),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=3?(_e=c._tr_tally(Z,1,Z.match_length-3),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(_e=c._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),_e&&(q(Z,!1),0===Z.strm.avail_out))return 1}return Z.insert=0,4===he?(q(Z,!0),0===Z.strm.avail_out?3:4):Z.last_lit&&(q(Z,!1),0===Z.strm.avail_out)?1:2}(T,K):s[T.level].func(T,K);if(3!==ne&&4!==ne||(T.status=666),1===ne||3===ne)return 0===h.avail_out&&(T.last_flush=-1),0;if(2===ne&&(1===K?c._tr_align(T):5!==K&&(c._tr_stored_block(T,0,0,!1),3===K&&(fe(T.head),0===T.lookahead&&(T.strstart=0,T.block_start=0,T.insert=0))),$(h),0===h.avail_out))return T.last_flush=-1,0}return 4!==K?0:T.wrap<=0?1:(2===T.wrap?(xe(T,255&h.adler),xe(T,h.adler>>8&255),xe(T,h.adler>>16&255),xe(T,h.adler>>24&255),xe(T,255&h.total_in),xe(T,h.total_in>>8&255),xe(T,h.total_in>>16&255),xe(T,h.total_in>>24&255)):(ge(T,h.adler>>>16),ge(T,65535&h.adler)),$(h),0<T.wrap&&(T.wrap=-T.wrap),0!==T.pending?0:1)},i.deflateEnd=function(h){var K;return h&&h.state?42!==(K=h.state.status)&&69!==K&&73!==K&&91!==K&&103!==K&&K!==W&&666!==K?Se(h,S):(h.state=null,K===W?Se(h,-3):0):S},i.deflateSetDictionary=function(h,K){var V,T,b,j,se,ne,Z,he,_e=K.length;if(!h||!h.state||2===(j=(V=h.state).wrap)||1===j&&42!==V.status||V.lookahead)return S;for(1===j&&(h.adler=f(h.adler,K,_e,0)),V.wrap=0,_e>=V.w_size&&(0===j&&(fe(V.head),V.strstart=0,V.block_start=0,V.insert=0),he=new a.Buf8(V.w_size),a.arraySet(he,K,_e-V.w_size,V.w_size,0),K=he,_e=V.w_size),se=h.avail_in,ne=h.next_in,Z=h.input,h.avail_in=_e,h.next_in=0,h.input=K,Ze(V);V.lookahead>=3;){for(T=V.strstart,b=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[T+3-1])&V.hash_mask,V.prev[T&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=T,T++,--b;);V.strstart=T,V.lookahead=2,Ze(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,h.next_in=ne,h.input=Z,h.avail_in=se,V.wrap=j,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,i){r.exports=function(s,a){var c,f,u,v,m,w,y,S,g,P,E,D,N,L,A,H,M,Q,G,ue,ve,R,W,p,X;p=s.input,u=(f=s.next_in)+(s.avail_in-5),X=s.output,m=(v=s.next_out)-(a-s.avail_out),w=v+(s.avail_out-257),y=(c=s.state).dmax,S=c.wsize,g=c.whave,P=c.wnext,E=c.window,D=c.hold,N=c.bits,L=c.lencode,A=c.distcode,H=(1<<c.lenbits)-1,M=(1<<c.distbits)-1;e:do{N<15&&(D+=p[f++]<<N,D+=p[f++]<<(N+=8),N+=8),Q=L[D&H];t:for(;;){if(D>>>=G=Q>>>24,N-=G,0==(G=Q>>>16&255))X[v++]=65535&Q;else{if(!(16&G)){if(0==(64&G)){Q=L[(65535&Q)+(D&(1<<G)-1)];continue t}if(32&G){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}ue=65535&Q,(G&=15)&&(N<G&&(D+=p[f++]<<N,N+=8),ue+=D&(1<<G)-1,D>>>=G,N-=G),N<15&&(D+=p[f++]<<N,D+=p[f++]<<(N+=8),N+=8),Q=A[D&M];r:for(;;){if(D>>>=G=Q>>>24,N-=G,!(16&(G=Q>>>16&255))){if(0==(64&G)){Q=A[(65535&Q)+(D&(1<<G)-1)];continue r}s.msg="invalid distance code",c.mode=30;break e}if(ve=65535&Q,N<(G&=15)&&(D+=p[f++]<<N,(N+=8)<G&&(D+=p[f++]<<N,N+=8)),y<(ve+=D&(1<<G)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(D>>>=G,N-=G,(G=v-m)<ve){if(g<(G=ve-G)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(W=E,(R=0)===P){if(R+=S-G,G<ue){for(ue-=G;X[v++]=E[R++],--G;);R=v-ve,W=X}}else if(P<G){if(R+=S+P-G,(G-=P)<ue){for(ue-=G;X[v++]=E[R++],--G;);if(R=0,P<ue){for(ue-=G=P;X[v++]=E[R++],--G;);R=v-ve,W=X}}}else if(R+=P-G,G<ue){for(ue-=G;X[v++]=E[R++],--G;);R=v-ve,W=X}for(;2<ue;)X[v++]=W[R++],X[v++]=W[R++],X[v++]=W[R++],ue-=3;ue&&(X[v++]=W[R++],1<ue&&(X[v++]=W[R++]))}else{for(R=v-ve;X[v++]=X[R++],X[v++]=X[R++],X[v++]=X[R++],2<(ue-=3););ue&&(X[v++]=X[R++],1<ue&&(X[v++]=X[R++]))}break}}break}}while(f<u&&v<w);f-=ue=N>>3,D&=(1<<(N-=ue<<3))-1,s.next_in=f,s.next_out=v,s.avail_in=f<u?u-f+5:5-(f-u),s.avail_out=v<w?w-v+257:257-(v-w),c.hold=D,c.bits=N}},{}],49:[function(e,r,i){var s=e("../utils/common"),a=e("./adler32"),c=e("./crc32"),f=e("./inffast"),u=e("./inftrees"),y=-2;function E(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(R){var W;return R&&R.state?(R.total_in=R.total_out=(W=R.state).total=0,R.msg="",W.wrap&&(R.adler=1&W.wrap),W.mode=1,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new s.Buf32(852),W.distcode=W.distdyn=new s.Buf32(592),W.sane=1,W.back=-1,0):y}function L(R){var W;return R&&R.state?((W=R.state).wsize=0,W.whave=0,W.wnext=0,N(R)):y}function A(R,W){var p,X;return R&&R.state?(X=R.state,W<0?(p=0,W=-W):(p=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?y:(null!==X.window&&X.wbits!==W&&(X.window=null),X.wrap=p,X.wbits=W,L(R))):y}function H(R,W){var p,X;return R?(X=new D,(R.state=X).window=null,0!==(p=A(R,W))&&(R.state=null),p):y}var M,Q,G=!0;function ue(R){if(G){var W;for(M=new s.Buf32(512),Q=new s.Buf32(32),W=0;W<144;)R.lens[W++]=8;for(;W<256;)R.lens[W++]=9;for(;W<280;)R.lens[W++]=7;for(;W<288;)R.lens[W++]=8;for(u(1,R.lens,0,288,M,0,R.work,{bits:9}),W=0;W<32;)R.lens[W++]=5;u(2,R.lens,0,32,Q,0,R.work,{bits:5}),G=!1}R.lencode=M,R.lenbits=9,R.distcode=Q,R.distbits=5}function ve(R,W,p,X){var ke,te=R.state;return null===te.window&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new s.Buf8(te.wsize)),X>=te.wsize?(s.arraySet(te.window,W,p-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(X<(ke=te.wsize-te.wnext)&&(ke=X),s.arraySet(te.window,W,p-X,ke,te.wnext),(X-=ke)?(s.arraySet(te.window,W,p-X,X,0),te.wnext=X,te.whave=te.wsize):(te.wnext+=ke,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=ke))),0}i.inflateReset=L,i.inflateReset2=A,i.inflateResetKeep=N,i.inflateInit=function(R){return H(R,15)},i.inflateInit2=H,i.inflate=function(R,W){var p,X,ke,te,Se,ce,fe,$,q,xe,ge,pe,Ze,Ge,Ie,je,Ue,Me,He,Xe,h,K,V,T,b=0,j=new s.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&0!==R.avail_in)return y;12===(p=R.state).mode&&(p.mode=13),Se=R.next_out,ke=R.output,te=R.next_in,X=R.input,$=p.hold,q=p.bits,xe=ce=R.avail_in,ge=fe=R.avail_out,K=0;e:for(;;)switch(p.mode){case 1:if(0===p.wrap){p.mode=13;break}for(;q<16;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(2&p.wrap&&35615===$){j[p.check=0]=255&$,j[1]=$>>>8&255,p.check=c(p.check,j,2,0),q=$=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&$)<<8)+($>>8))%31){R.msg="incorrect header check",p.mode=30;break}if(8!=(15&$)){R.msg="unknown compression method",p.mode=30;break}if(q-=4,h=8+(15&($>>>=4)),0===p.wbits)p.wbits=h;else if(h>p.wbits){R.msg="invalid window size",p.mode=30;break}p.dmax=1<<h,R.adler=p.check=1,p.mode=512&$?10:12,q=$=0;break;case 2:for(;q<16;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(p.flags=$,8!=(255&p.flags)){R.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){R.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=$>>8&1),512&p.flags&&(j[0]=255&$,j[1]=$>>>8&255,p.check=c(p.check,j,2,0)),q=$=0,p.mode=3;case 3:for(;q<32;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.head&&(p.head.time=$),512&p.flags&&(j[0]=255&$,j[1]=$>>>8&255,j[2]=$>>>16&255,j[3]=$>>>24&255,p.check=c(p.check,j,4,0)),q=$=0,p.mode=4;case 4:for(;q<16;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.head&&(p.head.xflags=255&$,p.head.os=$>>8),512&p.flags&&(j[0]=255&$,j[1]=$>>>8&255,p.check=c(p.check,j,2,0)),q=$=0,p.mode=5;case 5:if(1024&p.flags){for(;q<16;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.length=$,p.head&&(p.head.extra_len=$),512&p.flags&&(j[0]=255&$,j[1]=$>>>8&255,p.check=c(p.check,j,2,0)),q=$=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(ce<(pe=p.length)&&(pe=ce),pe&&(p.head&&(h=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),s.arraySet(p.head.extra,X,te,pe,h)),512&p.flags&&(p.check=c(p.check,X,pe,te)),ce-=pe,te+=pe,p.length-=pe),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(0===ce)break e;for(pe=0;h=X[te+pe++],p.head&&h&&p.length<65536&&(p.head.name+=String.fromCharCode(h)),h&&pe<ce;);if(512&p.flags&&(p.check=c(p.check,X,pe,te)),ce-=pe,te+=pe,h)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(0===ce)break e;for(pe=0;h=X[te+pe++],p.head&&h&&p.length<65536&&(p.head.comment+=String.fromCharCode(h)),h&&pe<ce;);if(512&p.flags&&(p.check=c(p.check,X,pe,te)),ce-=pe,te+=pe,h)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;q<16;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if($!==(65535&p.check)){R.msg="header crc mismatch",p.mode=30;break}q=$=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),R.adler=p.check=0,p.mode=12;break;case 10:for(;q<32;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}R.adler=p.check=E($),q=$=0,p.mode=11;case 11:if(0===p.havedict)return R.next_out=Se,R.avail_out=fe,R.next_in=te,R.avail_in=ce,p.hold=$,p.bits=q,2;R.adler=p.check=1,p.mode=12;case 12:if(5===W||6===W)break e;case 13:if(p.last){$>>>=7&q,q-=7&q,p.mode=27;break}for(;q<3;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}switch(p.last=1&$,q-=1,3&($>>>=1)){case 0:p.mode=14;break;case 1:if(ue(p),p.mode=20,6!==W)break;$>>>=2,q-=2;break e;case 2:p.mode=17;break;case 3:R.msg="invalid block type",p.mode=30}$>>>=2,q-=2;break;case 14:for($>>>=7&q,q-=7&q;q<32;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if((65535&$)!=($>>>16^65535)){R.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&$,q=$=0,p.mode=15,6===W)break e;case 15:p.mode=16;case 16:if(pe=p.length){if(ce<pe&&(pe=ce),fe<pe&&(pe=fe),0===pe)break e;s.arraySet(ke,X,te,pe,Se),ce-=pe,te+=pe,fe-=pe,Se+=pe,p.length-=pe;break}p.mode=12;break;case 17:for(;q<14;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(p.nlen=257+(31&$),q-=5,p.ndist=1+(31&($>>>=5)),q-=5,p.ncode=4+(15&($>>>=5)),$>>>=4,q-=4,286<p.nlen||30<p.ndist){R.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;q<3;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.lens[se[p.have++]]=7&$,$>>>=3,q-=3}for(;p.have<19;)p.lens[se[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,K=u(0,p.lens,0,19,p.lencode,0,p.work,V={bits:p.lenbits}),p.lenbits=V.bits,K){R.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;je=(b=p.lencode[$&(1<<p.lenbits)-1])>>>16&255,Ue=65535&b,!((Ie=b>>>24)<=q);){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(Ue<16)$>>>=Ie,q-=Ie,p.lens[p.have++]=Ue;else{if(16===Ue){for(T=Ie+2;q<T;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if($>>>=Ie,q-=Ie,0===p.have){R.msg="invalid bit length repeat",p.mode=30;break}h=p.lens[p.have-1],pe=3+(3&$),$>>>=2,q-=2}else if(17===Ue){for(T=Ie+3;q<T;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}q-=Ie,h=0,pe=3+(7&($>>>=Ie)),$>>>=3,q-=3}else{for(T=Ie+7;q<T;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}q-=Ie,h=0,pe=11+(127&($>>>=Ie)),$>>>=7,q-=7}if(p.have+pe>p.nlen+p.ndist){R.msg="invalid bit length repeat",p.mode=30;break}for(;pe--;)p.lens[p.have++]=h}}if(30===p.mode)break;if(0===p.lens[256]){R.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,K=u(1,p.lens,0,p.nlen,p.lencode,0,p.work,V={bits:p.lenbits}),p.lenbits=V.bits,K){R.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,K=u(2,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,V={bits:p.distbits}),p.distbits=V.bits,K){R.msg="invalid distances set",p.mode=30;break}if(p.mode=20,6===W)break e;case 20:p.mode=21;case 21:if(6<=ce&&258<=fe){R.next_out=Se,R.avail_out=fe,R.next_in=te,R.avail_in=ce,p.hold=$,p.bits=q,f(R,ge),Se=R.next_out,ke=R.output,fe=R.avail_out,te=R.next_in,X=R.input,ce=R.avail_in,$=p.hold,q=p.bits,12===p.mode&&(p.back=-1);break}for(p.back=0;je=(b=p.lencode[$&(1<<p.lenbits)-1])>>>16&255,Ue=65535&b,!((Ie=b>>>24)<=q);){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(je&&0==(240&je)){for(Me=Ie,He=je,Xe=Ue;je=(b=p.lencode[Xe+(($&(1<<Me+He)-1)>>Me)])>>>16&255,Ue=65535&b,!(Me+(Ie=b>>>24)<=q);){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}$>>>=Me,q-=Me,p.back+=Me}if($>>>=Ie,q-=Ie,p.back+=Ie,p.length=Ue,0===je){p.mode=26;break}if(32&je){p.back=-1,p.mode=12;break}if(64&je){R.msg="invalid literal/length code",p.mode=30;break}p.extra=15&je,p.mode=22;case 22:if(p.extra){for(T=p.extra;q<T;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.length+=$&(1<<p.extra)-1,$>>>=p.extra,q-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;je=(b=p.distcode[$&(1<<p.distbits)-1])>>>16&255,Ue=65535&b,!((Ie=b>>>24)<=q);){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if(0==(240&je)){for(Me=Ie,He=je,Xe=Ue;je=(b=p.distcode[Xe+(($&(1<<Me+He)-1)>>Me)])>>>16&255,Ue=65535&b,!(Me+(Ie=b>>>24)<=q);){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}$>>>=Me,q-=Me,p.back+=Me}if($>>>=Ie,q-=Ie,p.back+=Ie,64&je){R.msg="invalid distance code",p.mode=30;break}p.offset=Ue,p.extra=15&je,p.mode=24;case 24:if(p.extra){for(T=p.extra;q<T;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}p.offset+=$&(1<<p.extra)-1,$>>>=p.extra,q-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){R.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(0===fe)break e;if(p.offset>(pe=ge-fe)){if((pe=p.offset-pe)>p.whave&&p.sane){R.msg="invalid distance too far back",p.mode=30;break}Ze=pe>p.wnext?p.wsize-(pe-=p.wnext):p.wnext-pe,pe>p.length&&(pe=p.length),Ge=p.window}else Ge=ke,Ze=Se-p.offset,pe=p.length;for(fe<pe&&(pe=fe),fe-=pe,p.length-=pe;ke[Se++]=Ge[Ze++],--pe;);0===p.length&&(p.mode=21);break;case 26:if(0===fe)break e;ke[Se++]=p.length,fe--,p.mode=21;break;case 27:if(p.wrap){for(;q<32;){if(0===ce)break e;ce--,$|=X[te++]<<q,q+=8}if(R.total_out+=ge-=fe,p.total+=ge,ge&&(R.adler=p.check=p.flags?c(p.check,ke,ge,Se-ge):a(p.check,ke,ge,Se-ge)),ge=fe,(p.flags?$:E($))!==p.check){R.msg="incorrect data check",p.mode=30;break}q=$=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;q<32;){if(0===ce)break e;ce--,$+=X[te++]<<q,q+=8}if($!==(4294967295&p.total)){R.msg="incorrect length check",p.mode=30;break}q=$=0}p.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;default:return y}return R.next_out=Se,R.avail_out=fe,R.next_in=te,R.avail_in=ce,p.hold=$,p.bits=q,(p.wsize||ge!==R.avail_out&&p.mode<30&&(p.mode<27||4!==W))&&ve(R,R.output,R.next_out,ge-R.avail_out)?(p.mode=31,-4):(ge-=R.avail_out,R.total_in+=xe-=R.avail_in,R.total_out+=ge,p.total+=ge,p.wrap&&ge&&(R.adler=p.check=p.flags?c(p.check,ke,ge,R.next_out-ge):a(p.check,ke,ge,R.next_out-ge)),R.data_type=p.bits+(p.last?64:0)+(12===p.mode?128:0)+(20===p.mode||15===p.mode?256:0),(0==xe&&0===ge||4===W)&&0===K&&(K=-5),K)},i.inflateEnd=function(R){if(!R||!R.state)return y;var W=R.state;return W.window&&(W.window=null),R.state=null,0},i.inflateGetHeader=function(R,W){var p;return R&&R.state?0==(2&(p=R.state).wrap)?y:((p.head=W).done=!1,0):y},i.inflateSetDictionary=function(R,W){var p,X=W.length;return R&&R.state?0!==(p=R.state).wrap&&11!==p.mode?y:11===p.mode&&a(1,W,X,0)!==p.check?-3:ve(R,W,X,X)?(p.mode=31,-4):(p.havedict=1,0):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,i){var s=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,m,w,y,S,g,P,E){var D,N,L,A,H,M,Q,G,ue,ve=E.bits,R=0,W=0,p=0,X=0,ke=0,te=0,Se=0,ce=0,fe=0,$=0,q=null,xe=0,ge=new s.Buf16(16),pe=new s.Buf16(16),Ze=null,Ge=0;for(R=0;R<=15;R++)ge[R]=0;for(W=0;W<y;W++)ge[m[w+W]]++;for(ke=ve,X=15;1<=X&&0===ge[X];X--);if(X<ke&&(ke=X),0===X)return S[g++]=20971520,S[g++]=20971520,E.bits=1,0;for(p=1;p<X&&0===ge[p];p++);for(ke<p&&(ke=p),R=ce=1;R<=15;R++)if(ce<<=1,(ce-=ge[R])<0)return-1;if(0<ce&&(0===v||1!==X))return-1;for(pe[1]=0,R=1;R<15;R++)pe[R+1]=pe[R]+ge[R];for(W=0;W<y;W++)0!==m[w+W]&&(P[pe[m[w+W]]++]=W);if(M=0===v?(q=Ze=P,19):1===v?(q=a,xe-=257,Ze=c,Ge-=257,256):(q=f,Ze=u,-1),R=p,H=g,Se=W=$=0,L=-1,A=(fe=1<<(te=ke))-1,1===v&&852<fe||2===v&&592<fe)return 1;for(;;){for(Q=R-Se,ue=P[W]<M?(G=0,P[W]):P[W]>M?(G=Ze[Ge+P[W]],q[xe+P[W]]):(G=96,0),D=1<<R-Se,p=N=1<<te;S[H+($>>Se)+(N-=D)]=Q<<24|G<<16|ue|0,0!==N;);for(D=1<<R-1;$&D;)D>>=1;if(0!==D?($&=D-1,$+=D):$=0,W++,0==--ge[R]){if(R===X)break;R=m[w+P[W]]}if(ke<R&&($&A)!==L){for(0===Se&&(Se=ke),H+=p,ce=1<<(te=R-Se);te+Se<X&&!((ce-=ge[te+Se])<=0);)te++,ce<<=1;if(fe+=1<<te,1===v&&852<fe||2===v&&592<fe)return 1;S[L=$&A]=ke<<24|te<<16|H-g|0}}return 0!==$&&(S[H+$]=R-Se<<24|64<<16|0),E.bits=ke,0}},{"../utils/common":41}],51:[function(e,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,i){var s=e("../utils/common");function f(b){for(var j=b.length;0<=--j;)b[j]=0}var m=256,w=286,y=30,P=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=new Array(576);f(ve);var R=new Array(60);f(R);var W=new Array(512);f(W);var p=new Array(256);f(p);var X=new Array(29);f(X);var ke,te,Se,ce=new Array(y);function fe(b,j,se,ne,Z){this.static_tree=b,this.extra_bits=j,this.extra_base=se,this.elems=ne,this.max_length=Z,this.has_stree=b&&b.length}function $(b,j){this.dyn_tree=b,this.max_code=0,this.stat_desc=j}function q(b){return b<256?W[b]:W[256+(b>>>7)]}function xe(b,j){b.pending_buf[b.pending++]=255&j,b.pending_buf[b.pending++]=j>>>8&255}function ge(b,j,se){b.bi_valid>16-se?(b.bi_buf|=j<<b.bi_valid&65535,xe(b,b.bi_buf),b.bi_buf=j>>16-b.bi_valid,b.bi_valid+=se-16):(b.bi_buf|=j<<b.bi_valid&65535,b.bi_valid+=se)}function pe(b,j,se){ge(b,se[2*j],se[2*j+1])}function Ze(b,j){for(var se=0;se|=1&b,b>>>=1,se<<=1,0<--j;);return se>>>1}function Ge(b,j,se){var ne,Z,he=new Array(16),_e=0;for(ne=1;ne<=P;ne++)he[ne]=_e=_e+se[ne-1]<<1;for(Z=0;Z<=j;Z++){var me=b[2*Z+1];0!==me&&(b[2*Z]=Ze(he[me]++,me))}}function Ie(b){var j;for(j=0;j<w;j++)b.dyn_ltree[2*j]=0;for(j=0;j<y;j++)b.dyn_dtree[2*j]=0;for(j=0;j<19;j++)b.bl_tree[2*j]=0;b.dyn_ltree[512]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function je(b){8<b.bi_valid?xe(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Ue(b,j,se,ne){var Z=2*j,he=2*se;return b[Z]<b[he]||b[Z]===b[he]&&ne[j]<=ne[se]}function Me(b,j,se){for(var ne=b.heap[se],Z=se<<1;Z<=b.heap_len&&(Z<b.heap_len&&Ue(j,b.heap[Z+1],b.heap[Z],b.depth)&&Z++,!Ue(j,ne,b.heap[Z],b.depth));)b.heap[se]=b.heap[Z],se=Z,Z<<=1;b.heap[se]=ne}function He(b,j,se){var ne,Z,he,_e,me=0;if(0!==b.last_lit)for(;ne=b.pending_buf[b.d_buf+2*me]<<8|b.pending_buf[b.d_buf+2*me+1],Z=b.pending_buf[b.l_buf+me],me++,0===ne?pe(b,Z,j):(pe(b,(he=p[Z])+m+1,j),0!==(_e=M[he])&&ge(b,Z-=X[he],_e),pe(b,he=q(--ne),se),0!==(_e=Q[he])&&ge(b,ne-=ce[he],_e)),me<b.last_lit;);pe(b,256,j)}function Xe(b,j){var se,ne,Z,he=j.dyn_tree,_e=j.stat_desc.static_tree,me=j.stat_desc.has_stree,we=j.stat_desc.elems,Fe=-1;for(b.heap_len=0,b.heap_max=573,se=0;se<we;se++)0!==he[2*se]?(b.heap[++b.heap_len]=Fe=se,b.depth[se]=0):he[2*se+1]=0;for(;b.heap_len<2;)he[2*(Z=b.heap[++b.heap_len]=Fe<2?++Fe:0)]=1,b.depth[Z]=0,b.opt_len--,me&&(b.static_len-=_e[2*Z+1]);for(j.max_code=Fe,se=b.heap_len>>1;1<=se;se--)Me(b,he,se);for(Z=we;se=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Me(b,he,1),ne=b.heap[1],b.heap[--b.heap_max]=se,b.heap[--b.heap_max]=ne,he[2*Z]=he[2*se]+he[2*ne],b.depth[Z]=(b.depth[se]>=b.depth[ne]?b.depth[se]:b.depth[ne])+1,he[2*se+1]=he[2*ne+1]=Z,b.heap[1]=Z++,Me(b,he,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(Ae,Qe){var dt,et,_t,qe,gt,Pe,nt=Qe.dyn_tree,Pt=Qe.max_code,st=Qe.stat_desc.static_tree,cr=Qe.stat_desc.has_stree,Ye=Qe.stat_desc.extra_bits,Gt=Qe.stat_desc.extra_base,ee=Qe.stat_desc.max_length,mt=0;for(qe=0;qe<=P;qe++)Ae.bl_count[qe]=0;for(nt[2*Ae.heap[Ae.heap_max]+1]=0,dt=Ae.heap_max+1;dt<573;dt++)ee<(qe=nt[2*nt[2*(et=Ae.heap[dt])+1]+1]+1)&&(qe=ee,mt++),nt[2*et+1]=qe,Pt<et||(Ae.bl_count[qe]++,gt=0,Gt<=et&&(gt=Ye[et-Gt]),Ae.opt_len+=(Pe=nt[2*et])*(qe+gt),cr&&(Ae.static_len+=Pe*(st[2*et+1]+gt)));if(0!==mt){do{for(qe=ee-1;0===Ae.bl_count[qe];)qe--;Ae.bl_count[qe]--,Ae.bl_count[qe+1]+=2,Ae.bl_count[ee]--,mt-=2}while(0<mt);for(qe=ee;0!==qe;qe--)for(et=Ae.bl_count[qe];0!==et;)Pt<(_t=Ae.heap[--dt])||(nt[2*_t+1]!==qe&&(Ae.opt_len+=(qe-nt[2*_t+1])*nt[2*_t],nt[2*_t+1]=qe),et--)}}(b,j),Ge(he,Fe,b.bl_count)}function h(b,j,se){var ne,Z,he=-1,_e=j[1],me=0,we=7,Fe=4;for(0===_e&&(we=138,Fe=3),j[2*(se+1)+1]=65535,ne=0;ne<=se;ne++)Z=_e,_e=j[2*(ne+1)+1],++me<we&&Z===_e||(me<Fe?b.bl_tree[2*Z]+=me:0!==Z?(Z!==he&&b.bl_tree[2*Z]++,b.bl_tree[32]++):me<=10?b.bl_tree[34]++:b.bl_tree[36]++,he=Z,Fe=(me=0)===_e?(we=138,3):Z===_e?(we=6,3):(we=7,4))}function K(b,j,se){var ne,Z,he=-1,_e=j[1],me=0,we=7,Fe=4;for(0===_e&&(we=138,Fe=3),ne=0;ne<=se;ne++)if(Z=_e,_e=j[2*(ne+1)+1],!(++me<we&&Z===_e)){if(me<Fe)for(;pe(b,Z,b.bl_tree),0!=--me;);else 0!==Z?(Z!==he&&(pe(b,Z,b.bl_tree),me--),pe(b,16,b.bl_tree),ge(b,me-3,2)):me<=10?(pe(b,17,b.bl_tree),ge(b,me-3,3)):(pe(b,18,b.bl_tree),ge(b,me-11,7));he=Z,Fe=(me=0)===_e?(we=138,3):Z===_e?(we=6,3):(we=7,4)}}f(ce);var V=!1;function T(b,j,se,ne){var Z,he,_e;ge(b,0+(ne?1:0),3),he=j,_e=se,je(Z=b),xe(Z,_e),xe(Z,~_e),s.arraySet(Z.pending_buf,Z.window,he,_e,Z.pending),Z.pending+=_e}i._tr_init=function(b){V||(function(){var j,se,ne,Z,he,_e=new Array(16);for(Z=ne=0;Z<28;Z++)for(X[Z]=ne,j=0;j<1<<M[Z];j++)p[ne++]=Z;for(p[ne-1]=Z,Z=he=0;Z<16;Z++)for(ce[Z]=he,j=0;j<1<<Q[Z];j++)W[he++]=Z;for(he>>=7;Z<y;Z++)for(ce[Z]=he<<7,j=0;j<1<<Q[Z]-7;j++)W[256+he++]=Z;for(se=0;se<=P;se++)_e[se]=0;for(j=0;j<=143;)ve[2*j+1]=8,j++,_e[8]++;for(;j<=255;)ve[2*j+1]=9,j++,_e[9]++;for(;j<=279;)ve[2*j+1]=7,j++,_e[7]++;for(;j<=287;)ve[2*j+1]=8,j++,_e[8]++;for(Ge(ve,287,_e),j=0;j<y;j++)R[2*j+1]=5,R[2*j]=Ze(j,5);ke=new fe(ve,M,257,w,P),te=new fe(R,Q,0,y,P),Se=new fe(new Array(0),G,0,19,7)}(),V=!0),b.l_desc=new $(b.dyn_ltree,ke),b.d_desc=new $(b.dyn_dtree,te),b.bl_desc=new $(b.bl_tree,Se),b.bi_buf=0,b.bi_valid=0,Ie(b)},i._tr_stored_block=T,i._tr_flush_block=function(b,j,se,ne){var Z,he,_e=0;0<b.level?(2===b.strm.data_type&&(b.strm.data_type=function(me){var we,Fe=4093624447;for(we=0;we<=31;we++,Fe>>>=1)if(1&Fe&&0!==me.dyn_ltree[2*we])return 0;if(0!==me.dyn_ltree[18]||0!==me.dyn_ltree[20]||0!==me.dyn_ltree[26])return 1;for(we=32;we<m;we++)if(0!==me.dyn_ltree[2*we])return 1;return 0}(b)),Xe(b,b.l_desc),Xe(b,b.d_desc),_e=function(me){var we;for(h(me,me.dyn_ltree,me.l_desc.max_code),h(me,me.dyn_dtree,me.d_desc.max_code),Xe(me,me.bl_desc),we=18;3<=we&&0===me.bl_tree[2*ue[we]+1];we--);return me.opt_len+=3*(we+1)+5+5+4,we}(b),(he=b.static_len+3+7>>>3)<=(Z=b.opt_len+3+7>>>3)&&(Z=he)):Z=he=se+5,se+4<=Z&&-1!==j?T(b,j,se,ne):4===b.strategy||he===Z?(ge(b,2+(ne?1:0),3),He(b,ve,R)):(ge(b,4+(ne?1:0),3),function(me,we,Fe,Ae){var Qe;for(ge(me,we-257,5),ge(me,Fe-1,5),ge(me,Ae-4,4),Qe=0;Qe<Ae;Qe++)ge(me,me.bl_tree[2*ue[Qe]+1],3);K(me,me.dyn_ltree,we-1),K(me,me.dyn_dtree,Fe-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,_e+1),He(b,b.dyn_ltree,b.dyn_dtree)),Ie(b),ne&&je(b)},i._tr_tally=function(b,j,se){return b.pending_buf[b.d_buf+2*b.last_lit]=j>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&j,b.pending_buf[b.l_buf+b.last_lit]=255&se,b.last_lit++,0===j?b.dyn_ltree[2*se]++:(b.matches++,j--,b.dyn_ltree[2*(p[se]+m+1)]++,b.dyn_dtree[2*q(j)]++),b.last_lit===b.lit_bufsize-1},i._tr_align=function(b){var j;ge(b,2,3),pe(b,256,ve),16===(j=b).bi_valid?(xe(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,i){(function(s){!function(a,c){if(!a.setImmediate){var f,u,v,m,w=1,y={},S=!1,g=a.document,P=Object.getPrototypeOf&&Object.getPrototypeOf(a);P=P&&P.setTimeout?P:a,f="[object process]"==={}.toString.call(a.process)?function(L){wt.nextTick(function(){D(L)})}:function(){if(a.postMessage&&!a.importScripts){var L=!0,A=a.onmessage;return a.onmessage=function(){L=!1},a.postMessage("","*"),a.onmessage=A,L}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",N,!1):a.attachEvent("onmessage",N),function(L){a.postMessage(m+L,"*")}):a.MessageChannel?((v=new MessageChannel).port1.onmessage=function(L){D(L.data)},function(L){v.port2.postMessage(L)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(L){var A=g.createElement("script");A.onreadystatechange=function(){D(L),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(L){setTimeout(D,0,L)},P.setImmediate=function(L){"function"!=typeof L&&(L=new Function(""+L));for(var A=new Array(arguments.length-1),H=0;H<A.length;H++)A[H]=arguments[H+1];return y[w]={callback:L,args:A},f(w),w++},P.clearImmediate=E}function E(L){delete y[L]}function D(L){if(S)setTimeout(D,0,L);else{var A=y[L];if(A){S=!0;try{!function(H){var M=H.callback,Q=H.args;switch(Q.length){case 0:M();break;case 1:M(Q[0]);break;case 2:M(Q[0],Q[1]);break;case 3:M(Q[0],Q[1],Q[2]);break;default:M.apply(undefined,Q)}}(A)}finally{E(L),S=!1}}}}function N(L){L.source===a&&"string"==typeof L.data&&0===L.data.indexOf(m)&&D(+L.data.slice(m.length))}}(typeof self>"u"?void 0===s?this:s:self)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)});const vi=class{constructor(n){(0,xr.r)(this,n),this.importProgress=(0,xr.c)(this,"jeepSqliteImportProgress",7),this.exportProgress=(0,xr.c)(this,"jeepSqliteExportProgress",7),this.HTTPRequestEnded=(0,xr.c)(this,"jeepSqliteHTTPRequestEnded",7),this.isStore=!1,this._dbDict={},this.databaseList={},this._versionUpgrades={},this.autoSave=!1,this.wasmPath=void 0,this.innerAutoSave=void 0,this.innerWasmPath=void 0}parseAutoSave(n){this.innerAutoSave=n}parseWasmPath(n){this.innerWasmPath=n}echo(n){return(0,z.Z)(function*(){return n})()}createConnection(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=n.version?n.version:1,s=!!n.readonly&&n.readonly;try{return yield t._createConnection(r,i,s),Promise.resolve()}catch(a){return Promise.reject(a)}})()}isConnection(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly,s=yield t._isConnection(r,i);return Promise.resolve(s)})()}closeConnection(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._closeConnection(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}open(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._open(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}close(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._close(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}getVersion(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._getVersion(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}execute(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statements")||0===n.statements.length)return Promise.reject("Must provide raw SQL statements");const r=n.database,i=n.statements;let s=!0;const a=!!n.readonly&&n.readonly;e.includes("transaction")&&(s=n.transaction);try{const c=yield t._execute(r,i,s,a);return Promise.resolve(c)}catch(c){return Promise.reject(c)}})()}executeSet(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("set")||0===n.set.length)return Promise.reject("Must provide a non-empty set of SQL statements");const r=n.database,i=n.set;let s=!0;e.includes("transaction")&&(s=n.transaction);const a=!!n.readonly&&n.readonly;try{const c=yield t._executeSet(r,i,s,a);return Promise.resolve(c)}catch(c){return Promise.reject(c)}})()}run(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||0===n.statement.length)return Promise.reject("Must provide a run statement");const r=n.database,i=n.statement;let s=[];e.includes("values")&&(s=n.values.length>0?n.values:[]);let a=!0;e.includes("transaction")&&(a=n.transaction);const c=!!n.readonly&&n.readonly;try{const f=yield t._run(r,i,s,a,c);return Promise.resolve(f)}catch(f){return Promise.reject(f)}})()}query(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||0===n.statement.length)return Promise.reject("Must provide a query statement");let r=[];e.includes("values")&&(r=n.values.length>0?n.values:[]);const i=n.database,s=n.statement,a=!!n.readonly&&n.readonly;try{const c=yield t._query(i,s,r,a);return Promise.resolve(c)}catch(c){return Promise.reject(c)}})()}getTableList(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._getTableList(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}isDBExists(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._isDBExists(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}isDBOpen(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._isDBOpen(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}deleteDatabase(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._deleteDatabase(r,i)}catch(s){return Promise.reject(s)}})()}isStoreOpen(){var n=this;return(0,z.Z)(function*(){return Promise.resolve(n.isStore)})()}copyFromAssets(n){var t=this;return(0,z.Z)(function*(){let e;if(e=null==n||!Object.keys(n).includes("overwrite")||n.overwrite,!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);try{return yield t._copyFromAssets(e),Promise.resolve()}catch(r){return Promise.reject(r)}})()}isTableExists(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);const e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");const r=n.database;if(!e.includes("table"))return Promise.reject("Must provide a table name");const i=n.table,s=!!n.readonly&&n.readonly;try{const a=yield t._isTableExists(r,i,s);return Promise.resolve(a)}catch(a){return Promise.reject(a)}})()}createSyncTable(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._createSyncTable(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}getSyncDate(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{const s=yield t._getSyncDate(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}setSyncDate(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("syncdate"))return Promise.reject("Must provide a synchronization date");const r=n.database,i=n.syncdate,s=!!n.readonly&&n.readonly;try{return yield t._setSyncDate(r,i,s),Promise.resolve()}catch(a){return Promise.reject(a)}})()}isJsonValid(n){var t=this;return(0,z.Z)(function*(){if(!Object.keys(n).includes("jsonstring"))return Promise.reject("Must provide a json object");const r=n.jsonstring;try{const i=yield t._isJsonValid(r);return Promise.resolve(i)}catch(i){return Promise.reject(i)}})()}importFromJson(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("jsonstring"))return Promise.reject("Must provide a json object");const r=n.jsonstring;try{const i=yield t._importFromJson(r);return Promise.resolve(i)}catch(i){return Promise.reject(i)}})()}exportToJson(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);const e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("jsonexportmode"))return Promise.reject("Must provide a json export mode");const r=n.database,i=n.jsonexportmode,s=!!n.readonly&&n.readonly;try{const a=yield t._exportToJson(r,i,s);return Promise.resolve(a)}catch(a){return Promise.reject(a)}})()}deleteExportedRows(n){var t=this;return(0,z.Z)(function*(){if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._deleteExportedRows(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}addUpgradeStatement(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);let e=Object.keys(n);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("upgrade"))return Promise.reject("Must provide an upgrade capSQLiteVersionUpgrade Object");const r=n.database,i=n.upgrade;for(const s of i){const a=Object.keys(s);if(!a.includes("toVersion")||!a.includes("statements"))return Promise.reject("Must provide an upgrade capSQLiteVersionUpgrade Object");if("number"!=typeof s.toVersion)return Promise.reject("upgrade.toVersion must be a number");if(t._versionUpgrades[r])t._versionUpgrades[r][s.toVersion]=s;else{const c={};c[s.toVersion]=s,t._versionUpgrades[r]=c}}return Promise.resolve()})()}isDatabase(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database;try{const i=yield t._isDatabase(r);return Promise.resolve(i)}catch(i){return Promise.reject(i)}})()}getDatabaseList(){var n=this;return(0,z.Z)(function*(){if(!n.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${n.storeName} is not opened`);try{const t=yield n._getDatabaseList();return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}checkConnectionsConsistency(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);const e=Object.keys(n);if(!e.includes("dbNames"))return Promise.reject("Must provide a list of connection's name");const r=n.dbNames;if(!e.includes("openModes"))return Promise.reject("Must provide a list of connection's open mode");const i=n.openModes;try{const s=yield t._checkConnectionsConsistency(r,i);return Promise.resolve(s)}catch(s){return Promise.reject(s)}})()}saveToStore(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("database"))return Promise.reject("Must provide a database name");const r=n.database,i=!!n.readonly&&n.readonly;try{return yield t._saveToStore(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}getFromHTTPRequest(n){var t=this;return(0,z.Z)(function*(){if(!t.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${t.storeName} is not opened`);if(!Object.keys(n).includes("url"))return Promise.reject("Must provide an url");const r=n.url,i=!n.overwrite||n.overwrite;try{return yield t._getFromHTTPRequest(r,i),Promise.resolve()}catch(s){return Promise.reject(s)}})()}componentWillLoad(){var n=this;return(0,z.Z)(function*(){n.isStore=yield n.openStore("jeepSqliteStore","databases"),n.parseAutoSave(void 0!==n.autoSave&&n.autoSave),n.parseWasmPath(void 0!==n.wasmPath?n.wasmPath:"/assets")})()}componentDidLoad(){this.isStore||console.log("jeep-sqlite isStore = false")}_createConnection(n,t,e){var r=this;return(0,z.Z)(function*(){let i={};const s=Object.keys(r._versionUpgrades);0!==s.length&&s.includes(n)&&(i=r._versionUpgrades[n]);const a=Object.keys(r._dbDict);let c;try{return c=a.length>0&&(a.includes("RW_"+n)||a.includes("RO_"+n))?a.includes("RW_"+n)?r._dbDict["RW_"+n]:r._dbDict["RO_"+n]:new _i(n+"SQLite.db",t,i,r.store,r.innerAutoSave,r.innerWasmPath),r._dbDict[e?"RO_"+n:"RW_"+n]=c,Promise.resolve()}catch(f){return Promise.reject(f.message)}})()}_isConnection(n,t){var e=this;return(0,z.Z)(function*(){return Object.keys(e._dbDict).includes(t?"RO_"+n:"RW_"+n)?{result:!0}:{result:!1}})()}_closeConnection(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`CloseConnection: No available connection for ${n}`);const s=e._dbDict[i];try{if(s.isDBOpen())try{yield s.close()}catch(a){return Promise.reject(`CloseConnection: close ${n} failed ${a}`)}return delete e._dbDict[i],Promise.resolve()}catch(a){return Promise.reject(`CloseConnection: ${a.message}`)}})()}_open(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`Open: No available connection for ${n}`);const s=e._dbDict[i];try{return yield s.open(),Promise.resolve()}catch(a){return Promise.reject(`Open: ${a.message}`)}})()}_close(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`Close: No available connection for ${n}`);const s=e._dbDict[i];try{return yield s.close(),Promise.resolve()}catch(a){return Promise.reject(`Close: ${a.message}`)}})()}_saveToStore(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`SaveToStore: No available connection for ${n}`);const s=e._dbDict[i];try{return yield s.saveToStore(),Promise.resolve()}catch(a){return Promise.reject(`SaveToStore: ${a.message}`)}})()}_getVersion(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`Open: No available connection for ${n}`);const s=e._dbDict[i];try{const a=yield s.getVersion(),c={};return c.version=a,Promise.resolve(c)}catch(a){return Promise.reject(`Open: ${a.message}`)}})()}_execute(n,t,e,r){var i=this;return(0,z.Z)(function*(){const s=Object.keys(i._dbDict),a="RW_"+n;if(!s.includes(a))return Promise.reject(`Execute: No available connection for ${n}`);const c=i._dbDict[a];if(r)return Promise.reject("Execute: not allowed in read-only mode");let f={};const u=t[0].substring(0,6);if(i.innerAutoSave&&"COMMIT"===u)return f.changes.changes=0,Promise.resolve(f);try{return f={changes:{changes:yield c.executeSQL(t,e)}},Promise.resolve(f)}catch(v){return Promise.reject(`Execute: ${v.message}`)}})()}_executeSet(n,t,e,r){var i=this;return(0,z.Z)(function*(){const s=Object.keys(i._dbDict),a="RW_"+n;if(!s.includes(a))return Promise.reject(`ExecuteSet: No available connection for ${n}`);const c=i._dbDict[a];if(r)return Promise.reject("ExecuteSet: not allowed in read-only mode");for(const f of t)if(!("statement"in f)||!("values"in f))return Promise.reject("ExecuteSet: Must provide a set as Array of {statement,values}");try{const f=yield c.execSet(t,e);return Promise.resolve({changes:{changes:f.changes,lastId:f.lastId}})}catch(f){return Promise.reject(`ExecuteSet: ${f.message}`)}})()}_run(n,t,e,r,i){var s=this;return(0,z.Z)(function*(){const a=Object.keys(s._dbDict),c="RW_"+n;if(!a.includes(c))return Promise.reject(`Run: No available connection for ${n}`);const f=s._dbDict[c];if(i)return Promise.reject("Run: not allowed in read-only mode");let u={};const v=t.substring(0,6);if(s.innerAutoSave&&"COMMIT"===v)return u={changes:{changes:0}},Promise.resolve(u);try{const m=yield f.runSQL(t,e,r);return u={changes:{changes:m.changes,lastId:m.lastId}},Promise.resolve(u)}catch(m){return Promise.reject(`Run: ${m.message}`)}})()}_query(n,t,e,r){var i=this;return(0,z.Z)(function*(){const s=Object.keys(i._dbDict),a=r?"RO_"+n:"RW_"+n;if(!s.includes(a))return Promise.reject(`Query: No available connection for ${n}`);const c=i._dbDict[a];let f=[];const u=t.substring(0,6);if(i.innerAutoSave&&"COMMIT"===u)return Promise.resolve({values:f});try{return f=yield c.selectSQL(t,e),Promise.resolve({values:f})}catch(v){return Promise.reject(`Query failed: ${v.message}`)}})()}_getTableList(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`GetTableList: No available connection for ${n}`);const s=e._dbDict[i];let a=[];try{return a=yield s.getTableNames(),Promise.resolve({values:a})}catch(c){return Promise.reject(`GetTableList failed: ${c.message}`)}})()}_isDBExists(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`IsDBExists: No available connection for ${n}`);const s=e._dbDict[i];try{const c={result:yield s.isDBExists(n+"SQLite.db")};return Promise.resolve(c)}catch(a){return Promise.reject(`IsDBExists: ${a.message}`)}})()}_isDBOpen(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`IsDBOpen: No available connection for ${n}`);const s=e._dbDict[i];try{const c={result:yield s.isDBOpen(n+"SQLite.db")};return Promise.resolve(c)}catch(a){return Promise.reject(`IsDBOpen: ${a.message}`)}})()}_deleteDatabase(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i="RW_"+n;if(!r.includes(i))return Promise.reject(`DeleteDatabase: No available connection for ${n}`);const s=e._dbDict[i];if(t)return Promise.reject("DeleteDatabase: not allowed in read-only mode");try{return yield s.deleteDB(n+"SQLite.db"),Promise.resolve()}catch(a){return Promise.reject(`DeleteDatabase: ${a.message}`)}})()}_isTableExists(n,t,e){var r=this;return(0,z.Z)(function*(){const i=Object.keys(r._dbDict),s=e?"RO_"+n:"RW_"+n;if(!i.includes(s))return Promise.reject(`IsTableExists: No available connection for ${n}`);const a=r._dbDict[s];try{const f={result:yield a.isTable(t)};return Promise.resolve(f)}catch(c){return Promise.reject(`IsTableExists: ${c.message}`)}})()}_createSyncTable(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i="RW_"+n;if(!r.includes(i))return Promise.reject(`CreateSyncTable: No available connection for ${n}`);const s=e._dbDict[i];if(t)return Promise.reject("CreateSyncTable: not allowed in read-only mode");try{const a=yield s.createSyncTable();return Promise.resolve({changes:{changes:a}})}catch(a){return Promise.reject(`CreateSyncTable: ${a.message}`)}})()}_getSyncDate(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i=t?"RO_"+n:"RW_"+n;if(!r.includes(i))return Promise.reject(`GetSyncDate: No available connection for ${n}`);const s=e._dbDict[i];try{const a=yield s.getSyncDate();return Promise.resolve({syncDate:a})}catch(a){return Promise.reject(`GetSyncDate: ${a.message}`)}})()}_setSyncDate(n,t,e){var r=this;return(0,z.Z)(function*(){const i=Object.keys(r._dbDict),s="RW_"+n;if(!i.includes(s))return Promise.reject(`SetSyncDate: No available connection for ${n}`);const a=r._dbDict[s];if(e)return Promise.reject("SetSyncDate: not allowed in read-only mode");try{const c=yield a.setSyncDate(t);return c.result?Promise.resolve():Promise.reject(`SetSyncDate: ${c.message}`)}catch(c){return Promise.reject(`SetSyncDate: ${c.message}`)}})()}_isJsonValid(n){return(0,z.Z)(function*(){const t=JSON.parse(n);return(yield ln(t))?Promise.resolve({result:!0}):Promise.reject("IsJsonValid: Stringify Json Object not Valid")})()}_importFromJson(n){var t=this;return(0,z.Z)(function*(){var e,r;const i=JSON.parse(n);if(!(yield ln(i)))return Promise.reject("ImportFromJson: Stringify Json Object not Valid");const a=i,c=`${a.database}SQLite.db`,f=null!==(e=a.version)&&void 0!==e?e:1,u=a.mode,v=null!==(r=a.overwrite)&&void 0!==r&&r,m=new _i(c,f,{},t.store,t.innerAutoSave,t.innerWasmPath);try{v&&"full"===u&&St(c,t.store)&&(yield tr(c,t.store)),yield m.open();const w=yield m.getTableNames();if("full"===u&&w.length>0){const S=yield m.getVersion();if(f<S)return Promise.reject(`ImportFromJson: Cannot import a version lower than ${S}`);if(S===f)return Promise.resolve({changes:{changes:0}})}const y=yield m.importJson(a,t.importProgress);return yield m.close(),Promise.resolve({changes:{changes:y}})}catch(w){return Promise.reject(`ImportFromJson: ${w.message}`)}})()}_exportToJson(n,t,e){var r=this;return(0,z.Z)(function*(){const i=Object.keys(r._dbDict),s=e?"RO_"+n:"RW_"+n;if(!i.includes(s))return Promise.reject(`ExportToJson: No available connection for ${n}`);const a=r._dbDict[s];try{const c=yield a.exportJson(t,r.exportProgress);return Object.keys(c).includes("message")?Promise.reject(`ExportToJson: ${c.message}`):Promise.resolve({export:c})}catch(c){return Promise.reject(`ExportToJson: ${c.message}`)}})()}_deleteExportedRows(n,t){var e=this;return(0,z.Z)(function*(){const r=Object.keys(e._dbDict),i="RW_"+n;if(!r.includes(i))return Promise.reject(`ExportToJson: No available connection for ${n}`);const s=e._dbDict[i];if(t)return Promise.reject("SetSyncDate: not allowed in read-only mode");try{yield s.deleteExportedRows()}catch(a){return Promise.reject(`DeleteExportedRows: ${a.message}`)}})()}_copyFromAssets(n){var t=this;return(0,z.Z)(function*(){const e=yield t.loadJSON("assets/databases/databases.json");if(null==e)return Promise.reject("CopyFromAssets: no databases.json file in assets/databases folder");if(t.databaseList=JSON.parse(e),!Object.keys(t.databaseList).includes("databaseList"))return Promise.reject("CopyFromAssets: no key databaseList in databases.json");try{for(const i of t.databaseList.databaseList)".db"===i.substring(i.length-3)&&(yield t.copyDatabase(`assets/databases/${i}`,n)),".zip"===i.substring(i.length-4)&&(yield t.unzipDatabase(`assets/databases/${i}`,n));return Promise.resolve()}catch(i){return Promise.reject(`CopyFromAssets: ${i.message}`)}})()}_getFromHTTPRequest(n,t){var e=this;return(0,z.Z)(function*(){try{let r;return".db"===n.substring(n.length-3)&&(yield e.copyDatabase(n,t),r="db"),".zip"===n.substring(n.length-4)&&(yield e.unzipDatabase(n,t),r="zip"),e.HTTPRequestEnded.emit({message:r}),Promise.resolve()}catch(r){return Promise.reject(`GetFromHTTPRequest: ${r.message}`)}})()}_isDatabase(n){var t=this;return(0,z.Z)(function*(){try{const r={result:yield St(n+"SQLite.db",t.store)};return Promise.resolve(r)}catch(e){return Promise.reject(`IsDatabase: ${e.message}`)}})()}_getDatabaseList(){var n=this;return(0,z.Z)(function*(){try{const e={values:yield Zs(n.store)};return Promise.resolve(e)}catch(t){return Promise.reject(`GetDatabaseList: ${t.message}`)}})()}_checkConnectionsConsistency(n,t){var e=this;return(0,z.Z)(function*(){const r={result:!1},i=[];n.forEach((s,a)=>{i.push(`${t[a]}_${s}`)});try{let s=new Set(Object.keys(e._dbDict));const a=new Set(i);if(0===a.size)return yield e._resetDbDict(Object.keys(e._dbDict)),Promise.resolve(r);if(s.size<a.size)return yield e._resetDbDict(Object.keys(e._dbDict)),Promise.resolve(r);if(s.size>a.size){const c={};for(const f of s)if(!Array.from(a.keys()).includes(f)){let u=!1;"RO_"===f.substring(0,3)&&(u=!0),c.database=f.substring(3),c.readonly=u,yield e._closeConnection(c.database,c.readonly)}}return s=new Set(Object.keys(e._dbDict)),s.size===a.size&&0===(yield e.symmetricDifference(s,a)).size?(r.result=!0,Promise.resolve(r)):(yield e._resetDbDict(Object.keys(e._dbDict)),Promise.resolve(r))}catch(s){return Promise.reject(`CheckConnectionsConsistency: ${s.message}`)}})()}_resetDbDict(n){var t=this;return(0,z.Z)(function*(){try{for(const e of n){const r={};let i=!1;"RO_"===e.substring(0,3)&&(i=!0),r.database=e.substring(3),r.readonly=i,yield t._closeConnection(r.database,r.readonly)}}catch(e){return Promise.reject(`ResetDbDict: ${e.message}`)}})()}symmetricDifference(n,t){return(0,z.Z)(function*(){let e=new Set;n.forEach(i=>{e.add(i.substring(3))});let r=new Set;t.forEach(i=>{r.add(i.substring(3))});for(const i of r)e.has(i)?e.delete(i):e.add(i);return e})()}unzipDatabase(n,t){var e=this;return(0,z.Z)(function*(){return new Promise((r,i)=>{var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onerror=()=>{i(new Error("unzipDatabase: failed"))},s.onload=()=>{Po.loadAsync(s.response).then(function(){var a=(0,z.Z)(function*(c){const f=Object.keys(c.files);try{for(const u of f)yield e.retrieveDBFromZip(c.files,u,t);r()}catch(u){i(new Error(`unzipDatabase Error: ${u.message}`))}});return function(c){return a.apply(this,arguments)}}())},s.send()})})()}retrieveDBFromZip(n,t,e){var r=this;return(0,z.Z)(function*(){return new Promise((i,s)=>{n[t].async("nodebuffer").then(function(){var a=(0,z.Z)(function*(c){try{const f=new Uint8Array(c),u=r.setPathSuffix(t);(yield St(u,r.store))?e?(yield tr(u,r.store),yield Mt(u,f,r.store)):s(new Error(`retrieveDBFromZip: cannot overwrite ${u}`)):yield Mt(u,f,r.store),i()}catch(f){s(new Error(`retrieveDBFromZip:: ${f.message}`))}});return function(c){return a.apply(this,arguments)}}())})})()}copyDatabase(n,t){var e=this;return(0,z.Z)(function*(){return new Promise((r,i)=>{var a,s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onerror=()=>{i(new Error("CopyDatabase: failed"))},s.onload=()=>{a=new Uint8Array(s.response)},s.onloadend=(0,z.Z)(function*(){const c=e.setPathSuffix(n);(yield St(c,e.store))?t?(yield tr(c,e.store),yield Mt(c,a,e.store)):i(new Error(`CopyDatabase Error: cannot overwrite ${c}`)):yield Mt(c,a,e.store),r()}),s.send()})})()}loadJSON(n){return(0,z.Z)(function*(){return new Promise((t,e)=>{var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET",n,!0),r.onerror=()=>{e(new Error("LoadJSON: failed"))},r.onreadystatechange=function(){404==r.status&&t(null),4==r.readyState&&200==r.status&&t(r.responseText)},r.send(null)})})()}openStore(n,t){var e=this;return(0,z.Z)(function*(){let r=!1;const i=e.setConfig(n,t);return e.store=gi.createInstance(i),null!=e.store&&(e.storeName=n,r=!0),r})()}setConfig(n,t){return{name:n,storeName:t,driver:[gi.INDEXEDDB],version:1}}setPathSuffix(n){let t=n.slice(n.lastIndexOf("/")+1);return".db"===n.substring(n.length-3)&&(n.includes("SQLite.db")||(t=n.slice(n.lastIndexOf("/")+1,-3)+"SQLite.db")),t}render(){}static get assetsDirs(){return["assets"]}static get watchers(){return{autoSave:["parseAutoSave"],wasmPath:["parseWasmPath"]}}};vi.style=":host{display:block}#fileElem{display:none}"}}]);